<script>
    //These are just solutions to exercises...
    //The user can, but does not have to make a strong password
    function validate() {
        var password = document.pwd.password.value;
        if (password == "") {
            alert("{{tpassword}}");
            return false;
        }
        var confirmp = document.pwd.confirmp.value;
        if (confirmp == "") {
            alert("{{tconfirm}}");
            return false;
        } else if(confirmp != password){
            alert("{{tnopasswordmatch}}"); 
            return false; 
        }
        return true;
    }
</script>

<h1>{{ ttitle }}</h1>

<p>
{{db.user_email(request.user)}}
</p>

<form method="POST" name=pwd onsubmit='return validate()'>
    <label>{{tselect}}</label><br>
    <p><label for="fullname">{{tfullname}}</label>&nbsp;<input type="text" value="{{request.user.fullname}}" name="fullname"/></p>
    <p><label for="password">{{tpassword}}</label>&nbsp;<input type="password" name="password" /></p>
    <p><label for="confirmp">{{tconfirm}}*</label>&nbsp;<input type="password" name="confirmp" /></p>
    <p><input type="hidden" name="token" value="{{ defined('token') and token or ''}}" /></p>
    <p><input id="nbutton" class="grid_10" style="text-align:center" type="submit" value="{{ tupdate }}" /></p>
    <br>
</form>

% include('chcko/main')
