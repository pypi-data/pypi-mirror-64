(this["webpackJsonptina-talk-admin"]=this["webpackJsonptina-talk-admin"]||[]).push([[9],{1010:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(25),l=n(919),c=n.n(l),i=n(920),s=n(20),u=n(300),p=n.n(u),d=n(10);function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}function m(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(n,!0).forEach(function(t){Object(d.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var g={intent:"",use_yn:"N",response_type:"1",response_template:""};function b(){arguments.length>0&&void 0!==arguments[0]&&arguments[0];var e=arguments.length>1?arguments[1]:void 0;switch(e.type){case"SELECT_TEMPLATE":return void 0!==e.data?m({},e.data[0],{intent:e.intent,response_type:e.response_type}):m({},g,{intent:e.intent,response_type:e.response_type});default:throw new Error("Unhandled action type: ".concat(e.type))}}var v=Object(a.createContext)(),h=Object(a.createContext)();function E(e){var t=e.children,n=Object(a.useReducer)(b,g),o=Object(s.a)(n,2),l=o[0],c=o[1];return r.a.createElement(v.Provider,{value:l},r.a.createElement(h.Provider,{value:c},t))}function y(){var e=Object(a.useContext)(h);if(!e)throw new Error("Cannot find ResponseProvider");return e}var x=n(38),O=n.n(x),j="http://192.168.116.29:5002",w=j+"/api/projects/default",k=j+"/image/projects/default",_=j+"/image";function C(){return O.a.get(w+"/intents")}function S(e,t){return O.a.get(w+"/response"+"/".concat(e,"/").concat(t))}function P(e,t,n,a,r){return"INSERT"===r?O.a.post(w+"/response",{intent:e,use_yn:t,response_type:n,response_template:a}):"UPDATE"===r?O.a.put(w+"/response",{intent:e,use_yn:t,response_type:n,response_template:a}):void 0}function T(e,t){return O.a.delete(w+"/response"+"/".concat(e,"/").concat(t))}function D(e){var t=new FormData;return t.append("file",e[0]),O.a.post(k+"/upload_image",t,{headers:{"Content-Type":"multipart/form-data"}})}var N=n(890),z=n(880),R=n(834),L=n(896),I=n(885),A=n(968),Y=n.n(A),W=n(960),J=Object(W.a)(function(e){return{toolbar:e.mixins.toolbar}});function B(e){var t=e.reduce(function(e,t){var n=t.intent,a=t.response_type;return e[n]?e[n].push(a):e[n]=[a],e},{}),n=Object.entries(t).reduce(function(e,t){var n=Object(s.a)(t,2),a=n[0],r=n[1];return e.push({intent:a,response_type:r}),e},[]),a=[];return p.a.forEach(n,function(e,t){a.push({intent:e.intent})}),a}var U=r.a.memo(function(e){var t=e.project_id,n=J(),o=Object(a.useState)(!1),l=Object(s.a)(o,2),u=l[0],p=l[1],d=Object(a.useState)([]),f=Object(s.a)(d,2),m=f[0],g=f[1];Object(a.useEffect)(function(){console.log("[ResponseList] \ub9c8\uc6b4\ud2b8 \ub420 \ub54c\ub9cc \uc2e4\ud589\ub429\ub2c8\ub2e4."),function(){var e=Object(i.a)(c.a.mark(function e(){var t;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return p(!0),e.prev=1,e.next=4,C();case 4:t=e.sent,console.log(t),g(B(t.data)),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),console.log(e.t0);case 12:p(!1);case 13:case"end":return e.stop()}},e,null,[[1,9]])}));return function(){return e.apply(this,arguments)}}()()},[t]);var b=y();return u?(console.log("loading...."),r.a.createElement("p",{style:{textAlign:"center",marginTop:"300px"}},"\uc870\ud68c \uc911...")):0===m.length?(console.log("data empty"),r.a.createElement("p",{style:{textAlign:"center",marginTop:"300px",fontWeight:"bold"}},"\uc870\ud68c\ub0b4\uc5ed \uc5c6\uc74c")):(console.log("data load",m),r.a.createElement("div",null,r.a.createElement("div",{className:n.toolbar}),r.a.createElement(N.a,null),r.a.createElement(z.a,null,m.map(function(e,t){return r.a.createElement(R.a,{button:!0,key:e.intent,onClick:function(t){return n=e,void function(){var e=Object(i.a)(c.a.mark(function e(){var t;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,S(n.intent,"1");case 3:0===(t=e.sent).data.length?b({type:"SELECT_TEMPLATE",intent:n.intent,response_type:"1"}):b({type:"SELECT_TEMPLATE",intent:n.intent,response_type:"1",data:t.data}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log("err: ",e.t0);case 10:case"end":return e.stop()}},e,null,[[0,7]])}));return function(){return e.apply(this,arguments)}}()();var n}},r.a.createElement(L.a,null,r.a.createElement(Y.a,null)),r.a.createElement(I.a,{primary:e.intent}))}))))}),F=n(916),M=n(917),H=n(969),G=n.n(H),q=(n(970),n(971),n(893)),K=n(1e3),Q=n(1002),V=n(32),X=n(903),Z=n(1001),$=n(1003),ee=n(900),te=n(1004),ne=n(883);function ae(){var e=Object(F.a)(["\n  height: 374px;\n  overflow: auto;\n  font-size: 12px;\n  background: #757575;\n  /* border: solid 1px #3f51b5; */\n  border: solid 1px #e9ecef;\n  padding: 6px 6px 6px 6px;\n"]);return ae=function(){return e},e}function re(){var e=Object(F.a)(["\n  font-size: 12px;\n  /* border: solid 1px #ff1234; */\n  border: solid 1px #e9ecef;\n  margin-bottom: 12px;\n\n  /* pre {\n    outline: 1px solid #ccc;\n    padding: 5px;\n    margin: 5px;\n  }\n\n  .string {\n    color: green;\n  }\n  .number {\n    color: darkorange;\n  }\n  .boolean {\n    color: blue;\n  }\n  .null {\n    color: magenta;\n  }\n  .key {\n    color: red;\n  } */\n"]);return re=function(){return e},e}var oe=M.a.div(re()),le=M.a.div(ae());function ce(e){return"undefined"===typeof e||null===e||""===e}var ie=r.a.memo(function(e){var t=e.value,n=Object(V.a)(),o=Object(ne.a)(n.breakpoints.down("sm")),l=Object(a.useState)(!1),c=Object(s.a)(l,2),i=c[0],u=c[1],p=Object(a.useState)({image:"",image_title:""}),d=Object(s.a)(p,2),f=d[0],m=d[1],g=function(){m({image:"",image_title:""}),u(!1)},b=Object(a.useState)(""),v=Object(s.a)(b,2),h=v[0],E=v[1],y=Object(a.useState)({}),x=Object(s.a)(y,2),O=x[0],j=x[1];return Object(a.useEffect)(function(){var e,n=ce(t)?"":JSON.parse(t);console.log("response_template : ",n),e=ce(n)?"":JSON.stringify(n,void 0,4),E(e),j(ce(e)?{}:JSON.parse(e))},[t]),r.a.createElement(r.a.Fragment,null,r.a.createElement(oe,null,r.a.createElement(G.a,{id:"json-pretty",data:h,style:{background:"#1e1e1e",height:"300px",overflow:"auto"},mainStyle:"background: #1e1e1e; padding: 1em;"})),r.a.createElement(le,null,ce(O)?null:r.a.createElement("div",{className:"response"},r.a.createElement("div",{className:"message-text"},r.a.createElement("div",{className:"response"},r.a.createElement("div",{className:"message-text"},O.text)),r.a.createElement(q.a,{className:"btninfo-container",style:{background:"#3c4252"}},r.a.createElement(K.a,{subheader:O.content,style:{color:"#fff",fontSize:"12px",whiteSpace:"pre"}}),O.image&&r.a.createElement(Z.a,null,r.a.createElement(Q.a,{component:"img",alt:O.image_title,height:"140",image:O.image,title:O.image_title,onClick:function(){return function(e,t){m({image:e,image_title:t}),u(!0)}(O.image,O.image_title)}})),r.a.createElement($.a,{style:{justifyContent:"center"}},!ce(O.buttons)&&O.buttons.map(function(e,t){return r.a.createElement(X.a,{className:"btninfo-btn",key:t,size:"small",variant:"contained",color:"primary"},e.title)})))))),r.a.createElement(ee.a,{fullScreen:o,open:i,onClose:g,"aria-labelledby":"responsive-dialog-title"},r.a.createElement(te.a,null,r.a.createElement("img",{src:f.image,title:f.image_title,alt:f.image_title,onClick:g}))))}),se=n(12),ue=n(935),pe=n.n(ue),de=n(946),fe=n(1005),me=n(922),ge=n.n(me),be=n(832);function ve(){var e=Object(F.a)(["\n  /* margin: 0 12px 0 0; */\n  padding: 12px;\n  border-radius: 4px;\n  border: 1px solid #dee2e6;\n  width: 152px;\n  outline: none;\n  font-size: 14px;\n  box-sizing: border-box;\n  margin-right: 4px;\n"]);return ve=function(){return e},e}var he=M.a.input(ve());var Ee=r.a.memo(function(e){var t=e.id,n=e.title,o=e.payload,l=e.intent,c=e.onChangeBtnTitle,i=e.onDelete;console.log("[ButtonList] intent : %s, id: %s, title : %s, payload : %s",l,t,n,o);var u=Object(a.useState)(""),p=Object(s.a)(u,2),d=p[0],f=p[1],m=Object(a.useState)(""),g=Object(s.a)(m,2),b=g[0],v=g[1],h=void 0!==n?n:"",E=void 0!==o?o:"";Object(a.useEffect)(function(){f(h),v(E)},[h,E]);var y=function(e,n){console.log("handleInputChange : ",n);var a=d,r=b;1===n?(f(e.target.value),a=e.target.value):2===n&&(v(e.target.value),r=e.target.value),c(l,t,a,r)};return r.a.createElement("div",null,r.a.createElement(z.a,{dense:!1,disablePadding:!0},r.a.createElement(R.a,null,r.a.createElement(he,{id:t,placeholder:"\ubc84\ud2bc\uba85",autoComplete:"off",value:d,onChange:function(e){return y(e,1)}}),r.a.createElement(he,{id:t+"_payload",placeholder:"payload",autoComplete:"off",value:b,onChange:function(e){return y(e,2)}}),r.a.createElement(fe.a,null,r.a.createElement(be.a,{edge:"end","aria-label":"delete",onClick:function(){i(l,t,d,b)}},r.a.createElement(ge.a,{color:"error"}))))))}),ye=n(9),xe=n(828),Oe=n(891),je=n(838),we=n(1006),ke=n(154),_e=n(132),Ce=n(924),Se=n.n(Ce),Pe=n(936),Te=n.n(Pe),De=n(937),Ne=n.n(De),ze=n(938),Re=n.n(ze),Le=n(912),Ie=n(115),Ae=n(336),Ye=n(897);function We(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}function Je(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?We(n,!0).forEach(function(t){Object(d.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):We(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Be(){var e=Object(F.a)(["\n  /* margin: 0 12px 0 0; */\n  padding: 12px;\n  border-radius: 4px;\n  border: 1px solid #dee2e6;\n  /* width: 290px; */\n  width: 100%;\n  height: 95px;\n  font-size: 14px;\n  box-sizing: border-box;\n"]);return Be=function(){return e},e}function Ue(){var e=Object(F.a)(["\n  /* margin: 0 12px 0 0; */\n  padding: 12px;\n  border-radius: 4px;\n  border: 1px solid #dee2e6;\n  /* width: 290px; */\n  width: 100%;\n  outline: none;\n  font-size: 14px;\n  box-sizing: border-box;\n  margin-bottom: 4px;\n"]);return Ue=function(){return e},e}var Fe=Object(ye.a)(function(e){return{tooltip:{backgroundColor:"#f5f5f9",color:"rgba(0, 0, 0, 0.87)",maxWidth:220,fontSize:e.typography.pxToRem(12),border:"1px solid #dadde9"}}})(Ye.a),Me=Object(ye.a)(function(e){return{root:{color:"#fff",backgroundColor:Ie.a[500],"&:hover":{backgroundColor:Ie.a[700]}}}})(X.a),He=Object(ye.a)(function(e){return{root:{color:"#fff",backgroundColor:Ae.a[500],"&:hover":{backgroundColor:Ae.a[700]}}}})(X.a),Ge={display:"flex",flexDirection:"row",flexWrap:"wrap",marginTop:16},qe={display:"inline-flex",borderRadius:2,border:"1px solid #eaeaea",marginBottom:8,marginRight:8,width:100,height:100,padding:4,boxSizing:"border-box"},Ke={display:"flex",minWidth:0,overflow:"hidden"},Qe={display:"block",width:"auto",height:"100%"},Ve=Object(W.a)(function(e){return{root:{flexGrow:1},paper:{height:572,width:422,padding:"10px 10px 10px 10px",overflowY:"scroll",borderColor:"#e9ecef",borderStyle:"dashed",borderWidth:"1px",borderRadius:"2px"},control:{padding:e.spacing(2)},container:{display:"flex",flexDirection:"column",fontFamily:"sans-serif"},dropzone:{flex:1,display:"flex",flexDirection:"column",textAlign:"center",padding:"20px",borderWidth:"2px",borderRadius:"2px",borderColor:"#ced4da",borderStyle:"dashed",backgroundColor:"#e9ecef",color:"#bdbdbd",outline:"none",transition:"border .24s ease-in-out",cursor:"pointer"}}}),Xe=M.a.input(Ue()),Ze=M.a.textarea(Be());function $e(e){return"undefined"===typeof e||null===e||""===e}var et=r.a.memo(function(e){var t=e.value,n=e.onPreview;console.log("TemplateType1 : ",t);var o=Ve(),l=$e(t.intent)?"":t.intent,u=!$e(t.use_yn)&&"Y"===t.use_yn,p=$e(t.response_type)?"":t.response_type,d=$e(t.response_template)?"":JSON.parse(t.response_template),f=Object(a.useState)(""),m=Object(s.a)(f,2),g=m[0],b=m[1],v=Object(a.useState)([]),h=Object(s.a)(v,2),E=h[0],x=h[1],O=Object(a.useState)(!1),j=Object(s.a)(O,2),w=j[0],k=j[1];Object(a.useEffect)(function(){console.log("\ub9c8\uc6b4\ud2b8 \ub420 \ub54c\ub9cc \uc2e4\ud589\ub429\ub2c8\ub2e4."),k(u),b(d),x(""!==d?d.buttons:[]),L([])},[t]);var S=y(),N=Object(a.useState)([]),z=Object(s.a)(N,2),R=z[0],L=z[1],I=Object(de.a)({accept:"image/jpeg, image/png, image/gif",maxSize:20971520,multiple:!1,onDrop:function(e){console.log("acceptedFiles : ",e),function(){var t=Object(i.a)(c.a.mark(function t(){var n;return c.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,D(e);case 3:n=t.sent,console.log("[fetchUpload] response : ",n.data),""!==n.data?(console.log("\ud30c\uc77c \uc5c5\ub85c\ub4dc \uc644\ub8cc"),b(Je({},g,{image:_+"/"+n.data.filename,image_title:n.data.filename})),L(e.map(function(e){return Object.assign(e,{preview:_+"/"+e.name})}))):alert("\ud30c\uc77c \uc5c5\ub85c\ub4dc \uc911 \uc624\ub958\uac00 \ubc1c\uc0dd\ud558\uc600\uc2b5\ub2c8\ub2e4."),t.next=12;break;case 8:t.prev=8,t.t0=t.catch(0),console.log("err: ",t.t0),alert("\ud30c\uc77c \uc5c5\ub85c\ub4dc \uc911 \uc624\ub958\uac00 \ubc1c\uc0dd\ud558\uc600\uc2b5\ub2c8\ub2e4.");case 12:case"end":return t.stop()}},t,null,[[0,8]])}));return function(){return t.apply(this,arguments)}}()()}}),A=I.getRootProps,Y=I.getInputProps,W=R.map(function(e){return r.a.createElement("div",{style:qe,key:e.name},r.a.createElement("div",{style:Ke},r.a.createElement("img",{src:e.preview,style:Qe,alt:e.path,title:e.name+" ("+(t=e.size,t.toString().replace(/\B(?=(\d{3})+(?!\d))/g,","))+" bytes)"})));var t});Object(a.useEffect)(function(){return function(){R.forEach(function(e){return URL.revokeObjectURL(e.preview)})}},[R]);var J=function(e,t){1===t?b(Je({},g,{text:e.target.value})):3===t&&b(Je({},g,{content:e.target.value}))},B=function(e,t,n,a){console.log("onChangeBtnTitle - intent_id : %s, id: %s, title : %s, payload : %s",e,t,n,a);var r=E.map(function(e){return e.id===t?Je({},e,{title:n,payload:a}):e});console.log("update : ",r),x(r)},U=function(e,t,n,a){console.log("onDelete - intent_id : %s, id: %s, title : %s, payload: %s",e,t,n,a);var r=$e(n)?"\ud574\ub2f9 ":"'"+n+"' ";if(window.confirm(r+"\ubc84\ud2bc\uc744 \uc0ad\uc81c\ud558\uc2dc\uaca0\uc2b5\ub2c8\uae4c?")){var o=E.filter(function(e){return e.id!==t});x(o)}};return r.a.createElement("div",null,r.a.createElement(xe.a,{component:"fieldset"},r.a.createElement(je.a,{component:"legend",style:{padding:"10px 0px 16px 0px"}},"\ud15c\ud50c\ub9bf \uad6c\uc870"),r.a.createElement(we.a,{container:!0,className:o.root,spacing:2},r.a.createElement(we.a,{item:!0,xs:12},r.a.createElement(we.a,{key:1,item:!0},r.a.createElement(ke.a,{className:o.paper,id:"scrollElement"},r.a.createElement(Fe,{placement:"right",title:r.a.createElement(r.a.Fragment,null,"\uc0ac\uc6a9\uc5ec\ubd80\ub294 \uc778\ud150\ud2b8 \ubcc4\ub85c "," ",r.a.createElement("u",null,"\ud558\ub098\ub9cc")," ","\uc120\ud0dd\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4.")},r.a.createElement(Oe.a,{control:r.a.createElement(Le.a,{checked:w,onChange:function(e){k(e.target.checked)}}),label:"\uc0ac\uc6a9\uc5ec\ubd80"})),r.a.createElement(_e.a,{variant:"h6"},"\uc81c\ubaa9 ",r.a.createElement(Te.a,{color:"error"})),r.a.createElement("div",null,r.a.createElement(Xe,{placeholder:"\uc81c\ubaa9\uc744 \uc785\ub825\ud558\uc138\uc694.",autoFocus:!0,value:g&&g.text,onChange:function(e){return J(e,1)}})),r.a.createElement(_e.a,{variant:"h6"},"\uc774\ubbf8\uc9c0 ",r.a.createElement(Te.a,{color:"error"})),r.a.createElement("section",{className:o.container},r.a.createElement("div",A({className:o.dropzone}),r.a.createElement("input",Y()),r.a.createElement("p",null,"Drag 'n' drop some files here, or click to select files"),r.a.createElement("em",null,"(Only *.jpeg and *.png and *.gif images will be accepted)")),r.a.createElement("aside",{style:Ge},W)),r.a.createElement(_e.a,{variant:"h6"},"\ub0b4\uc6a9 ",r.a.createElement(Te.a,{color:"error"})),r.a.createElement(Ze,{placeholder:"\ub0b4\uc6a9\uc744 \uc785\ub825\ud558\uc138\uc694.",value:g&&g.content,onChange:function(e){return J(e,3)}}),r.a.createElement(_e.a,{variant:"h6"},"\ubc84\ud2bc \ubaa9\ub85d"),void 0!==E&&E.length>0&&E.map(function(e){return r.a.createElement(Ee,{key:e.id,id:e.id,title:e.title,payload:e.payload,intent:e.intent,onChangeBtnTitle:B,onDelete:U})}),r.a.createElement(X.a,{variant:"outlined",fullWidth:!0,startIcon:r.a.createElement(Se.a,null),onClick:function(e){x([].concat(Object(se.a)(E),[{intent:t.intent,id:pe()(),title:"",payload:""}]))},color:"secondary"},"\ubc84\ud2bc \ucd94\uac00"))),r.a.createElement("div",{style:{marginTop:"8px"}},r.a.createElement(Me,{variant:"contained",color:"primary",size:"small",style:{float:"right"},onClick:function(e){window.confirm("\ud15c\ud50c\ub9bf\uc744 \uc0ad\uc81c\ud558\uc2dc\uaca0\uc2b5\ub2c8\uae4c?")&&function(){var e=Object(i.a)(c.a.mark(function e(){var t;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,T(l,p);case 3:t=e.sent,console.log("[fetchTemplate] response : ",t.data),""!==t.data?(S({type:"SELECT_TEMPLATE",intent:l,response_type:p}),alert("\uc0ad\uc81c\ub418\uc5c8\uc2b5\ub2c8\ub2e4.")):alert("\uc0ad\uc81c \uc911 \uc624\ub958\uac00 \ubc1c\uc0dd\ud558\uc600\uc2b5\ub2c8\ub2e4."),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(0),console.log("err: ",e.t0),alert("\uc0ad\uc81c \uc911 \uc624\ub958\uac00 \ubc1c\uc0dd\ud558\uc600\uc2b5\ub2c8\ub2e4.");case 12:case"end":return e.stop()}},e,null,[[0,8]])}));return function(){return e.apply(this,arguments)}}()()},startIcon:r.a.createElement(ge.a,null)},"\uc0ad\uc81c"),r.a.createElement(X.a,{variant:"contained",color:"secondary",size:"small",style:{marginRight:"6px",float:"right"},onClick:function(e){console.log("handleSave : ",g);var n=$e(g.image)?R.length>0?R[0].preview:"":g.image,a=$e(g.image_title)?R.length>0?R[0].name:"":g.image_title,r=!0===w?"Y":"N";if($e(g.text))alert("\uc81c\ubaa9\uc744 \uc785\ub825\ud558\uc138\uc694.");else if($e(n))alert("\uc774\ubbf8\uc9c0\ub97c \uc5c5\ub85c\ub4dc\ud558\uc138\uc694.");else if($e(g.content))alert("\ub0b4\uc6a9\uc744 \uc785\ub825\ud558\uc138\uc694.");else{var o=Je({},g,{image:n,image_title:a,buttons:E}),s=0;if(E.forEach(function(e,t){""!==e.title&&""!==e.payload||s++}),s>0)alert("\ubc84\ud2bc\uba85 \ub610\ub294 payload\ub97c \uc785\ub825\ud558\uc9c0 \uc54a\uc740 \ubc84\ud2bc\uc774 \uc788\uc2b5\ub2c8\ub2e4.");else{console.log("saveData : ",JSON.stringify(o));var u=[];(function(){var e=Object(i.a)(c.a.mark(function e(){var n,a;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,"Y"!==r){e.next=11;break}return e.next=4,C();case 4:if(n=e.sent,u=n.data.filter(function(e){return e.intent===l}),a=0,u.forEach(function(e,t){"Y"===e.use_yn&&a++}),!(a>=1&"Y"!==t.use_yn)){e.next=11;break}return alert("\uc0ac\uc6a9\uac00\ub2a5\ud55c \ud15c\ud50c\ub9bf\uc740 \ud558\ub098\uc785\ub2c8\ub2e4."),e.abrupt("return");case 11:window.confirm("\ud15c\ud50c\ub9bf\uc744 \uc800\uc7a5\ud558\uc2dc\uaca0\uc2b5\ub2c8\uae4c?")&&function(){var e=Object(i.a)(c.a.mark(function e(){var n,a;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=$e(t.response_template)?"INSERT":"UPDATE",e.next=4,P(l,r,p,JSON.stringify(o),n);case 4:a=e.sent,console.log("[fetchTemplate] response : ",a),"INSERT"===n&&201===a.status||"UPDATE"===n&&200===a.status?alert("\uc800\uc7a5\ub418\uc5c8\uc2b5\ub2c8\ub2e4."):alert("\uc800\uc7a5 \uc911 \uc624\ub958\uac00 \ubc1c\uc0dd\ud558\uc600\uc2b5\ub2c8\ub2e4."),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(0),console.log("err: ",e.t0),alert("\uc800\uc7a5 \uc911 \uc624\ub958\uac00 \ubc1c\uc0dd\ud558\uc600\uc2b5\ub2c8\ub2e4.");case 13:case"end":return e.stop()}},e,null,[[0,9]])}));return function(){return e.apply(this,arguments)}}()(),e.next=19;break;case 15:return e.prev=15,e.t0=e.catch(0),console.log(e.t0),e.abrupt("return",null);case 19:case"end":return e.stop()}},e,null,[[0,15]])}));return function(){return e.apply(this,arguments)}})()()}}},startIcon:r.a.createElement(Ne.a,null)},"\uc800\uc7a5"),r.a.createElement(He,{variant:"contained",color:"secondary",size:"small",style:{float:"left"},onClick:function(e){console.log("handlePreview");var t=$e(g.image)?R.length>0?R[0].preview:"":g.image,a=$e(g.image_title)?R.length>0?R[0].name:"":g.image_title;if($e(g.text))alert("\uc81c\ubaa9\uc744 \uc785\ub825\ud558\uc138\uc694.");else if($e(t))alert("\uc774\ubbf8\uc9c0\ub97c \uc5c5\ub85c\ub4dc\ud558\uc138\uc694.");else if($e(g.content))alert("\ub0b4\uc6a9\uc744 \uc785\ub825\ud558\uc138\uc694.");else{var r=Je({},g,{image:t,image_title:a,buttons:E}),o=0;E.forEach(function(e,t){""!==e.title&&""!==e.payload||o++}),o>0?alert("\ubc84\ud2bc\uba85 \ub610\ub294 payload\ub97c \uc785\ub825\ud558\uc9c0 \uc54a\uc740 \ubc84\ud2bc\uc774 \uc788\uc2b5\ub2c8\ub2e4."):n(r)}},startIcon:r.a.createElement(Re.a,null)},"\ubbf8\ub9ac\ubcf4\uae30"))))))});function tt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}function nt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?tt(n,!0).forEach(function(t){Object(d.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):tt(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function at(){var e=Object(F.a)(["\n  /* margin: 0 12px 0 0; */\n  padding: 12px;\n  border-radius: 4px;\n  border: 1px solid #dee2e6;\n  /* width: 290px; */\n  width: 100%;\n  outline: none;\n  font-size: 14px;\n  box-sizing: border-box;\n  margin-bottom: 4px;\n"]);return at=function(){return e},e}var rt=Object(ye.a)(function(e){return{tooltip:{backgroundColor:"#f5f5f9",color:"rgba(0, 0, 0, 0.87)",maxWidth:220,fontSize:e.typography.pxToRem(12),border:"1px solid #dadde9"}}})(Ye.a),ot=Object(ye.a)(function(e){return{root:{color:"#fff",backgroundColor:Ie.a[500],"&:hover":{backgroundColor:Ie.a[700]}}}})(X.a),lt=Object(ye.a)(function(e){return{root:{color:"#fff",backgroundColor:Ae.a[500],"&:hover":{backgroundColor:Ae.a[700]}}}})(X.a),ct={display:"flex",flexDirection:"row",flexWrap:"wrap",marginTop:16},it={display:"inline-flex",borderRadius:2,border:"1px solid #eaeaea",marginBottom:8,marginRight:8,width:100,height:100,padding:4,boxSizing:"border-box"},st={display:"flex",minWidth:0,overflow:"hidden"},ut={display:"block",width:"auto",height:"100%"},pt=Object(W.a)(function(e){return{root:{flexGrow:1},paper:{height:572,width:422,padding:"10px 10px 10px 10px",overflowY:"scroll",borderColor:"#e9ecef",borderStyle:"dashed",borderWidth:"1px",borderRadius:"2px"},control:{padding:e.spacing(2)},container:{display:"flex",flexDirection:"column",fontFamily:"sans-serif"},dropzone:{flex:1,display:"flex",flexDirection:"column",textAlign:"center",padding:"20px",borderWidth:"2px",borderRadius:"2px",borderColor:"#ced4da",borderStyle:"dashed",backgroundColor:"#e9ecef",color:"#bdbdbd",outline:"none",transition:"border .24s ease-in-out",cursor:"pointer"}}}),dt=M.a.input(at());function ft(e){return"undefined"===typeof e||null===e||""===e}var mt=r.a.memo(function(e){var t=e.value,n=e.onPreview;console.log("TemplateType2 : ",t);var o=pt(),l=ft(t.intent)?"":t.intent,u=!ft(t.use_yn)&&"Y"===t.use_yn,p=ft(t.response_type)?"":t.response_type,d=ft(t.response_template)?"":JSON.parse(t.response_template),f=Object(a.useState)(""),m=Object(s.a)(f,2),g=m[0],b=m[1],v=Object(a.useState)([]),h=Object(s.a)(v,2),E=h[0],x=h[1],O=Object(a.useState)(!1),j=Object(s.a)(O,2),w=j[0],k=j[1];Object(a.useEffect)(function(){console.log("\ub9c8\uc6b4\ud2b8 \ub420 \ub54c\ub9cc \uc2e4\ud589\ub429\ub2c8\ub2e4."),k(u),b(d),x(""!==d?d.buttons:[]),L([])},[t]);var S=y(),N=Object(a.useState)([]),z=Object(s.a)(N,2),R=z[0],L=z[1],I=Object(de.a)({accept:"image/jpeg, image/png, image/gif",maxSize:20971520,multiple:!1,onDrop:function(e){console.log("acceptedFiles : ",e),function(){var t=Object(i.a)(c.a.mark(function t(){var n;return c.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,D(e);case 3:n=t.sent,console.log("[fetchUpload] response : ",n.data),""!==n.data?(console.log("\ud30c\uc77c \uc5c5\ub85c\ub4dc \uc644\ub8cc"),b(nt({},g,{image:_+"/"+n.data.filename,image_title:n.data.filename})),L(e.map(function(e){return Object.assign(e,{preview:_+"/"+e.name})}))):alert("\ud30c\uc77c \uc5c5\ub85c\ub4dc \uc911 \uc624\ub958\uac00 \ubc1c\uc0dd\ud558\uc600\uc2b5\ub2c8\ub2e4."),t.next=12;break;case 8:t.prev=8,t.t0=t.catch(0),console.log("err: ",t.t0),alert("\ud30c\uc77c \uc5c5\ub85c\ub4dc \uc911 \uc624\ub958\uac00 \ubc1c\uc0dd\ud558\uc600\uc2b5\ub2c8\ub2e4.");case 12:case"end":return t.stop()}},t,null,[[0,8]])}));return function(){return t.apply(this,arguments)}}()()}}),A=I.getRootProps,Y=I.getInputProps,W=R.map(function(e){return r.a.createElement("div",{style:it,key:e.name},r.a.createElement("div",{style:st},r.a.createElement("img",{src:e.preview,style:ut,alt:e.path,title:e.name+" ("+(t=e.size,t.toString().replace(/\B(?=(\d{3})+(?!\d))/g,","))+" bytes)"})));var t});Object(a.useEffect)(function(){return function(){R.forEach(function(e){return URL.revokeObjectURL(e.preview)})}},[R]);var J=function(e,t,n,a){console.log("onChangeBtnTitle - intent_id : %s, id: %s, title : %s, payload : %s",e,t,n,a);var r=E.map(function(e){return e.id===t?nt({},e,{title:n,payload:a}):e});console.log("update : ",r),x(r)},B=function(e,t,n,a){console.log("onDelete - intent_id : %s, id: %s, title : %s, payload: %s",e,t,n,a);var r=ft(n)?"\ud574\ub2f9 ":"'"+n+"' ";if(window.confirm(r+"\ubc84\ud2bc\uc744 \uc0ad\uc81c\ud558\uc2dc\uaca0\uc2b5\ub2c8\uae4c?")){var o=E.filter(function(e){return e.id!==t});x(o)}};return r.a.createElement("div",null,r.a.createElement(xe.a,{component:"fieldset"},r.a.createElement(je.a,{component:"legend",style:{padding:"10px 0px 16px 0px"}},"\ud15c\ud50c\ub9bf \uad6c\uc870"),r.a.createElement(we.a,{container:!0,className:o.root,spacing:2},r.a.createElement(we.a,{item:!0,xs:12},r.a.createElement(we.a,{key:1,item:!0},r.a.createElement(ke.a,{className:o.paper,id:"scrollElement"},r.a.createElement(rt,{placement:"right",title:r.a.createElement(r.a.Fragment,null,"\uc0ac\uc6a9\uc5ec\ubd80\ub294 \uc778\ud150\ud2b8 \ubcc4\ub85c "," ",r.a.createElement("u",null,"\ud558\ub098\ub9cc")," ","\uc120\ud0dd\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4.")},r.a.createElement(Oe.a,{control:r.a.createElement(Le.a,{checked:w,onChange:function(e){k(e.target.checked)}}),label:"\uc0ac\uc6a9\uc5ec\ubd80"})),r.a.createElement(_e.a,{variant:"h6"},"\uc81c\ubaa9 ",r.a.createElement(Te.a,{color:"error"})),r.a.createElement("div",null,r.a.createElement(dt,{placeholder:"\uc81c\ubaa9\uc744 \uc785\ub825\ud558\uc138\uc694.",autoFocus:!0,value:g&&g.text,onChange:function(e){return function(e){b(nt({},g,{text:e.target.value}))}(e)}})),r.a.createElement(_e.a,{variant:"h6"},"\uc774\ubbf8\uc9c0 ",r.a.createElement(Te.a,{color:"error"})),r.a.createElement("section",{className:o.container},r.a.createElement("div",A({className:o.dropzone}),r.a.createElement("input",Y()),r.a.createElement("p",null,"Drag 'n' drop some files here, or click to select files"),r.a.createElement("em",null,"(Only *.jpeg and *.png and *.gif images will be accepted)")),r.a.createElement("aside",{style:ct},W)),r.a.createElement(_e.a,{variant:"h6"},"\ubc84\ud2bc \ubaa9\ub85d"),void 0!==E&&E.length>0&&E.map(function(e){return r.a.createElement(Ee,{key:e.id,id:e.id,title:e.title,payload:e.payload,intent:e.intent,onChangeBtnTitle:J,onDelete:B})}),r.a.createElement(X.a,{variant:"outlined",fullWidth:!0,startIcon:r.a.createElement(Se.a,null),onClick:function(e){x([].concat(Object(se.a)(E),[{intent:t.intent,id:pe()(),title:"",payload:""}]))},color:"secondary"},"\ubc84\ud2bc \ucd94\uac00"))),r.a.createElement("div",{style:{marginTop:"8px"}},r.a.createElement(ot,{variant:"contained",color:"primary",size:"small",style:{float:"right"},onClick:function(e){window.confirm("\ud15c\ud50c\ub9bf\uc744 \uc0ad\uc81c\ud558\uc2dc\uaca0\uc2b5\ub2c8\uae4c?")&&function(){var e=Object(i.a)(c.a.mark(function e(){var t;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,T(l,p);case 3:t=e.sent,console.log("[fetchTemplate] response : ",t.data),""!==t.data?(S({type:"SELECT_TEMPLATE",intent:l,response_type:p}),alert("\uc0ad\uc81c\ub418\uc5c8\uc2b5\ub2c8\ub2e4.")):alert("\uc0ad\uc81c \uc911 \uc624\ub958\uac00 \ubc1c\uc0dd\ud558\uc600\uc2b5\ub2c8\ub2e4."),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(0),console.log("err: ",e.t0),alert("\uc0ad\uc81c \uc911 \uc624\ub958\uac00 \ubc1c\uc0dd\ud558\uc600\uc2b5\ub2c8\ub2e4.");case 12:case"end":return e.stop()}},e,null,[[0,8]])}));return function(){return e.apply(this,arguments)}}()()},startIcon:r.a.createElement(ge.a,null)},"\uc0ad\uc81c"),r.a.createElement(X.a,{variant:"contained",color:"secondary",size:"small",style:{marginRight:"6px",float:"right"},onClick:function(e){console.log("handleSave : ",g);var n=ft(g.image)?R.length>0?R[0].preview:"":g.image,a=ft(g.image_title)?R.length>0?R[0].name:"":g.image_title,r=!0===w?"Y":"N";if(ft(g.text))alert("\uc81c\ubaa9\uc744 \uc785\ub825\ud558\uc138\uc694.");else if(ft(n))alert("\uc774\ubbf8\uc9c0\ub97c \uc5c5\ub85c\ub4dc\ud558\uc138\uc694.");else{var o=nt({},g,{image:n,image_title:a,buttons:E}),s=0;if(E.forEach(function(e,t){""!==e.title&&""!==e.payload||s++}),s>0)alert("\ubc84\ud2bc\uba85 \ub610\ub294 payload\ub97c \uc785\ub825\ud558\uc9c0 \uc54a\uc740 \ubc84\ud2bc\uc774 \uc788\uc2b5\ub2c8\ub2e4.");else{console.log("saveData : ",JSON.stringify(o));var u=[];(function(){var e=Object(i.a)(c.a.mark(function e(){var n,a;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,"Y"!==r){e.next=11;break}return e.next=4,C();case 4:if(n=e.sent,u=n.data.filter(function(e){return e.intent===l}),a=0,u.forEach(function(e,t){"Y"===e.use_yn&&a++}),!(a>=1&"Y"!==t.use_yn)){e.next=11;break}return alert("\uc0ac\uc6a9\uac00\ub2a5\ud55c \ud15c\ud50c\ub9bf\uc740 \ud558\ub098\uc785\ub2c8\ub2e4."),e.abrupt("return");case 11:window.confirm("\ud15c\ud50c\ub9bf\uc744 \uc800\uc7a5\ud558\uc2dc\uaca0\uc2b5\ub2c8\uae4c?")&&function(){var e=Object(i.a)(c.a.mark(function e(){var n,a;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=ft(t.response_template)?"INSERT":"UPDATE",e.next=4,P(l,r,p,JSON.stringify(o),n);case 4:a=e.sent,console.log("[fetchTemplate] response : ",a),"INSERT"===n&&201===a.status||"UPDATE"===n&&200===a.status?alert("\uc800\uc7a5\ub418\uc5c8\uc2b5\ub2c8\ub2e4."):alert("\uc800\uc7a5 \uc911 \uc624\ub958\uac00 \ubc1c\uc0dd\ud558\uc600\uc2b5\ub2c8\ub2e4."),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(0),console.log("err: ",e.t0),alert("\uc800\uc7a5 \uc911 \uc624\ub958\uac00 \ubc1c\uc0dd\ud558\uc600\uc2b5\ub2c8\ub2e4.");case 13:case"end":return e.stop()}},e,null,[[0,9]])}));return function(){return e.apply(this,arguments)}}()(),e.next=19;break;case 15:return e.prev=15,e.t0=e.catch(0),console.log(e.t0),e.abrupt("return",null);case 19:case"end":return e.stop()}},e,null,[[0,15]])}));return function(){return e.apply(this,arguments)}})()()}}},startIcon:r.a.createElement(Ne.a,null)},"\uc800\uc7a5"),r.a.createElement(lt,{variant:"contained",color:"secondary",size:"small",style:{float:"left"},onClick:function(e){console.log("handlePreview");var t=ft(g.image)?R.length>0?R[0].preview:"":g.image,a=ft(g.image_title)?R.length>0?R[0].name:"":g.image_title;if(ft(g.text))alert("\uc81c\ubaa9\uc744 \uc785\ub825\ud558\uc138\uc694.");else if(ft(t))alert("\uc774\ubbf8\uc9c0\ub97c \uc5c5\ub85c\ub4dc\ud558\uc138\uc694.");else{var r=nt({},g,{image:t,image_title:a,buttons:E}),o=0;E.forEach(function(e,t){""!==e.title&&""!==e.payload||o++}),o>0?alert("\ubc84\ud2bc\uba85 \ub610\ub294 payload\ub97c \uc785\ub825\ud558\uc9c0 \uc54a\uc740 \ubc84\ud2bc\uc774 \uc788\uc2b5\ub2c8\ub2e4."):n(r)}},startIcon:r.a.createElement(Re.a,null)},"\ubbf8\ub9ac\ubcf4\uae30"))))))});function gt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}function bt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?gt(n,!0).forEach(function(t){Object(d.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):gt(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function vt(){var e=Object(F.a)(["\n  /* margin: 0 12px 0 0; */\n  padding: 12px;\n  border-radius: 4px;\n  border: 1px solid #dee2e6;\n  /* width: 290px; */\n  width: 100%;\n  height: 95px;\n  font-size: 14px;\n  box-sizing: border-box;\n"]);return vt=function(){return e},e}function ht(){var e=Object(F.a)(["\n  /* margin: 0 12px 0 0; */\n  padding: 12px;\n  border-radius: 4px;\n  border: 1px solid #dee2e6;\n  /* width: 290px; */\n  width: 100%;\n  outline: none;\n  font-size: 14px;\n  box-sizing: border-box;\n  margin-bottom: 4px;\n"]);return ht=function(){return e},e}var Et=Object(ye.a)(function(e){return{tooltip:{backgroundColor:"#f5f5f9",color:"rgba(0, 0, 0, 0.87)",maxWidth:220,fontSize:e.typography.pxToRem(12),border:"1px solid #dadde9"}}})(Ye.a),yt=Object(ye.a)(function(e){return{root:{color:"#fff",backgroundColor:Ie.a[500],"&:hover":{backgroundColor:Ie.a[700]}}}})(X.a),xt=Object(ye.a)(function(e){return{root:{color:"#fff",backgroundColor:Ae.a[500],"&:hover":{backgroundColor:Ae.a[700]}}}})(X.a),Ot=Object(W.a)(function(e){return{root:{flexGrow:1},paper:{height:572,width:422,padding:"10px 10px 10px 10px",overflowY:"scroll",borderColor:"#e9ecef",borderStyle:"dashed",borderWidth:"1px",borderRadius:"2px"},control:{padding:e.spacing(2)},container:{display:"flex",flexDirection:"column",fontFamily:"sans-serif"}}}),jt=M.a.input(ht()),wt=M.a.textarea(vt());function kt(e){return"undefined"===typeof e||null===e||""===e}var _t=r.a.memo(function(e){var t=e.value,n=e.onPreview;console.log("TemplateType3 : ",t);var o=Ot(),l=kt(t.intent)?"":t.intent,u=!kt(t.use_yn)&&"Y"===t.use_yn,p=kt(t.response_type)?"":t.response_type,d=kt(t.response_template)?"":JSON.parse(t.response_template),f=Object(a.useState)(""),m=Object(s.a)(f,2),g=m[0],b=m[1],v=Object(a.useState)([]),h=Object(s.a)(v,2),E=h[0],x=h[1],O=Object(a.useState)(!1),j=Object(s.a)(O,2),w=j[0],k=j[1];Object(a.useEffect)(function(){console.log("\ub9c8\uc6b4\ud2b8 \ub420 \ub54c\ub9cc \uc2e4\ud589\ub429\ub2c8\ub2e4."),k(u),b(d),x(""!==d?d.buttons:[])},[t]);var _=y(),S=function(e,t){1===t?b(bt({},g,{text:e.target.value})):3===t&&b(bt({},g,{content:e.target.value}))},D=function(e,t,n,a){console.log("onChangeBtnTitle - intent_id : %s, id: %s, title : %s, payload : %s",e,t,n,a);var r=E.map(function(e){return e.id===t?bt({},e,{title:n,payload:a}):e});console.log("update : ",r),x(r)},N=function(e,t,n,a){console.log("onDelete - intent_id : %s, id: %s, title : %s, payload: %s",e,t,n,a);var r=kt(n)?"\ud574\ub2f9 ":"'"+n+"' ";if(window.confirm(r+"\ubc84\ud2bc\uc744 \uc0ad\uc81c\ud558\uc2dc\uaca0\uc2b5\ub2c8\uae4c?")){var o=E.filter(function(e){return e.id!==t});x(o)}};return r.a.createElement("div",null,r.a.createElement(xe.a,{component:"fieldset"},r.a.createElement(je.a,{component:"legend",style:{padding:"10px 0px 16px 0px"}},"\ud15c\ud50c\ub9bf \uad6c\uc870"),r.a.createElement(we.a,{container:!0,className:o.root,spacing:2},r.a.createElement(we.a,{item:!0,xs:12},r.a.createElement(we.a,{key:1,item:!0},r.a.createElement(ke.a,{className:o.paper,id:"scrollElement"},r.a.createElement(Et,{placement:"right",title:r.a.createElement(r.a.Fragment,null,"\uc0ac\uc6a9\uc5ec\ubd80\ub294 \uc778\ud150\ud2b8 \ubcc4\ub85c "," ",r.a.createElement("u",null,"\ud558\ub098\ub9cc")," ","\uc120\ud0dd\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4.")},r.a.createElement(Oe.a,{control:r.a.createElement(Le.a,{checked:w,onChange:function(e){k(e.target.checked)}}),label:"\uc0ac\uc6a9\uc5ec\ubd80"})),r.a.createElement(_e.a,{variant:"h6"},"\uc81c\ubaa9 ",r.a.createElement(Te.a,{color:"error"})),r.a.createElement("div",null,r.a.createElement(jt,{placeholder:"\uc81c\ubaa9\uc744 \uc785\ub825\ud558\uc138\uc694.",autoFocus:!0,value:g&&g.text,onChange:function(e){return S(e,1)}})),r.a.createElement(_e.a,{variant:"h6"},"\ub0b4\uc6a9 ",r.a.createElement(Te.a,{color:"error"})),r.a.createElement(wt,{placeholder:"\ub0b4\uc6a9\uc744 \uc785\ub825\ud558\uc138\uc694.",value:g&&g.content,onChange:function(e){return S(e,3)}}),r.a.createElement(_e.a,{variant:"h6"},"\ubc84\ud2bc \ubaa9\ub85d"),void 0!==E&&E.length>0&&E.map(function(e){return r.a.createElement(Ee,{key:e.id,id:e.id,title:e.title,payload:e.payload,intent:e.intent,onChangeBtnTitle:D,onDelete:N})}),r.a.createElement(X.a,{variant:"outlined",fullWidth:!0,startIcon:r.a.createElement(Se.a,null),onClick:function(e){x([].concat(Object(se.a)(E),[{intent:t.intent,id:pe()(),title:"",payload:""}]))},color:"secondary"},"\ubc84\ud2bc \ucd94\uac00"))),r.a.createElement("div",{style:{marginTop:"8px"}},r.a.createElement(yt,{variant:"contained",color:"primary",size:"small",style:{float:"right"},onClick:function(e){window.confirm("\ud15c\ud50c\ub9bf\uc744 \uc0ad\uc81c\ud558\uc2dc\uaca0\uc2b5\ub2c8\uae4c?")&&function(){var e=Object(i.a)(c.a.mark(function e(){var t;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,T(l,p);case 3:t=e.sent,console.log("[fetchTemplate] response : ",t.data),""!==t.data?(_({type:"SELECT_TEMPLATE",intent:l,response_type:p}),alert("\uc0ad\uc81c\ub418\uc5c8\uc2b5\ub2c8\ub2e4.")):alert("\uc0ad\uc81c \uc911 \uc624\ub958\uac00 \ubc1c\uc0dd\ud558\uc600\uc2b5\ub2c8\ub2e4."),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(0),console.log("err: ",e.t0),alert("\uc0ad\uc81c \uc911 \uc624\ub958\uac00 \ubc1c\uc0dd\ud558\uc600\uc2b5\ub2c8\ub2e4.");case 12:case"end":return e.stop()}},e,null,[[0,8]])}));return function(){return e.apply(this,arguments)}}()()},startIcon:r.a.createElement(ge.a,null)},"\uc0ad\uc81c"),r.a.createElement(X.a,{variant:"contained",color:"secondary",size:"small",style:{marginRight:"6px",float:"right"},onClick:function(e){console.log("handleSave : ",g);var n=!0===w?"Y":"N";if(kt(g.text))alert("\uc81c\ubaa9\uc744 \uc785\ub825\ud558\uc138\uc694.");else if(kt(g.content))alert("\ub0b4\uc6a9\uc744 \uc785\ub825\ud558\uc138\uc694.");else{var a=bt({},g,{buttons:E}),r=0;if(E.forEach(function(e,t){""!==e.title&&""!==e.payload||r++}),r>0)alert("\ubc84\ud2bc\uba85 \ub610\ub294 payload\ub97c \uc785\ub825\ud558\uc9c0 \uc54a\uc740 \ubc84\ud2bc\uc774 \uc788\uc2b5\ub2c8\ub2e4.");else{console.log("saveData : ",JSON.stringify(a));var o=[];(function(){var e=Object(i.a)(c.a.mark(function e(){var r,s;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,"Y"!==n){e.next=11;break}return e.next=4,C();case 4:if(r=e.sent,o=r.data.filter(function(e){return e.intent===l}),s=0,o.forEach(function(e,t){"Y"===e.use_yn&&s++}),!(s>=1&"Y"!==t.use_yn)){e.next=11;break}return alert("\uc0ac\uc6a9\uac00\ub2a5\ud55c \ud15c\ud50c\ub9bf\uc740 \ud558\ub098\uc785\ub2c8\ub2e4."),e.abrupt("return");case 11:window.confirm("\ud15c\ud50c\ub9bf\uc744 \uc800\uc7a5\ud558\uc2dc\uaca0\uc2b5\ub2c8\uae4c?")&&function(){var e=Object(i.a)(c.a.mark(function e(){var r,o;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r=kt(t.response_template)?"INSERT":"UPDATE",e.next=4,P(l,n,p,JSON.stringify(a),r);case 4:o=e.sent,console.log("[fetchTemplate] response : ",o),"INSERT"===r&&201===o.status||"UPDATE"===r&&200===o.status?alert("\uc800\uc7a5\ub418\uc5c8\uc2b5\ub2c8\ub2e4."):alert("\uc800\uc7a5 \uc911 \uc624\ub958\uac00 \ubc1c\uc0dd\ud558\uc600\uc2b5\ub2c8\ub2e4."),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(0),console.log("err: ",e.t0),alert("\uc800\uc7a5 \uc911 \uc624\ub958\uac00 \ubc1c\uc0dd\ud558\uc600\uc2b5\ub2c8\ub2e4.");case 13:case"end":return e.stop()}},e,null,[[0,9]])}));return function(){return e.apply(this,arguments)}}()(),e.next=19;break;case 15:return e.prev=15,e.t0=e.catch(0),console.log(e.t0),e.abrupt("return",null);case 19:case"end":return e.stop()}},e,null,[[0,15]])}));return function(){return e.apply(this,arguments)}})()()}}},startIcon:r.a.createElement(Ne.a,null)},"\uc800\uc7a5"),r.a.createElement(xt,{variant:"contained",color:"secondary",size:"small",style:{float:"left"},onClick:function(e){if(console.log("handlePreview"),kt(g.text))alert("\uc81c\ubaa9\uc744 \uc785\ub825\ud558\uc138\uc694.");else if(kt(g.content))alert("\ub0b4\uc6a9\uc744 \uc785\ub825\ud558\uc138\uc694.");else{var t=bt({},g,{buttons:E}),a=0;E.forEach(function(e,t){""!==e.title&&""!==e.payload||a++}),a>0?alert("\ubc84\ud2bc\uba85 \ub610\ub294 payload\ub97c \uc785\ub825\ud558\uc9c0 \uc54a\uc740 \ubc84\ud2bc\uc774 \uc788\uc2b5\ub2c8\ub2e4."):n(t)}},startIcon:r.a.createElement(Re.a,null)},"\ubbf8\ub9ac\ubcf4\uae30"))))))}),Ct=n(911),St=n(913);function Pt(){var e=Object(F.a)(["\n  margin: 20px;\n\n  h3 {\n    margin-bottom: 4px;\n  }\n"]);return Pt=function(){return e},e}var Tt=M.a.div(Pt());function Dt(e){return"undefined"===typeof e||null===e||""===e}var Nt=r.a.memo(function(){var e=function(){var e=Object(a.useContext)(v);if(!e)throw new Error("Cannot find ResponseProvider");return e}();console.log("[ResponseContent] selectedList: ",e);var t=Object(a.useState)("1"),n=Object(s.a)(t,2),o=n[0],l=n[1],u=y(),p=Object(a.useState)(""),d=Object(s.a)(p,2),f=d[0],m=d[1];if(Object(a.useEffect)(function(){console.log("[ResponseContent] \ub9c8\uc6b4\ud2b8 \ub420 \ub54c\ub9cc \uc2e4\ud589\ub429\ub2c8\ub2e4."),l(Dt(e.response_type)?"1":e.response_type),m(Dt(e.response_template)?"":e.response_template)},[e]),""===e.intent)return r.a.createElement("p",{style:{textAlign:"center",marginTop:"400px",fontWeight:"bold"}},"\uc778\ud150\ud2b8\ub97c \uc120\ud0dd\ud558\uc138\uc694.");var g=function(e){console.log("onPreview : ",e),m(JSON.stringify(e,void 0,4))};return r.a.createElement(Tt,null,r.a.createElement("div",{style:{minHeight:"768px",width:"50%",float:"left"}},r.a.createElement(_e.a,{variant:"h6",style:{marginBottom:"12px"}},"\uc778\ud150\ud2b8 : ",e.intent),r.a.createElement(N.a,null),r.a.createElement(xe.a,{component:"fieldset"},r.a.createElement(je.a,{component:"legend",style:{padding:"10px 0px 6px 0px"}},"\ub2f5\ubcc0 \uc720\ud615"),r.a.createElement(St.a,{"aria-label":"position",name:"position",value:o,onChange:function(t){var n=t.target.value;console.log("\ub2f5\ubcc0 \uc720\ud615: ",n),l(n),function(){var t=Object(i.a)(c.a.mark(function t(){var a;return c.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,S(e.intent,n);case 3:0===(a=t.sent).data.length?u({type:"SELECT_TEMPLATE",intent:e.intent,response_type:n}):u({type:"SELECT_TEMPLATE",intent:e.intent,response_type:n,data:a.data}),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.log("err: ",t.t0);case 10:case"end":return t.stop()}},t,null,[[0,7]])}));return function(){return t.apply(this,arguments)}}()()},row:!0},r.a.createElement(Ye.a,{title:"\uc774\ubbf8\uc9c0+\ud14d\uc2a4\ud2b8"},r.a.createElement(Oe.a,{value:"1",control:r.a.createElement(Ct.a,null),label:"\uc774\ubbf8\uc9c0+\ud14d\uc2a4\ud2b8",labelPlacement:"end"})),r.a.createElement(Ye.a,{title:"\uc774\ubbf8\uc9c0"},r.a.createElement(Oe.a,{value:"2",control:r.a.createElement(Ct.a,null),label:"\uc774\ubbf8\uc9c0",labelPlacement:"end"})),r.a.createElement(Ye.a,{title:"\ud14d\uc2a4\ud2b8"},r.a.createElement(Oe.a,{value:"3",control:r.a.createElement(Ct.a,null),label:"\ud14d\uc2a4\ud2b8",labelPlacement:"end"})))),"1"===o&&r.a.createElement(et,{value:e,onPreview:g}),"2"===o&&r.a.createElement(mt,{value:e,onPreview:g}),"3"===o&&r.a.createElement(_t,{value:e,onPreview:g})),r.a.createElement("div",{style:{minHeight:"768px",width:"50%",float:"left"}},r.a.createElement(_e.a,{variant:"h6",style:{marginBottom:"12px"}},"\xa0"),r.a.createElement(N.a,null),r.a.createElement(xe.a,{component:"fieldset"},r.a.createElement(je.a,{component:"legend",style:{padding:"10px 0px 10px 0px"}},"Preview")),r.a.createElement(ie,{value:f})))});t.default=Object(ye.a)(function(e){return{layoutRoot:{}}},{withTheme:!0})(function(e){var t=e.classes;return r.a.createElement(o.n,{classes:{root:t.layoutRoot},content:r.a.createElement(E,null,r.a.createElement("div",{className:"p-24"},r.a.createElement("div",{style:{minHeight:"800px",height:"800px",width:"22%",float:"left",overflowY:"auto",border:"1px solid #e9ecef"}},r.a.createElement(U,{project_id:"default"})),r.a.createElement("div",{style:{minHeight:"800px",height:"800px",width:"78%",float:"left",overflowY:"auto",border:"1px solid #e9ecef"}},r.a.createElement(Nt,null))))})})},971:function(e,t,n){}}]);
//# sourceMappingURL=9.2e18d738.chunk.js.map