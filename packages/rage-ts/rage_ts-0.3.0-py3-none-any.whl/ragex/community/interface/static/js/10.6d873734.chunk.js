(this["webpackJsonptina-talk-admin"]=this["webpackJsonptina-talk-admin"]||[]).push([[10],{965:function(e,t,a){"use strict";a.r(t);var n=a(20),r=a(0),l=a.n(r),c=a(928),o=a(32),i=a(892),u=a(906),s=a(893),m=a(918),d=a.n(m),f=a(919),p=a(38),g=a.n(p),b="/api/projects",h="/api/projects/";function E(e,t){var a=t.q,n=t.intent,r=t.limit,l=t.offset;return g.a.get(b+"/"+e+"/logs?q="+a+"&intent="+n+"&limit="+r+"&offset="+l)}function v(e,t){return g.a.get(h+e+"/intents")}function O(e,t){var a=t.q,n=t.intent,r=t.limit,l=t.offset;return g.a.get(b+"/"+e+"/data?q="+a+"&intent="+n+"&limit="+r+"&offset="+l)}var j=a(12),x=a(10),y=a(832),w=a(883),k=a(299),R=a(888),S=a(961),C=a(894),N=a(910),I=a(963),P=a(895),D=a(9),F=a(917),q=a.n(F),_=a(830),L=a(931),W=a.n(L),A=a(915),M=a.n(A);function U(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}var z=Object(D.a)({root:{width:"20%",maxWidth:"600px"},multiline:{marginRight:"10px"}})(w.a),J=(Object(D.a)({root:{height:"25px",width:"1.5px"}})(R.a),Object(c.a)(function(e){return{root:{width:"30%"}}})),T={container:function(e,t){return function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?U(a,!0).forEach(function(t){Object(x.a)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):U(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}({},e,{width:"40%",maxWidth:"500px",color:t.isSelected?"red":"blue"})}},V=function(e){e.index;var t=e.data,a=e.style;J();if(!t)return null;var n=[];W.a.get(W.a.get(t,"user_input"),"intent_ranking").map(function(e){var t={value:e.name,label:e.name+" ("+e.confidence.toFixed(3)+")"};n.push(t)});return l.a.createElement(l.a.Fragment,null,l.a.createElement(y.a,{key:t.id,style:a},l.a.createElement(S.a,{container:!0,direction:"row",justify:"flex-start",alignItems:"center"},l.a.createElement(C.a,null,l.a.createElement(N.a,{edge:"start",tabIndex:-1,disableRipple:!0})),l.a.createElement(z,{primary:W.a.get(t,"user_input").text,secondary:W.a.get(W.a.get(t,"user_input"),"intent").name+" ("+W.a.get(W.a.get(t,"user_input"),"intent").confidence.toFixed(3)+")"}),l.a.createElement(k.a,{styles:T,options:n,placeholder:"\uc758\ub3c4 \uc120\ud0dd...",isSearchable:!1,onChange:function(e){console.log("Option selected:",e)},defaultValue:n.filter(function(e){return e.value===W.a.get(W.a.get(t,"user_input"),"intent").name})}),l.a.createElement(I.a,null,l.a.createElement(P.a,{title:"\uc800\uc7a5"},l.a.createElement(_.a,{edge:"end","aria-label":"Save"},l.a.createElement(M.a,null)))),l.a.createElement(I.a,null,l.a.createElement(P.a,{title:"\uc0ad\uc81c"},l.a.createElement(_.a,{edge:"end","aria-label":"Delete"},l.a.createElement(q.a,null)))))),l.a.createElement(R.a,null))},B=a(932),G=a(933),H=a(934),K={},Q={},X=Object(c.a)(function(e){return{root:{width:"100%",height:"100%",maxWidth:1500,backgroundColor:e.palette.background.paper}}}),Y=function(e){var t=e.index,a=e.style,n=(e.data,e.total),r=e.limit,c=e.offset,o=K[t];return console.log("renderRow",t),l.a.createElement(V,{index:t,style:a,data:o,total:n,limit:r,offset:c})},Z=function(e){var t=e.index;return!!K[t]},$=function(e,t){console.log(e,t);var a=[e,t].join(":");if(!Q[a]){var n=t-e;if(!Object(j.a)(Array(n).keys()).map(function(t){return t+e}).every(function(e){return!!K[e]}))return E("default",{q:"",intent:"",limit:n,offset:e}).then(function(e){return e.data}).then(function(t){t.forEach(function(t,a){K[a+e]=t}),console.log(t)}).catch(function(e){return console.error("Error:",e)});Q[a]=a}},ee=function(e){var t=e.data,a=(e.name,e.index,e.total);e.limit,e.offset,e.onRetrieve,X();return console.log(t),l.a.createElement(G.a,null,function(e){var t=e.height,n=e.width;return l.a.createElement(H.a,{isItemLoaded:Z,loadMoreItems:$,itemCount:a},function(e){var r=e.onItemsRendered,c=e.ref;return l.a.createElement(B.a,{className:"List",height:t,itemCount:a,itemSize:80,width:n,ref:c,onItemsRendered:r},Y)})})},te=a(962),ae=a(19),ne=a(903),re=a(132),le=a(3),ce=a(921),oe=a.n(ce),ie=Object(c.a)(function(e){return{root:{paddingLeft:e.spacing(2),paddingRight:e.spacing(1)},highlight:"light"===e.palette.type?{color:e.palette.secondary.main,backgroundColot:Object(ae.e)(e.palette.secondary.light,.85)}:{color:e.palette.text.primary,backgroundColor:e.palette.primary.dark},spacer:{flex:"1 1 100%"},actions:{flex:"0 0 auto",justifyContent:"flex-end",color:e.palette.text.secondary},title:{flex:"0 0 auto"}}}),ue=function(e){var t=ie(),a=e.numSelected,n=e.onRetrieve;return l.a.createElement(ne.a,{className:Object(le.a)(t.root,Object(x.a)({},t.highlight,a>0))},l.a.createElement("div",{className:t.title},a>0?l.a.createElement(re.a,{color:"inherit",variant:"subtitle1"},a," \uac1c \ubaa8\ub378\uc774 \uc120\ud0dd\ub418\uc5c8\uc2b5\ub2c8\ub2e4"):l.a.createElement(re.a,{variant:"h6",id:"tableTitle"},"\ub300\ud654 \uc758\ub3c4 \uc7ac\uc124\uc815 \ub9ac\uc2a4\ud2b8")),l.a.createElement("div",{className:t.spacer}),l.a.createElement("div",{className:t.actions},a>0?1===a?l.a.createElement(l.a.Fragment,null,l.a.createElement(P.a,{title:"\ubaa8\ub378 \ud65c\uc131\ud654"},l.a.createElement(_.a,{"aria-label":"Active Model"},l.a.createElement(M.a,null))),l.a.createElement(P.a,{title:"\ubaa8\ub378 \uc0ad\uc81c"},l.a.createElement(_.a,{"aria-label":"Delete"},l.a.createElement(q.a,null)))):l.a.createElement(l.a.Fragment,null,l.a.createElement(P.a,{title:"\ubaa8\ub378 \uc0ad\uc81c"},l.a.createElement(_.a,{"aria-label":"Delete"},l.a.createElement(q.a,null)))):l.a.createElement(P.a,{title:"\uc7ac\uc870\ud68c"},l.a.createElement(_.a,{"aria-label":"Refresh",onClick:function(){n("default",{q:"",intent:"",limit:50,offset:0})}},l.a.createElement(oe.a,null)))))};Object(c.a)(function(e){return{root:{height:"100%"}}});var se=function(e){var t=e.project_id,a=e.name,c=e.index,o=Object(r.useState)([]),i=Object(n.a)(o,2),u=i[0],s=i[1],m=Object(r.useState)(0),p=Object(n.a)(m,2),g=p[0],b=p[1],h=Object(r.useState)(50),v=Object(n.a)(h,2),O=v[0],j=(v[1],Object(r.useState)(0)),x=Object(n.a)(j,2),y=x[0],w=(x[1],Object(r.useState)(!1)),k=Object(n.a)(w,2),R=k[0],S=k[1];Object(r.useEffect)(function(){(function(){var e=Object(f.a)(d.a.mark(function e(){var a;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return S(!0),e.prev=1,e.next=4,E(t,{q:"",intent:"",limit:O,offset:y});case 4:a=e.sent,console.log(a),s(a.data),b(a.headers["x-total-count"]),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),console.log(e.t0);case 13:S(!1);case 14:case"end":return e.stop()}},e,null,[[1,10]])}));return function(){return e.apply(this,arguments)}})()()},[t,O,y]);var C=function(){var e=Object(f.a)(d.a.mark(function e(t,a){var n;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(t,a),e.prev=1,e.next=4,E(t,a);case 4:n=e.sent,console.log(n),s(n.data),b(n.headersheaders["x-total-count"]),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),console.log(e.t0);case 13:S(!1);case 14:case"end":return e.stop()}},e,null,[[1,10]])}));return function(t,a){return e.apply(this,arguments)}}();return R?(console.log("loading...."),null):(0===u.length?console.log("data empty"):(console.log("data load",u),console.log("data total",g)),l.a.createElement(l.a.Fragment,null,l.a.createElement(ue,{onRetrieve:C}),l.a.createElement(te.a,{style:{height:"100%"}},l.a.createElement(ee,{data:u,name:a,index:c,total:g,limit:O,offset:y,onRetrieve:C}))))},me=Object(c.a)(function(e){return{root:{paddingLeft:e.spacing(2),paddingRight:e.spacing(1)},highlight:"light"===e.palette.type?{color:e.palette.secondary.main,backgroundColot:Object(ae.e)(e.palette.secondary.light,.85)}:{color:e.palette.text.primary,backgroundColor:e.palette.primary.dark},spacer:{flex:"1 1 100%"},actions:{flex:"0 0 auto",justifyContent:"flex-end",color:e.palette.text.secondary},title:{flex:"0 0 auto"}}}),de=function(e){var t=me(),a=e.numSelected,n=e.onRetrieve;return l.a.createElement(ne.a,{className:Object(le.a)(t.root,Object(x.a)({},t.highlight,a>0))},l.a.createElement("div",{className:t.title},a>0?l.a.createElement(re.a,{color:"inherit",variant:"subtitle1"},a," \uac1c \ubaa8\ub378\uc774 \uc120\ud0dd\ub418\uc5c8\uc2b5\ub2c8\ub2e4"):l.a.createElement(re.a,{variant:"h6",id:"tableTitle"},"\uae30\ub4f1\ub85d \ud559\uc2b5 NLU \ub370\uc774\ud130")),l.a.createElement("div",{className:t.spacer}),l.a.createElement("div",{className:t.actions},a>0?1===a?l.a.createElement(l.a.Fragment,null,l.a.createElement(P.a,{title:"\ubaa8\ub378 \ud65c\uc131\ud654"},l.a.createElement(_.a,{"aria-label":"Active Model"},l.a.createElement(M.a,null))),l.a.createElement(P.a,{title:"\ubaa8\ub378 \uc0ad\uc81c"},l.a.createElement(_.a,{"aria-label":"Delete"},l.a.createElement(q.a,null)))):l.a.createElement(l.a.Fragment,null,l.a.createElement(P.a,{title:"\ubaa8\ub378 \uc0ad\uc81c"},l.a.createElement(_.a,{"aria-label":"Delete"},l.a.createElement(q.a,null)))):l.a.createElement(P.a,{title:"\uc7ac\uc870\ud68c"},l.a.createElement(_.a,{"aria-label":"Refresh",onClick:function(){n("default",{q:"",intent:"",limit:50,offset:0})}},l.a.createElement(oe.a,null)))))};function fe(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}var pe=Object(D.a)({root:{width:"20%",maxWidth:"600px"},multiline:{marginRight:"10px"}})(w.a),ge=(Object(D.a)({root:{height:"25px",width:"1.5px"}})(R.a),Object(c.a)(function(e){return{root:{width:"30%"}}})),be={container:function(e){return function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?fe(a,!0).forEach(function(t){Object(x.a)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):fe(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}({},e,{width:"40%",maxWidth:"500px"})}},he=function(e){e.index;var t=e.data,a=e.intents;ge();if(console.log("IntentRegNluItem data",t),console.log("IntentRegNluItem intents",a),!t)return null;if(!a)return null;var n=[];return a.map(function(e){var t={value:e.intent,label:e.intent};n.push(t)}),l.a.createElement(l.a.Fragment,null,l.a.createElement(y.a,{key:t.id},l.a.createElement(S.a,{container:!0,direction:"row",justify:"flex-start",alignItems:"center"},l.a.createElement(C.a,null,l.a.createElement(N.a,{edge:"start",tabIndex:-1,disableRipple:!0})),l.a.createElement(pe,{primary:W.a.get(t,"text"),secondary:W.a.get(t,"intent")+" ("+W.a.get(t,"id")+")"}),l.a.createElement(k.a,{styles:be,options:n,placeholder:"\uc758\ub3c4(intent) \uc120\ud0dd...",value:n.filter(function(e){return e.label===W.a.get(t,"intent")})}),l.a.createElement(I.a,null,l.a.createElement(P.a,{title:"\uc800\uc7a5"},l.a.createElement(_.a,{edge:"end","aria-label":"Save"},l.a.createElement(M.a,null)))),l.a.createElement(I.a,null,l.a.createElement(P.a,{title:"\uc0ad\uc81c"},l.a.createElement(_.a,{edge:"end","aria-label":"Delete"},l.a.createElement(q.a,null)))))),l.a.createElement(R.a,null))},Ee={},ve={},Oe=[],je=Object(c.a)(function(e){return{root:{width:"100%",height:700,maxWidth:1500,backgroundColor:e.palette.background.paper}}}),xe=function(e){var t=e.index,a=e.style,n=(e.data,e.total),r=e.limit,c=e.offset,o=(e.intents,Ee[t]);return console.log("renderRow props",e),console.log("renderRow",t),console.log("renderRow item",o),l.a.createElement(he,{index:t,style:a,data:o,total:n,limit:r,offset:c,intents:Oe})},ye=function(e){var t=e.index;return!!Ee[t]},we=function(e,t){console.log(e,t);var a=[e,t].join(":");if(!ve[a]){var n=t-e;if(!Object(j.a)(Array(n).keys()).map(function(t){return t+e}).every(function(e){return!!Ee[e]}))return O("default",{q:"",intent:"",limit:n,offset:e}).then(function(e){return e.data}).then(function(t){t.forEach(function(t,a){Ee[a+e]=t}),console.log(t)}).catch(function(e){return console.error("Error:",e)});ve[a]=a}},ke=function(e){var t=e.data,a=e.intents,n=(e.name,e.index,e.total);e.limit,e.offset,e.onRetrieve,je();return console.log(t),console.log(a),Oe=a,l.a.createElement(G.a,null,function(e){var t=e.height,a=e.width;return l.a.createElement(H.a,{isItemLoaded:ye,loadMoreItems:we,itemCount:n},function(e){var r=e.onItemsRendered,c=e.ref;return l.a.createElement(B.a,{className:"List",height:t,itemCount:n,itemSize:80,width:a,ref:c,onItemsRendered:r},xe)})})};Object(c.a)(function(e){return{root:{height:"100%"}}});var Re=function(e){var t=e.project_id,a=e.name,c=e.index,o=Object(r.useState)([]),i=Object(n.a)(o,2),u=i[0],s=i[1],m=Object(r.useState)(0),p=Object(n.a)(m,2),g=p[0],b=p[1],h=Object(r.useState)([]),E=Object(n.a)(h,2),j=E[0],x=E[1],y=Object(r.useState)(!1),w=Object(n.a)(y,2),k=w[0],R=w[1],S=Object(r.useState)(50),C=Object(n.a)(S,2),N=C[0],I=(C[1],Object(r.useState)(0)),P=Object(n.a)(I,2),D=P[0];P[1],Object(r.useEffect)(function(){(function(){var e=Object(f.a)(d.a.mark(function e(){var a;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return R(!0),e.prev=1,e.next=4,O(t,{q:"",intent:"",limit:N,offset:D});case 4:a=e.sent,console.log(a),s(a.data),b(a.headers["x-total-count"]),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),console.log(e.t0);case 13:R(!1);case 14:case"end":return e.stop()}},e,null,[[1,10]])}));return function(){return e.apply(this,arguments)}})()(),function(){var e=Object(f.a)(d.a.mark(function e(){var a;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return R(!0),e.prev=1,e.next=4,v(t);case 4:a=e.sent,console.log(a),x(a.data),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),console.log(e.t0);case 12:R(!1);case 13:case"end":return e.stop()}},e,null,[[1,9]])}));return function(){return e.apply(this,arguments)}}()()},[t]);var F=function(){var e=Object(f.a)(d.a.mark(function e(t,a){var n,r;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(t,a),e.prev=1,e.next=4,O(t,a);case 4:n=e.sent,console.log(n),s(n.data),b(n.headersheaders["x-total-count"]),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),console.log(e.t0);case 13:return e.prev=13,e.next=16,v(t);case 16:r=e.sent,console.log(r),x(r.data),e.next=24;break;case 21:e.prev=21,e.t1=e.catch(13),console.log(e.t1);case 24:R(!1);case 25:case"end":return e.stop()}},e,null,[[1,10],[13,21]])}));return function(t,a){return e.apply(this,arguments)}}();return k?(console.log("loading...."),null):(0===u.length?console.log("data empty"):(console.log("data load",u),console.log("data total",g)),l.a.createElement(l.a.Fragment,null,l.a.createElement(de,{onRetrieve:F}),l.a.createElement(te.a,{style:{height:"100%"}},l.a.createElement(ke,{data:u,intents:j,name:a,index:c,total:g,limit:N,offset:D,onRetrieve:F}))))};function Se(e){var t=e.children,a=e.dir,n=e.value,r=e.index;return l.a.createElement("div",{component:"div",role:"tabpanel",hidden:n!==r,dir:a,style:{height:"80%"},id:"tabcontainer-".concat(r),"aria-labelledby":"tabcontainer-".concat(r)},t)}var Ce=Object(c.a)(function(e){return{root:{width:"100%",height:"100%",backgroundColor:e.palette.background.paper},div:{height:"100%",flex:"0 0 100%",maxWidth:"100%"}}});t.default=function(){var e=Ce(),t=Object(o.a)(),a=Object(r.useState)(0),c=Object(n.a)(a,2),m=c[0],d=c[1];function f(e){return{id:"simple-tab-".concat(e),"aria-controls":"simple-tabpanel-".concat(e)}}return Object(r.useRef)(null),Object(r.useEffect)(function(){console.log("effect")}),l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:e.root},l.a.createElement(i.a,{position:"static",color:"default"},l.a.createElement(u.a,{value:m,onChange:function(e,t){d(t)},indicatorColor:"primary",textColor:"primary",variant:"fullWidth"},l.a.createElement(s.a,Object.assign({label:"\ub300\ud654 \uc758\ub3c4 \uc7ac\uc124\uc815"},f(0))),l.a.createElement(s.a,Object.assign({label:"\uae30\ub4f1\ub85d \ud559\uc2b5 NLU \ub370\uc774\ud130"},f(1))))),l.a.createElement(Se,{className:e.root,dir:t.direction,value:m,index:0},l.a.createElement(se,{project_id:"default",name:"\ub300\ud654 \uc758\ub3c4 \uc7ac\uc124\uc815"})),l.a.createElement(Se,{className:e.root,dir:t.direction,value:m,index:1},l.a.createElement(Re,{project_id:"default",name:"\uae30\ub4f1\ub85d \ud559\uc2b5 NLU \ub370\uc774\ud130"}))))}}}]);
//# sourceMappingURL=10.6d873734.chunk.js.map