(this["webpackJsonptina-talk-admin"]=this["webpackJsonptina-talk-admin"]||[]).push([[12],{1005:function(e,t,n){"use strict";n.r(t);var a=n(0),o=n.n(a),r=n(25),l=n(10),c=n(20),i=n(7),s=n(300),u=n.n(s),p=n(38),m=n.n(p),d="[RESPONSE TEMPLATE] GET INTENTS LIST",f="[RESPONSE TEMPLATE] GET TEMPLATE DATA",g="[RESPONSE TEMPLATE] ADD TEMPLATE",b="[RESPONSE TEMPLATE] CLEAR INTENT",E="[RESPONSE TEMPLATE] CHANE RESPONSE TITLE",y="[RESPONSE TEMPLATE] CHANE CONTENT TYPE",h="[RESPONSE TEMPLATE] CHANE USE YN",v="[RESPONSE TEMPLATE] REMOVE TEMPLATE FROM ARRAY",_="[RESPONSE TEMPLATE] CHANGE TEXT",O="[RESPONSE TEMPLATE] ADD IMAGE",x="[RESPONSE TEMPLATE] UPDATE IMAGE",j="[RESPONSE TEMPLATE] REMOVE IMAGE",T="[RESPONSE TEMPLATE] ADD BUTTON",w="[RESPONSE TEMPLATE] UPDATE BUTTON",I="[RESPONSE TEMPLATE] REMOVE BUTTON",N="[RESPONSE TEMPLATE] OPEN NOTE DIALOG",S="[RESPONSE TEMPLATE] CLOSE NOTE DIALOG",k="[RESPONSE TEMPLATE] SAVE NOTE",P="/api/projects/default",C="/image/projects/default",D="/image";function R(e){var t=m.a.get(P+"/response/".concat(e));return function(n){return t.then(function(t){return n({type:f,payload:t.data,intent:e})}).catch(function(e){return console.log("getTemplateFromIntents() error : ",e),null})}}function B(e,t,n,a,o,r){return"INSERT"===r?m.a.post(P+"/response",{intent:e,use_yn:t,response_template:n,response_title:a,content_type:o}):"UPDATE"===r?m.a.put(P+"/response",{intent:e,use_yn:t,response_template:n,response_title:a,content_type:o}):void 0}function A(e){var t=new FormData;return t.append("file",e),m.a.post(C+"/upload_image",t)}function z(e){return{type:v,payload:e}}function L(e,t){return{type:N,payload:e,method:t}}function M(){return{type:S}}var W=n(3),F=n(132),U=n(890),G=n(959),H=n(171),Y=n(880),J=n(834),V=n(878),q=n(885),X=Object(G.a)(function(e){return{toolbar:e.mixins.toolbar,contentWrapper:{display:"flex",flexDirection:"column",height:"100%",zIndex:10,background:"linear-gradient(to bottom, ".concat(Object(H.fade)(e.palette.background.paper,.8)," 0,").concat(Object(H.fade)(e.palette.background.paper,.6)," 20%,").concat(Object(H.fade)(e.palette.background.paper,.8),")")},listItem:{color:"inherit!important",textDecoration:"none!important",height:40,width:"calc(100% - 16px)",borderRadius:"0 20px 20px 0",paddingLeft:4,"&.active":{backgroundColor:e.palette.secondary.main,color:e.palette.secondary.contrastText+"!important",pointerEvents:"none","& .list-item-icon":{color:"inherit"}},"& .list-item-icon":{fontSize:16,width:16,height:16,marginRight:16}}}});var K=o.a.memo(function(e){var t=e.project_id,n=X(),r=Object(i.c)(function(e){return e.responseTemplate.responseTemplateReducer.intents});console.log("[IntentList] intents : ",r);var l=Object(i.b)();return Object(a.useEffect)(function(){return l(function(){var e=m.a.get(P+"/intents");return function(t){return e.then(function(e){return t({type:d,payload:e.data})}).catch(function(e){return console.log("getIntents() error : ",e),null})}}()),function(){l({type:b})}},[t,l]),0===r.length?o.a.createElement("div",{className:Object(W.a)(n.contentWrapper,"z-10")},o.a.createElement("div",{className:"flex flex-col flex-1 items-center justify-center p-24"},o.a.createElement(F.a,{variant:"caption",className:"my-24"},"\uc870\ud68c\ub0b4\uc5ed \uc5c6\uc74c"))):o.a.createElement("div",null,o.a.createElement("div",{className:n.toolbar}),o.a.createElement(U.a,null),o.a.createElement(Y.a,null,function(e){var t=e.reduce(function(e,t){var n=t.intent,a=t.response_type;return e[n]?e[n].push(a):e[n]=[a],e},{}),n=Object.entries(t).reduce(function(e,t){var n=Object(c.a)(t,2),a=n[0],o=n[1];return e.push({intent:a,response_type:o}),e},[]),a=[];return u.a.forEach(n,function(e,t){a.push({intent:e.intent})}),a}(r).map(function(e,t){return o.a.createElement(J.a,{button:!0,key:e.intent,className:n.listItem,onClick:function(t){l(R(e.intent))}},o.a.createElement(V.a,{className:"list-item-icon",color:"action"},"question_answer"),o.a.createElement(q.a,{primary:e.intent,disableTypography:!0}))})))}),Q=n(923),Z=n.n(Q),$=n(924),ee=n(920),te=n(948),ne=n.n(te),ae=n(975),oe=n.n(ae),re=n(903),le=n(433),ce=n(881),ie=n(896),se=n(893),ue=n(1e3),pe=n(1001),me=n(906),de=n(832),fe=n(115),ge=n(976),be=n.n(ge);function Ee(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}var ye=Object(G.a)(function(e){return{root:{minWidth:242},media:{height:0,paddingTop:"56.25%"},expand:{transform:"rotate(0deg)",marginLeft:"auto",transition:e.transitions.create("transform",{duration:e.transitions.duration.shortest})},expandOpen:{transform:"rotate(180deg)"},avatar:{backgroundColor:fe.a[500]},label:{display:"flex",alignItems:"center",height:30,borderRadius:2,padding:"0 6px",fontSize:11,backgroundColor:"rgba(0,0,0,.08);"},color:{width:8,height:8,marginRight:4,borderRadius:"50%"}}});function he(e){return"T"===e?"#388E3C":"I"===e?"#F44336":"B"===e?"#FF9800":"TI"===e?"#0091EA":"TB"===e?"#9C27B0":"TIB"===e?"#44d4c6":void 0}function ve(e,t){var n="";return"T"===e?n="Only Text":"I"===e?n="Only Images":"B"===e?n="Only Buttons":"TI"===e?n="Text + Images":"TB"===e?n="Text + Buttons":"TIB"===e&&(n="Text + Images + Buttons"),o.a.createElement("div",{className:Object(W.a)(t.label,"mr-4")},o.a.createElement("div",{className:t.color,style:{backgroundColor:he(e)}}),o.a.createElement("div",null,n))}var _e=function(e){var t=ye(),n=Object(i.b)(),r=Object(a.useState)(null),s=Object(c.a)(r,2),u=s[0],p=s[1],m=Object(a.useState)({content_id:e.note.content_id,response_type:e.note.response_type,text:e.note.text,images:e.note.images,buttons:e.note.buttons}),d=Object(c.a)(m,2),f=d[0],g=d[1];Object(a.useEffect)(function(){g(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ee(n,!0).forEach(function(t){Object(l.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ee(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({},f,{content_id:e.note.content_id,response_type:e.note.response_type,text:e.note.text,images:e.note.images,buttons:e.note.buttons}))},[e.note.content_id,e.note.response_type,e.note.text,e.note.images,e.note.buttons]);var b=function(){p(null)};return o.a.createElement("div",{style:{marginBottom:"1.6rem"}},o.a.createElement(se.a,{className:t.root},o.a.createElement(ue.a,{action:o.a.createElement(de.a,{"aria-controls":"simple-menu","aria-haspopup":"true",onClick:function(e){p(e.currentTarget)}},o.a.createElement(be.a,null)),subheader:ve(e.note.response_type,t)}),o.a.createElement(le.a,{id:"simple-menu",anchorEl:u,keepMounted:!0,open:Boolean(u),onClose:b},o.a.createElement(ce.a,{onClick:function(e){n(L(f.content_id,"edit")),b()}},o.a.createElement(ie.a,{className:"min-w-40"},o.a.createElement(V.a,null,"edit")),o.a.createElement(q.a,{primary:"\uc218\uc815"})),o.a.createElement(ce.a,{onClick:function(e){window.confirm("\ud574\ub2f9 \ud15c\ud50c\ub9bf\uc744 \uc0ad\uc81c\ud558\uc2dc\uaca0\uc2b5\ub2c8\uae4c?")?n(z(f.content_id)):b()}},o.a.createElement(ie.a,{className:"min-w-40"},o.a.createElement(V.a,null,"delete")),o.a.createElement(q.a,{primary:"\uc0ad\uc81c"}))),""!==e.note.text&&o.a.createElement(me.a,null,o.a.createElement(F.a,{variant:"body2",color:"textSecondary",component:"p"},e.note.text)),e.note.images.length>0&&e.note.images.map(function(e,n){return o.a.createElement("div",{key:n},o.a.createElement(pe.a,{className:t.media,key:e.image_id,image:e.image_path,title:e.image_text}),o.a.createElement(me.a,null,o.a.createElement(F.a,{variant:"body2",color:"textSecondary",component:"p"},e.image_text)))}),e.note.buttons.length>0?o.a.createElement(me.a,null,e.note.buttons.map(function(e){return o.a.createElement(re.a,{key:e.button_id,variant:"contained",color:"secondary",size:"small",style:{margin:"4px"}},e.button_text)})):null))},Oe=n(977),xe=n.n(Oe),je=n(76);var Te=function(e){return o.a.createElement(a.Fragment,null,o.a.createElement("input",{accept:"image/*",className:"hidden",id:"button-file",type:"file",onChange:e.onChange}),o.a.createElement("label",{htmlFor:"button-file"},o.a.createElement(de.a,{className:"w-32 h-32 mx-4 p-0",component:"span"},o.a.createElement(V.a,{fontSize:"small"},"image"))))},we=n(917),Ie=n(836),Ne=n(900),Se=n(964),ke=n(966),Pe=n(828),Ce=n(843),De=n(967),Re=n(897);function Be(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}function Ae(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Be(n,!0).forEach(function(t){Object(l.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Be(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function ze(){var e=Object(ee.a)(["\n  padding: 12px;\n  border-radius: 4px;\n  border: 1px solid #dee2e6;\n  /* width: 290px; */\n  width: 100%;\n  outline: none;\n  font-size: 14px;\n  box-sizing: border-box;\n  margin: 8px;\n"]);return ze=function(){return e},e}var Le=Object(G.a)(function(e){return{formControl:{margin:e.spacing(1),minWidth:120}}}),Me=we.a.input(ze()),We=o.a.forwardRef(function(e,t){return o.a.createElement(Ie.a,Object.assign({direction:"up",ref:t},e))});var Fe=function(e){var t=Le(),n=Object(i.c)(function(e){return e.responseTemplate.responseTemplateReducer}),r=Object(a.useState)(null),l=Object(c.a)(r,2),s=l[0],u=l[1];return Object(a.useEffect)(function(){var t=[];if(null!==e.buttonId)if("new"===e.method)t.push({button_id:e.buttonId,button_class:"",button_text:"",button_payload:"/"+n.selectedIntent.intent});else if("edit"===e.method){var a=n.selectedIntent.response_template.filter(function(t){return t.content_id===e.contentId});a[0].buttons.length>0&&a[0].buttons.forEach(function(n){n.button_id===e.buttonId&&t.push(n)})}t.length>0&&u(t[0])},[e]),s?o.a.createElement(Ne.a,{classes:{paper:"w-full m-24 rounded-8"},open:e.open,onClose:e.onClose,TransitionComponent:We,disableBackdropClick:!0},o.a.createElement(Se.a,null,"\ubc84\ud2bc ","new"===e.method?"\ucd94\uac00":"\uc218\uc815"),o.a.createElement(ke.a,null,o.a.createElement("table",null,o.a.createElement("colgroup",null),o.a.createElement("tbody",null,o.a.createElement("tr",null,o.a.createElement("th",null,o.a.createElement(F.a,{variant:"body1"},"\ubc84\ud2bc\uba85")),o.a.createElement("td",null,o.a.createElement(Me,{placeholder:"\ubc84\ud2bc\uba85\uc744 \uc785\ub825\ud558\uc138\uc694.",autoFocus:!0,value:s.button_text,onChange:function(e){return function(e,t){console.log("[ButtonDialog] onChangeButtonText : ",s),u(Ae({},s,{button_text:e.target.value}))}(e)}}))),o.a.createElement("tr",null,o.a.createElement("th",null,o.a.createElement(F.a,{variant:"body1"},"Payload")),o.a.createElement("td",null,o.a.createElement(Pe.a,{variant:"outlined",className:t.formControl},o.a.createElement(Ce.a,{native:!0,labelId:"demo-simple-select-outlined-label",id:"demo-simple-select-outlined",value:s.button_payload,onChange:function(e){return function(e,t){console.log("[ButtonDialog] onChangeButtonPayload : ",s),u(Ae({},s,{button_payload:e.target.value}))}(e)}},n.intents&&n.intents.map(function(e,t){return o.a.createElement("option",{key:t,value:"/"+e.intent},"/"+e.intent)}))))),o.a.createElement("tr",null,o.a.createElement("th",null,o.a.createElement(F.a,{variant:"body1"},"ClassName")),o.a.createElement("td",null,o.a.createElement(Pe.a,{variant:"outlined",className:t.formControl},o.a.createElement(Ce.a,{native:!0,id:"demo-simple-select-outlined",value:s.button_class,onChange:function(e){return function(e,t){console.log("[ButtonDialog] onChangeButtonClass : ",s),u(Ae({},s,{button_class:e.target.value}))}(e)}},o.a.createElement("option",{value:""},"\uc120\ud0dd\uc548\ud568"),o.a.createElement("option",{value:"btnBoldRed"},"btnBoldRed"),o.a.createElement("option",{value:"btnBoldBlue"},"btnBoldBlue"),o.a.createElement("option",{value:"btnBoldGreen"},"btnBoldGreen")))))))),o.a.createElement(De.a,null,o.a.createElement(a.Fragment,null,"edit"===e.method&&o.a.createElement(Re.a,{title:"Delete Note",placement:"bottom"},o.a.createElement(de.a,{className:"w-32 h-32 mx-4 p-0",onClick:function(){console.log("[ButtonDialog] onDeleteButton : ",s),window.confirm("\ud574\ub2f9 \ubc84\ud2bc\uc744 \uc0ad\uc81c\ud558\uc2dc\uaca0\uc2b5\ub2c8\uae4c?")&&e.onRemove(e.buttonId)}},o.a.createElement(V.a,{fontSize:"small"},"delete"))),o.a.createElement(re.a,{className:"m-4",onClick:function(t){return function(t){if(console.log("[ButtonDialog] onSaveButton : ",s),""!==s.button_text)if(""!==s.button_payload){var n="";"new"===e.method?n="\ucd94\uac00":"edit"===e.method&&(n="\uc218\uc815"),window.confirm("\ud574\ub2f9 \ubc84\ud2bc\uc744 ".concat(n,"\ud558\uc2dc\uaca0\uc2b5\ub2c8\uae4c?"))&&e.onChange(s,e.method)}else alert("payload\ub97c \uc120\ud0dd\ud558\uc9c0 \uc54a\uc558\uc2b5\ub2c8\ub2e4.");else alert("\ubc84\ud2bc\uba85\uc744 \uc785\ub825\ud558\uc9c0 \uc54a\uc558\uc2b5\ub2c8\ub2e4.")}()},variant:"outlined",size:"small"},"\uc800\uc7a5"),o.a.createElement(re.a,{className:"m-4",onClick:e.onClose,variant:"outlined",size:"small"},"\ub2eb\uae30")))):null},Ue=n(831),Ge=n(902);function He(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}function Ye(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?He(n,!0).forEach(function(t){Object(l.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):He(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Je(e){var t=Object(a.useState)(null),n=Object(c.a)(t,2),l=n[0],i=n[1],s=Object(a.useState)([]),u=Object(c.a)(s,2),p=u[0],m=u[1],d=Object(a.useState)([]),f=Object(c.a)(d,2),g=f[0],b=f[1],E=Object(a.useState)(!1),y=Object(c.a)(E,2),h=y[0],v=y[1],_=Object(a.useState)(null),O=Object(c.a)(_,2),x=O[0],j=O[1],T=Object(a.useState)("new"),w=Object(c.a)(T,2),I=w[0],N=w[1];Object(a.useEffect)(function(){i({content_id:e.note.content_id,response_type:e.note.response_type,text:e.note.text}),m(e.note.images),b(e.note.buttons)},[e.note]);var S=function(e,t){v(!0),j(e),N(t)},k=function(){v(!1),j(null),N("new")};return l?o.a.createElement("div",{className:"flex flex-col w-full"},o.a.createElement(r.o,{className:"flex flex-auto w-full max-h-640"},o.a.createElement("div",{className:"w-full"},o.a.createElement("div",{className:"p-16 pb-12"},o.a.createElement(Ce.a,{native:!0,labelId:"demo-simple-select-outlined-label",id:"demo-simple-select-outlined",value:l.response_type,onChange:function(e){return function(e){console.log("[onChangeResponseType] formState : ",l),i(Ye({},l,{response_type:e.target.value}))}(e)}},o.a.createElement("option",{value:""},"\uc120\ud0dd\ud558\uc138\uc694"),o.a.createElement("option",{value:"T"},"Only Text"),o.a.createElement("option",{value:"I"},"Only Images"),o.a.createElement("option",{value:"B"},"Only Buttons"),o.a.createElement("option",{value:"TI"},"Text + Images"),o.a.createElement("option",{value:"TB"},"Text + Buttons"),o.a.createElement("option",{value:"TIB"},"Text + Images + Buttons"))),o.a.createElement("div",{className:"p-16 pb-12"},o.a.createElement(Ue.a,{className:"font-bold",placeholder:"\ud14d\uc2a4\ud2b8\ub97c \uc785\ub825\ud558\uc138\uc694...",type:"text",name:"text",value:l.text,onChange:function(e){return function(e){console.log("[onChangeText] formState : ",l),i(Ye({},l,{text:e.target.value}))}(e)},disableUnderline:!0,fullWidth:!0})),p.length>0&&p.map(function(e,t){return o.a.createElement("div",{key:e.image_id},o.a.createElement("div",{className:"relative"},o.a.createElement("img",{src:e.image_path,className:"w-full block",alt:"note"}),o.a.createElement(Ge.a,{className:"absolute right-0 bottom-0 m-8",variant:"extended",size:"small",color:"secondary","aria-label":"Delete Image",onClick:function(t){return n=e.image_id,console.log("[onDeleteImage] imageState : ",p),void(window.confirm("\ud574\ub2f9 \uc774\ubbf8\uc9c0\ub97c \uc0ad\uc81c\ud558\uc2dc\uaca0\uc2b5\ub2c8\uae4c?")&&m(p.filter(function(e){return e.image_id!==n})));var n}},o.a.createElement(V.a,{fontSize:"small"},"delete"))),o.a.createElement("div",{className:"p-16 pb-12"},o.a.createElement(Ue.a,{placeholder:"\uc774\ubbf8\uc9c0 \ub0b4\uc6a9\uc744 \uc785\ub825\ud558\uc138\uc694...",multiline:!0,rows:"4",name:"image_text",value:e.image_text,onChange:function(t){return function(e,t){console.log("[onChangeImageText] imageState : ",p);var n=p.map(function(n){return n.image_id===t?Ye({},n,{image_text:e.target.value}):n});m(n)}(t,e.image_id)},disableUnderline:!0,fullWidth:!0,autoFocus:!0})))}),g.length>0&&g.map(function(e,t){return o.a.createElement(re.a,{key:e.button_id,variant:"contained",color:"secondary",size:"small",style:{margin:"4px"},onClick:function(){return S(e.button_id,"edit")}},e.button_text)}))),o.a.createElement("div",{className:"flex flex-auto justify-between items-center h-48"},o.a.createElement("div",{className:"flex items-center px-4"},("I"===l.response_type||"TI"===l.response_type||"TIB"===l.response_type)&&o.a.createElement(Re.a,{title:"Add image",placement:"bottom"},o.a.createElement("div",null,o.a.createElement(Te,{onChange:function(e){var t=e.target.files[0];if(t){var n=new FileReader;n.readAsBinaryString(t),n.onload=function(){(function(){var e=Object($.a)(Z.a.mark(function e(){var n,a;return Z.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,A(t);case 3:if(n=e.sent,console.log("[fetchUpload] response : ",n.data),""===n.data){e.next=11;break}console.log("\ud30c\uc77c \uc5c5\ub85c\ub4dc \uc644\ub8cc"),a={image_id:ne()(),image_path:D+"/"+n.data.filename,image_text:""},m(p.concat(a)),e.next=13;break;case 11:return alert("\ud30c\uc77c \uc5c5\ub85c\ub4dc \uc911 \uc624\ub958\uac00 \ubc1c\uc0dd\ud558\uc600\uc2b5\ub2c8\ub2e4."),e.abrupt("return");case 13:e.next=20;break;case 15:return e.prev=15,e.t0=e.catch(0),console.log("err: ",e.t0),alert("\ud30c\uc77c \uc5c5\ub85c\ub4dc \uc911 \uc624\ub958\uac00 \ubc1c\uc0dd\ud558\uc600\uc2b5\ub2c8\ub2e4."),e.abrupt("return");case 20:case"end":return e.stop()}},e,null,[[0,15]])}));return function(){return e.apply(this,arguments)}})()()},n.onerror=function(){console.log("error on load image")}}}}))),("B"===l.response_type||"TB"===l.response_type||"TIB"===l.response_type)&&o.a.createElement(Re.a,{title:"Add button",placement:"bottom"},o.a.createElement("div",null,o.a.createElement(de.a,{className:"w-32 h-32 mx-4 p-0",onClick:function(){return S(ne()(),"new")}},o.a.createElement(V.a,{fontSize:"small"},"library_add"))))),o.a.createElement("div",{className:"flex items-center px-4"},o.a.createElement(a.Fragment,null,"edit"===e.method&&o.a.createElement(Re.a,{title:"Delete Note",placement:"bottom"},o.a.createElement(de.a,{className:"w-32 h-32 mx-4 p-0",onClick:e.onRemove},o.a.createElement(V.a,{fontSize:"small"},"delete"))),o.a.createElement(re.a,{className:"m-4",onClick:function(t){e.onSave(e.method,l,p,g)},variant:"outlined",size:"small"},"\uc800\uc7a5"),o.a.createElement(re.a,{className:"m-4",onClick:e.onClose,variant:"outlined",size:"small"},"\ub2eb\uae30"))),o.a.createElement(Fe,{contentId:l.content_id,buttonId:x,open:h,method:I,onClose:k,onChange:function(e,t){var n=null;"edit"===t?(n=g.map(function(t){return t.button_id===e.button_id?Ye({},t,{button_id:e.button_id,button_class:e.button_class,button_text:e.button_text,button_payload:e.button_payload}):t}),b(n)):"new"===t&&(n=g.concat(e),b(n)),console.log("update : ",n),k()},onRemove:function(e){b(g.filter(function(t){return t.button_id!==e})),k()}}))):null}Je.defaultProps={method:"edit",note:null};var Ve=Object(je.g)(Je),qe=n(154);function Xe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}function Ke(e){return o.a.createElement(xe.a,{handle:"#draggable-dialog-title",cancel:'[class*="MuiDialogContent-root"]'},o.a.createElement(qe.a,e))}var Qe=o.a.forwardRef(function(e,t){return o.a.createElement(Ie.a,Object.assign({direction:"up",ref:t},e))});var Ze=function(e){var t=Object(i.b)(),n=Object(i.c)(function(e){return e.responseTemplate.responseTemplateReducer}),a=[];return"new"===n.noteDialogState?a.push({content_id:n.noteDialogId,response_type:"T",text:"",images:[],buttons:[]}):"edit"===n.noteDialogState&&(a=n.selectedIntent.response_template.filter(function(e){return e.content_id===n.noteDialogId})),null===n.noteDialogId?null:o.a.createElement(Ne.a,{classes:{paper:"w-full m-24 rounded-8"},TransitionComponent:Qe,onClose:function(e){return t(M())},open:Boolean(n.noteDialogId),disableBackdropClick:!0,PaperComponent:Ke,"aria-labelledby":"draggable-dialog-title"},o.a.createElement(Se.a,{style:{cursor:"move"},id:"draggable-dialog-title"},"\ud15c\ud50c\ub9bf ","new"===n.noteDialogState?"\ucd94\uac00":"\uc218\uc815"),o.a.createElement(Ve,{note:a[0],onSave:function(e,a,o,r){var c=0;"I"!==a.response_type&&"TI"!==a.response_type&&"TIB"!==a.response_type||(0===o.length&&c++,o.forEach(function(e,t){""!==e.image_id&&""!==e.image_path||c++}));var i=0;if("B"!==a.response_type&&"TB"!==a.response_type&&"TIB"!==a.response_type||(0===r.length&&i++,r.forEach(function(e,t){""!==e.button_text&&""!==e.button_payload||i++})),c>0)alert("\uc774\ubbf8\uc9c0 \ud30c\uc77c\uc744 \uc5c5\ub85c\ub4dc \ud558\uc9c0 \uc54a\uc740 \ud56d\ubaa9\uc774 \uc788\uc2b5\ub2c8\ub2e4.");else if(i>0)alert("\ubc84\ud2bc\uba85 \ub610\ub294 payload\ub97c \uc785\ub825\ud558\uc9c0 \uc54a\uc740 \ubc84\ud2bc\uc774 \uc788\uc2b5\ub2c8\ub2e4.");else{var s=a;s=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Xe(n,!0).forEach(function(t){Object(l.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Xe(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({},s,{images:o,buttons:r}),console.log("[NoteDialog] onSave (method) : ",e),console.log("[NoteDialog] onSave (templateData) : ",s);var u="";"new"===e?u="\ucd94\uac00":"edit"===e&&(u="\uc218\uc815"),window.confirm("\ud574\ub2f9 \ud15c\ud50c\ub9bf\uc744 ".concat(u,"\ud558\uc2dc\uaca0\uc2b5\ub2c8\uae4c?"))&&t(function(e,t,n){return{type:k,content_id:e,payload:n,method:t}}(n.noteDialogId,e,s))}},onClose:function(e){return t(M())},onRemove:function(){console.log("[NoteDialog] onRemove : ",n.noteDialogId),window.confirm("\ud574\ub2f9 \ud15c\ud50c\ub9bf\uc744 \uc0ad\uc81c\ud558\uc2dc\uaca0\uc2b5\ub2c8\uae4c?")&&t(z(n.noteDialogId))},method:n.noteDialogState}))};function $e(e){return"undefined"===typeof e||null===e||""===e}var et=o.a.memo(function(e){var t=e.value;console.log("TemplateArea : ",t);var n=Object(a.useState)([]),r=Object(c.a)(n,2),l=r[0],i=r[1];return Object(a.useEffect)(function(){var e,n=$e(t)?"":t;console.log("response_template : ",n),e=$e(n)?"":JSON.stringify(n,void 0,4),i($e(e)?{}:JSON.parse(e))},[t]),l&&0!==l.length?o.a.createElement("div",{className:"flex flex-wrap w-full"},o.a.createElement(oe.a,{breakpointCols:2,className:"my-masonry-grid flex w-full",columnClassName:"my-masonry-grid_column flex flex-col p-8"},l&&l.length>0&&l.map(function(e){return o.a.createElement(_e,{key:e.content_id,note:e,className:"w-full rounded-8 shadow-none border-1 mb-16"})})),o.a.createElement(Ze,null)):o.a.createElement("div",{className:"flex items-center justify-center w-full"},o.a.createElement(F.a,{color:"textSecondary",variant:"h5"},"There are no templates!"),o.a.createElement(Ze,null))}),tt=n(9),nt=n(336),at=n(921),ot=n.n(at),rt=n(934),lt=n.n(rt),ct=n(978),it=n.n(ct),st=n(982),ut=n(1002),pt=n(960),mt=n(961),dt=n(932),ft=n.n(dt);function gt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}function bt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?gt(n,!0).forEach(function(t){Object(l.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):gt(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Et(){var e=Object(ee.a)(["\n  padding: 12px;\n  border-radius: 4px;\n  border: 1px solid #dee2e6;\n  /* width: 290px; */\n  width: 100%;\n  outline: none;\n  font-size: 14px;\n  box-sizing: border-box;\n  margin: 8px;\n"]);return Et=function(){return e},e}var yt=Object(G.a)(function(e){return{formControl:{margin:e.spacing(1),minWidth:120},contentWrapper:{display:"flex",flexDirection:"column",height:"100%",zIndex:10,background:"linear-gradient(to bottom, ".concat(Object(H.fade)(e.palette.background.paper,.8)," 0,").concat(Object(H.fade)(e.palette.background.paper,.6)," 20%,").concat(Object(H.fade)(e.palette.background.paper,.8),")")},heading:{fontSize:e.typography.pxToRem(15),fontWeight:e.typography.fontWeightRegular},listItem:{color:"inherit!important",textDecoration:"none!important",height:40,width:"calc(100% - 16px)",borderRadius:"0 20px 20px 0",paddingLeft:24,paddingRight:12,"&.active":{backgroundColor:e.palette.secondary.main,color:e.palette.secondary.contrastText+"!important",pointerEvents:"none","& .list-item-icon":{color:"inherit"}},"& .list-item-icon":{marginRight:16}}}}),ht=we.a.input(Et()),vt=Object(tt.a)(function(e){return{root:{color:"#fff",backgroundColor:fe.a[500],"&:hover":{backgroundColor:fe.a[700]}}}})(re.a),_t=Object(tt.a)(function(e){return{root:{color:"#fff",backgroundColor:nt.a[500],"&:hover":{backgroundColor:nt.a[700]}}}})(re.a);function Ot(e){return 0===Object.keys(e).length}function xt(e){return"undefined"===typeof e||null===e||""===e}var jt=o.a.memo(function(){var e=yt(),t=Object(i.b)(),n=Object(a.useState)({panel1:!1,panel2:!1}),r=Object(c.a)(n,2),s=r[0],u=r[1],p=Object(a.useState)(""),d=Object(c.a)(p,2),f=d[0],g=d[1],b=Object(i.c)(function(e){return e.responseTemplate.responseTemplateReducer.selectedIntent});console.log("templateState : ",f),Object(a.useEffect)(function(){Ot(b)?g(bt({},f,{intent:"",use_yn:"N",response_title:"",content_type:"C",response_template:null})):g(bt({},f,{intent:b.intent,use_yn:b.use_yn,response_title:xt(b.response_title)?"":b.response_title,content_type:b.content_type,response_template:xt(b.response_template)?null:b.response_template}))},[b]);var v=function(e){return function(t,n){u(bt({},s,Object(l.a)({},e,n)))}},_=function(e){var n;g(bt({},f,{response_title:e.target.value})),t((n=e.target.value,{type:E,payload:n}))},O=function(e){var n;g(bt({},f,{content_type:e.target.value})),t((n=e.target.value,{type:y,payload:n}))},x=function(e){var n;g(bt({},f,{use_yn:e.target.value})),t((n=e.target.value,{type:h,payload:n}))};return xt(f)||xt(f.intent)?o.a.createElement("div",{className:Object(W.a)(e.contentWrapper,"z-10")},o.a.createElement("div",{className:"flex flex-col flex-1 items-center justify-center p-24"},o.a.createElement(qe.a,{className:"rounded-full p-48"},o.a.createElement(V.a,{className:"block text-64",color:"secondary"},"chat")),o.a.createElement(F.a,{variant:"h6",className:"my-24"},"\uc778\ud150\ud2b8\ub97c \uc120\ud0dd\ud558\uc138\uc694."))):o.a.createElement("div",{style:{marginLeft:"10px"}},o.a.createElement("div",{style:{width:"100%"}},o.a.createElement("div",{style:{height:"706px"}},o.a.createElement(st.a,{expanded:s.panel1,onChange:v("panel1")},o.a.createElement(pt.a,{expandIcon:o.a.createElement(ft.a,null)},o.a.createElement("div",{className:"flex items-center"},o.a.createElement(V.a,{className:"mr-8",color:"action"},"dehaze"),o.a.createElement(F.a,{className:e.heading},"\uae30\ubcf8 \uc124\uc815"))),o.a.createElement(mt.a,null,o.a.createElement("table",null,o.a.createElement("colgroup",null),o.a.createElement("tbody",null,o.a.createElement("tr",null,o.a.createElement("th",null,o.a.createElement(F.a,{variant:"body1"},"\uc81c\ubaa9")),o.a.createElement("td",{width:"270px"},o.a.createElement(ht,{placeholder:"\uc81c\ubaa9\uc744 \uc785\ub825\ud558\uc138\uc694.",autoFocus:!0,value:f.response_title,onChange:function(e){return _(e)}}))),o.a.createElement("tr",null,o.a.createElement("th",null,o.a.createElement(F.a,{variant:"body1"},"\ucee8\ud150\uce20 \uc720\ud615")),o.a.createElement("td",null,o.a.createElement(Pe.a,{variant:"outlined",className:e.formControl},o.a.createElement(Ce.a,{native:!0,labelId:"demo-simple-select-outlined-label",id:"demo-simple-select-outlined",value:f.content_type,onChange:function(e){return O(e)}},o.a.createElement("option",{value:"C"},"\uc77c\ubc18"),o.a.createElement("option",{value:"S"},"Stepper"))))),o.a.createElement("tr",null,o.a.createElement("th",null,o.a.createElement(F.a,{variant:"body1"},"\uc0ac\uc6a9\uc5ec\ubd80")),o.a.createElement("td",null,o.a.createElement(Pe.a,{variant:"outlined",className:e.formControl},o.a.createElement(Ce.a,{native:!0,id:"demo-simple-select-outlined",value:f.use_yn,onChange:function(e){return x(e)}},o.a.createElement("option",{value:"Y"},"\uc0ac\uc6a9\ud568"),o.a.createElement("option",{value:"N"},"\uc0ac\uc6a9\uc548\ud568"))))))))),o.a.createElement(st.a,{expanded:s.panel2,onChange:v("panel2")},o.a.createElement(pt.a,{expandIcon:o.a.createElement(ft.a,null)},o.a.createElement("div",{className:"flex items-center"},o.a.createElement(V.a,{className:"mr-8",color:"action"},"dehaze"),o.a.createElement(F.a,{className:e.heading},"\ud15c\ud50c\ub9bf \uc124\uc815"))),o.a.createElement(mt.a,null,o.a.createElement("div",{style:{height:"530px",overflowY:"auto"}},o.a.createElement(et,{value:!Ot(b)&&xt(b.response_template)?null:f.response_template}))),o.a.createElement(U.a,null),o.a.createElement(ut.a,null,o.a.createElement(_t,{variant:"contained",color:"secondary",size:"small",onClick:function(){t(L(ne()(),"new"))},startIcon:o.a.createElement(it.a,null)},"\ucd94\uac00"),o.a.createElement(re.a,{variant:"contained",color:"secondary",size:"small",onClick:function(e){console.log("[IntentTemplate] onSave : ",f);var t=0,n=0,a=f.response_template;0===a.length||xt(a)?alert("\ub4f1\ub85d\ub41c \ud15c\ud50c\ub9bf\uc774 \uc874\uc7ac\ud558\uc9c0 \uc54a\uc2b5\ub2c8\ub2e4.\r\n\ud15c\ud50c\ub9bf\uc744 \ucd94\uac00\ud574\uc8fc\uc138\uc694."):(a.forEach(function(e,a){if("I"===e.response_type||"TI"===e.response_type||"TIB"===e.response_type){if(0===e.images.length)return void t++;e.images.forEach(function(e,n){""===e.image_path&&t++})}if("B"===e.response_type||"TB"===e.response_type||"TIB"===e.response_type){if(0===e.buttons.length)return void n++;e.buttons.forEach(function(t,a){""!==t.button_text&&""!==e.button_payload||n++})}}),t>0?alert("\uc774\ubbf8\uc9c0 \ud30c\uc77c\uc744 \uc5c5\ub85c\ub4dc \ud558\uc9c0 \uc54a\uc740 \ud56d\ubaa9\uc774 \uc788\uc2b5\ub2c8\ub2e4."):n>0?alert("\ubc84\ud2bc\uba85 \ub610\ub294 payload\ub97c \uc785\ub825\ud558\uc9c0 \uc54a\uc740 \ubc84\ud2bc\uc774 \uc788\uc2b5\ub2c8\ub2e4."):function(){var e=Object($.a)(Z.a.mark(function e(){return Z.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:e.prev=0,window.confirm("\ud15c\ud50c\ub9bf\uc744 \uc800\uc7a5\ud558\uc2dc\uaca0\uc2b5\ub2c8\uae4c?")&&function(){var e=Object($.a)(Z.a.mark(function e(){var t,n,a;return Z.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,o=f.intent,m.a.get(P+"/response/".concat(o));case 3:return t=e.sent,n=t.data.length>0?"UPDATE":"INSERT",console.log("method : ",n),e.next=8,B(f.intent,f.use_yn,JSON.stringify(f.response_template),f.response_title,f.content_type,n);case 8:a=e.sent,console.log("[fetchTemplate] response : ",a),"INSERT"===n&&201===a.status||"UPDATE"===n&&200===a.status?alert("\uc800\uc7a5\ub418\uc5c8\uc2b5\ub2c8\ub2e4."):alert("\uc800\uc7a5 \uc911 \uc624\ub958\uac00 \ubc1c\uc0dd\ud558\uc600\uc2b5\ub2c8\ub2e4."),e.next=17;break;case 13:e.prev=13,e.t0=e.catch(0),console.log("err: ",e.t0),alert("\uc800\uc7a5 \uc911 \uc624\ub958\uac00 \ubc1c\uc0dd\ud558\uc600\uc2b5\ub2c8\ub2e4.");case 17:case"end":return e.stop()}var o},e,null,[[0,13]])}));return function(){return e.apply(this,arguments)}}()(),e.next=9;break;case 5:return e.prev=5,e.t0=e.catch(0),console.log(e.t0),e.abrupt("return",null);case 9:case"end":return e.stop()}},e,null,[[0,5]])}));return function(){return e.apply(this,arguments)}}()())},startIcon:o.a.createElement(lt.a,null)},"\uc800\uc7a5"),f.response_template.length>0&&o.a.createElement(vt,{variant:"contained",color:"primary",size:"small",onClick:function(e){(console.log("[onDelete] intent: ",f.intent),window.confirm("\ud15c\ud50c\ub9bf\uc744 \uc0ad\uc81c\ud558\uc2dc\uaca0\uc2b5\ub2c8\uae4c?"))&&function(){var e=Object($.a)(Z.a.mark(function e(){var n;return Z.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,a=f.intent,m.a.delete(P+"/response"+"/".concat(a));case 3:n=e.sent,console.log("[fetchTemplate] response : ",n.data),204===n.status?(t(R(f.intent)),alert("\uc0ad\uc81c\ub418\uc5c8\uc2b5\ub2c8\ub2e4.")):alert("\uc0ad\uc81c \uc911 \uc624\ub958\uac00 \ubc1c\uc0dd\ud558\uc600\uc2b5\ub2c8\ub2e4."),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(0),console.log("err: ",e.t0),alert("\uc0ad\uc81c \uc911 \uc624\ub958\uac00 \ubc1c\uc0dd\ud558\uc600\uc2b5\ub2c8\ub2e4.");case 12:case"end":return e.stop()}var a},e,null,[[0,8]])}));return function(){return e.apply(this,arguments)}}()()},startIcon:o.a.createElement(ot.a,null)},"\uc0ad\uc81c"))))))}),Tt=n(910),wt=n(884),It=n(909),Nt=n(979),St=n.n(Nt),kt=(n(980),n(981),n(1003)),Pt=n(1004),Ct=n(950),Dt=n(945),Rt=n(949),Bt=n(32),At=n(883),zt=Object(It.a)(function(e){return{header:{background:"linear-gradient(to right, "+e.palette.primary.dark+" 0%, "+e.palette.primary.main+" 100%)",color:e.palette.primary.contrastText},panel:{margin:0,borderWidth:"1px 1px 1px 1px",borderStyle:"solid",borderColor:e.palette.divider,"&:first-child":{borderRadius:"16px 16px 0 0"},"&:last-child":{borderRadius:"0 0 16px 16px",borderWidth:"1px 1px 1px 1px"}},expanded:{},media:{height:280},stepper:{backgroundColor:"#3c4252"}}});var Lt=o.a.memo(function(){var e=zt(),t=Object(i.c)(function(e){return e.responseTemplate.responseTemplateReducer.selectedIntent}),n=Object(Bt.a)(),l=Object(At.a)(n.breakpoints.down("sm")),s=Object(a.useState)(!1),u=Object(c.a)(s,2),p=u[0],m=u[1],d=Object(a.useState)({image_path:"",image_text:""}),f=Object(c.a)(d,2),g=f[0],b=f[1],E=Object(a.useState)(!1),y=Object(c.a)(E,2),h=y[0],v=y[1];Object(a.useEffect)(function(){var e;console.log(t),e=t,0===Object.keys(e).length||function(e){return"undefined"===typeof e||null===e||""===e}(t.intent)?v(!1):v(!0)},[t]);var _=function(e,t){b({image_path:e,image_text:t}),m(!0)},O=function(){b({image_path:"",image_text:""}),m(!1)};return o.a.createElement("div",{style:{height:"600px",overflow:"auto"},className:"flex flex-col flex-1 flex-shrink-0 max-w-xl w-full mx-auto px-4 sm:px-2 py-24 sm:py-32"},o.a.createElement(r.b,{duration:400,delay:100,enter:{animation:"trainsition.slideUpBigIn"}},o.a.createElement(st.a,{classes:{root:e.panel,expanded:e.expanded},key:"panel-1",onChange:function(){return console.log("ExpansionPanel onChange")},elevation:0},o.a.createElement(pt.a,{expandIcon:o.a.createElement(V.a,null,"expand_more")},o.a.createElement("div",{className:"flex items-center"},o.a.createElement(V.a,{className:"mr-8",color:"action"},"help_outline"),o.a.createElement(F.a,{className:""},"\ud15c\ud50c\ub9bf \uc0c1\ud0dc (DATA)"))),o.a.createElement(mt.a,null,h?o.a.createElement(St.a,{id:"json-pretty",data:JSON.stringify(t),style:{background:"#1e1e1e",fontSize:"12px",height:"372px",overflow:"auto",width:"100%"},mainStyle:"background: #1e1e1e; padding: 1em;"}):o.a.createElement(F.a,{variant:"caption"},"\ud45c\uc2dc\ud560 \ub0b4\uc6a9\uc774 \uc5c6\uc2b5\ub2c8\ub2e4.")))),o.a.createElement(r.b,{duration:400,delay:100,enter:{animation:"trainsition.slideUpBigIn"}},o.a.createElement(st.a,{classes:{root:e.panel,expanded:e.expanded},key:"panel-2",onChange:function(){return console.log("ExpansionPanel onChange")},elevation:0},o.a.createElement(pt.a,{expandIcon:o.a.createElement(V.a,null,"expand_more")},o.a.createElement("div",{className:"flex items-center"},o.a.createElement(V.a,{className:"mr-8",color:"action"},"help_outline"),o.a.createElement(F.a,{className:""},"\ud15c\ud50c\ub9bf \uc0c1\ud0dc (\ubbf8\ub9ac\ubcf4\uae30)"))),o.a.createElement(mt.a,null,h?o.a.createElement("div",{style:{height:"520px",overflow:"auto",fontSize:"12px",background:"#757575",border:"solid 1px #e9ecef",padding:"6px 6px 6px 6px",width:"100%"}},o.a.createElement("div",{className:"response"},o.a.createElement("div",{className:"message-text"},o.a.createElement(ue.a,{subheader:t.response_title}),t.response_template&&t.response_template.length>0&&"C"===t.content_type&&t.response_template.map(function(t){return o.a.createElement(o.a.Fragment,{key:t.content_id},o.a.createElement(se.a,{className:"classes.root btninfo-container",style:{background:"#3c4252"}},o.a.createElement(kt.a,null,o.a.createElement(ue.a,{subheader:t.text}),t.images.length>0&&t.images.map(function(t){return o.a.createElement(o.a.Fragment,{key:t.image_id},o.a.createElement(pe.a,{className:e.media,image:t.image_path,component:"img",title:t.image_text,onClick:function(){return _(t.image_path,t.image_text)}}),o.a.createElement(me.a,null,o.a.createElement(F.a,{variant:"body2",color:"textSecondary",component:"p"},t.image_text)))})),t.buttons.length>0&&o.a.createElement(Pt.a,{style:{justifyContent:"space-around"}},t.buttons.map(function(e){return o.a.createElement(re.a,{className:"btninfo-btn",key:e.button_id,size:"small",variant:"contained",color:"secondary",value:e.button_text},e.button_text)}))))}),t.response_template&&t.response_template.length>0&&"S"===t.content_type&&o.a.createElement(Ct.a,{className:e.stepper,activeStep:0,orientation:"vertical"},t.response_template.map(function(t){return o.a.createElement(Dt.a,{key:t.content_id},o.a.createElement(Rt.a,null,o.a.createElement(se.a,{className:"classes.root btninfo-container",style:{background:"#3c4252"}},o.a.createElement(kt.a,null,0===t.images.length&&0===t.buttons.length&&o.a.createElement(ue.a,{subheader:t.text}),t.images.length>0&&t.images.map(function(t){return o.a.createElement(o.a.Fragment,{key:t.image_id},o.a.createElement(pe.a,{className:e.media,image:t.image_path,component:"img",title:t.image_text,onClick:function(){return _(t.image_path,t.image_text)}}),o.a.createElement(me.a,null,o.a.createElement(F.a,{variant:"body2",color:"textSecondary",component:"p"},t.image_text)))})),t.buttons.length>0&&o.a.createElement(Pt.a,{style:{justifyContent:"space-around"}},t.buttons.map(function(e){return o.a.createElement(re.a,{className:"btninfo-btn",key:e.button_id,size:"small",variant:"contained",color:"secondary",value:e.button_text},e.button_text)})))))}))))):o.a.createElement(F.a,{variant:"caption"},"\ud45c\uc2dc\ud560 \ub0b4\uc6a9\uc774 \uc5c6\uc2b5\ub2c8\ub2e4.")))),o.a.createElement(Ne.a,{fullScreen:l,open:p,onClose:O,"aria-labelledby":"responsive-dialog-title"},o.a.createElement(ke.a,null,o.a.createElement("img",{src:g.image_path,title:g.image_text,alt:g.image_text,onClick:O}))))}),Mt=Object(It.a)(function(e){var t;return{root:{display:"flex",flexDirection:"row",minHeight:"100%",position:"relative",flex:"1 1 auto",height:"auto",backgroundColor:e.palette.background.default},topBg:{position:"absolute",left:0,right:0,top:0,height:100,backgroundImage:'url("../../assets/images/backgrounds/header-bg.png")',backgroundColor:e.palette.primary.dark,backgroundSize:"cover",pointerEvents:"none"},contentCardWrapper:(t={position:"relative",padding:24,maxWidth:1900,display:"flex",flexDirection:"column",flex:"1 0 auto",width:"100%",minWidth:"0",maxHeight:"100%",margin:"0 auto"},Object(l.a)(t,e.breakpoints.down("sm"),{padding:16}),Object(l.a)(t,e.breakpoints.down("xs"),{padding:12}),t),contentCard:{display:"flex",position:"relative",flex:"1 1 100%",flexDirection:"row-reverse",backgroundImage:'url("/assets/images/backgrounds/dark-material-bg.jpg")',backgroundColor:e.palette.background.paper,boxShadow:e.shadows[1],borderRadius:8,minHeight:0,overflow:"hidden"},drawerPaper:Object(l.a)({width:450,maxWidth:"100%",overflow:"hidden",height:"100%"},e.breakpoints.up("md"),{position:"relative"}),contentWrapper:{display:"flex",flexDirection:"column",flex:"1 1 100%",zIndex:10,background:"linear-gradient(to bottom, ".concat(Object(H.fade)(e.palette.background.paper,.8)," 0,").concat(Object(H.fade)(e.palette.background.paper,.6)," 20%,").concat(Object(H.fade)(e.palette.background.paper,.8),")")},content:{display:"flex",flex:"1 1 100%",minHeight:0}}});var Wt=o.a.memo(function(){var e=Mt();return o.a.createElement("div",{className:Object(W.a)(e.root)},o.a.createElement("div",{className:e.topBg}),o.a.createElement("div",{className:Object(W.a)(e.contentCardWrapper,"container"),style:{height:"840px",overflowY:"auto"}},o.a.createElement("div",{className:e.contentCard},o.a.createElement(Tt.a,{mdUp:!0},o.a.createElement(wt.a,{className:"h-full absolute z-20",variant:"temporary",anchor:"right",classes:{paper:Object(W.a)(e.drawerPaper,"absolute left-0")},style:{position:"absolute"},ModelProps:{keepMounted:!0,disablePortal:!0,BackdropProps:{classes:{root:"absolute"}}}},o.a.createElement(Lt,null))),o.a.createElement(Tt.a,{smDown:!0},o.a.createElement(wt.a,{className:"h-full z-20",variant:"permanent",open:!0,classes:{paper:e.drawerPaper}},o.a.createElement(Lt,null))),o.a.createElement("main",{className:Object(W.a)(e.contentWrapper,"z-10")},o.a.createElement("div",{className:"p-24"},o.a.createElement("div",{style:{height:"750px",width:"30%",float:"left",overflowY:"auto"}},o.a.createElement(K,{project_id:"default"})),o.a.createElement("div",{style:{height:"750px",width:"70%",float:"left",overflowY:"auto"}},o.a.createElement(jt,null)))))))}),Ft=n(172),Ut=n(46),Gt=n(12);function Ht(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}function Yt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ht(n,!0).forEach(function(t){Object(l.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ht(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var Jt={intents:[],selectedIntent:{intent:"",use_yn:"N",response_template:null,response_title:"",content_type:"C"},noteDialogId:null,noteDialogState:null},Vt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Jt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case d:return Yt({},e,{intents:t.payload,selectedIntent:{},noteDialogId:null,noteDialogState:null});case f:return 0===t.payload.length?Yt({},e,{selectedIntent:{intent:t.intent,use_yn:"N",response_template:[],response_title:"",content_type:"C"}}):Yt({},e,{selectedIntent:{intent:t.payload[0].intent,use_yn:t.payload[0].use_yn,response_template:JSON.parse(t.payload[0].response_template),response_title:t.payload[0].response_title,content_type:t.payload[0].content_type}});case g:return Yt({},e,{selectedIntent:Yt({},e.selectedIntent,{response_template:e.selectedIntent.response_template.concat(t.payload)})});case b:return Yt({},e,{selectedIntent:{}});case E:return Yt({},e,{selectedIntent:Yt({},e.selectedIntent,{response_title:t.payload})});case y:return Yt({},e,{selectedIntent:Yt({},e.selectedIntent,{content_type:t.payload})});case h:return Yt({},e,{selectedIntent:Yt({},e.selectedIntent,{use_yn:t.payload})});case v:return Yt({},e,{selectedIntent:Yt({},e.selectedIntent,{response_template:e.selectedIntent.response_template.filter(function(e){return e.content_id!==t.payload})}),noteDialogId:null,noteDialogState:null});case _:var n=[],a=e.selectedIntent.response_template;return a.forEach(function(e){e.content_id===t.content_id?n.push(Yt({},e,{text:t.payload})):n.push(Yt({},e))}),Yt({},e,{selectedIntent:Yt({},e.selectedIntent,{response_template:n})});case O:var o=[],r=e.selectedIntent.response_template;return r.forEach(function(e){e.content_id===t.content_id?o.push(Yt({},e,{images:e.images.concat(t.payload)})):o.push(Yt({},e))}),Yt({},e,{selectedIntent:Yt({},e.selectedIntent,{response_template:o})});case x:var l=[],c=e.selectedIntent.response_template;return c.forEach(function(e){var n=e.images.map(function(e){return e.image_id===t.payload.image_id?Yt({},e,{image_text:t.payload.image_text}):e});l.push(Yt({},e,{images:n}))}),Yt({},e,{selectedIntent:Yt({},e.selectedIntent,{response_template:l})});case j:var i=[],s=e.selectedIntent.response_template;return s.forEach(function(e){var n=e.images.filter(function(e){return e.image_id!==t.payload});i.push(Yt({},e,{images:n}))}),Yt({},e,{selectedIntent:Yt({},e.selectedIntent,{response_template:i})});case T:var u=[],p=e.selectedIntent.response_template;return p.forEach(function(e){e.content_id===t.content_id?u.push(Yt({},e,{buttons:e.buttons.concat(t.payload)})):u.push(Yt({},e))}),Yt({},e,{selectedIntent:Yt({},e.selectedIntent,{response_template:u})});case w:var m=[],P=e.selectedIntent.response_template;return P.forEach(function(e){var n=e.buttons.map(function(e){return e.button_id===t.payload.button_id?Yt({},e,{button_class:t.payload.button_class,button_text:t.payload.button_text,button_payload:t.payload.button_payload}):e});m.push(Yt({},e,{buttons:n}))}),Yt({},e,{selectedIntent:Yt({},e.selectedIntent,{response_template:m})});case I:var C=[],D=e.selectedIntent.response_template;return D.forEach(function(e){var n=e.buttons.filter(function(e){return e.button_id!==t.payload});C.push(Yt({},e,{buttons:n}))}),Yt({},e,{selectedIntent:Yt({},e.selectedIntent,{response_template:C})});case N:return Yt({},e,{noteDialogId:t.payload,noteDialogState:t.method});case S:return Yt({},e,{noteDialogId:null,noteDialogState:null});case k:var R=[];if("new"===t.method)(R=Object(Gt.a)(e.selectedIntent.response_template)).push(t.payload);else if("edit"===t.method){var B=e.selectedIntent.response_template;B.forEach(function(e){e.content_id===t.content_id?R.push(t.payload):R.push(Yt({},e))})}return Yt({},e,{selectedIntent:Yt({},e.selectedIntent,{response_template:R}),noteDialogId:null,noteDialogState:null});default:return e}},qt=Object(Ut.d)({responseTemplateReducer:Vt}),Xt=Object(It.a)(function(e){return{layoutRoot:{}}});t.default=Object(Ft.a)("responseTemplate",qt)(function(e){var t=Xt(e);return o.a.createElement(r.n,{classes:{root:t.layoutRoot},content:o.a.createElement(Wt,null)})})},981:function(e,t,n){}}]);
//# sourceMappingURL=12.954ea46d.chunk.js.map