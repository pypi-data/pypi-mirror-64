(this["webpackJsonptina-talk-admin"]=this["webpackJsonptina-talk-admin"]||[]).push([[11],{994:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),c=a(946),r=a.n(c),o=a(947),i=a(21),s=a(984),u=a(985),d=a(986),m=a(938),p=a(997),g=[{id:"model",numeric:!0,disablePadding:!0,label:"Model\uba85"},{id:"trained_at",numeric:!0,disabledPadding:!0,label:"Model \ud559\uc2b5 \uc77c\uc2dc"},{id:"state",numeric:!0,disabledPadding:!0,label:"Model \uc0c1\ud0dc"}],b=function(e){console.log("ModelTableHead",e);var t=e.onSelectAllClick,a=e.order,n=e.orderBy,c=e.numSelected,r=e.rowCount,o=e.onRequestSort;return l.a.createElement(s.a,null,l.a.createElement(u.a,null,l.a.createElement(d.a,{padding:"checkbox"},l.a.createElement(m.a,{indeterminate:c>0&&c<r,checked:c===r,onChange:t,inputProps:{"aria-label":"\ubaa8\ub378 \uc804\uccb4 \uc120\ud0dd"}})),g.map((function(e){return l.a.createElement(d.a,{key:e.id,align:e.numeric?"center":"right",padding:e.disablePadding?"none":"default",sortDirection:n===e.id&&a},l.a.createElement(p.a,{active:n===e.id,direction:a,onClick:(t=e.id,function(e){o(e,t)})},e.label));var t}))))},f=a(28),h=a(956),E=a(19),v=a(930),k=a(132),j=a(922),O=a(849),x=a(3),w=a(945),y=a.n(w),S=a(943),C=a.n(S),P=a(949),N=a.n(P),M=Object(h.a)((function(e){return{root:{paddingLeft:e.spacing(2),paddingRight:e.spacing(1)},highlight:"light"===e.palette.type?{color:e.palette.secondary.main,backgroundColot:Object(E.e)(e.palette.secondary.light,.85)}:{color:e.palette.text.primary,backgroundColor:e.palette.primary.dark},spacer:{flex:"1 1 100%"},actions:{flex:"0 0 auto",justifyContent:"flex-end",color:e.palette.text.primary},title:{flex:"0 0 auto"}}})),A=function(e){var t=M(),a=e.numSelected,n=e.onRefresh,c=e.onActive;return l.a.createElement(v.a,{className:Object(x.a)(t.root,Object(f.a)({},t.highlight,a>0))},l.a.createElement("div",{className:t.title},a>0?l.a.createElement(k.a,{color:"inherit",variant:"subtitle1"},a," \uac1c \ubaa8\ub378\uc774 \uc120\ud0dd\ub418\uc5c8\uc2b5\ub2c8\ub2e4"):l.a.createElement(k.a,{variant:"h6",id:"tableTitle"},"\ud559\uc2b5 Model \ub9ac\uc2a4\ud2b8")),l.a.createElement("div",{className:t.spacer}),l.a.createElement("div",{className:t.actions},a>0?1===a?l.a.createElement(l.a.Fragment,null,l.a.createElement(j.a,{title:"\ubaa8\ub378 \ud65c\uc131\ud654"},l.a.createElement(O.a,{"aria-label":"Active Model",onClick:c},l.a.createElement(C.a,null))),l.a.createElement(j.a,{title:"\ubaa8\ub378 \uc0ad\uc81c"},l.a.createElement(O.a,{"aria-label":"Delete"},l.a.createElement(y.a,null)))):l.a.createElement(l.a.Fragment,null,l.a.createElement(j.a,{title:"\ubaa8\ub378 \uc0ad\uc81c"},l.a.createElement(O.a,{"aria-label":"Delete"},l.a.createElement(y.a,null)))):l.a.createElement(j.a,{title:"\uc7ac\uc870\ud68c"},l.a.createElement(O.a,{"aria-label":"Refresh",onClick:n},l.a.createElement(N.a,null)))))};var R=a(154),_=a(987),T=a(988),B=a(998),D=a(916),F=a(917),I=a(42),L=a.n(I);function W(e,t){var a=Object.keys(t).map((function(e){return e+"="+t[e]})).join("&");return L.a.get("/api/projects/"+e+"/models?"+a)}var q=a(26),H=a(50),J={selectedModel:{}},z=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:J,t=arguments.length>1?arguments[1]:void 0;return t.type,e},U=Object(H.d)({modelTableApp:z}),X=a(174),Y=Object(h.a)((function(e){return{root:{width:"100%",marginTop:e.spacing(3)},paper:{width:"100%",marginBottom:e.spacing(2)},table:{minWidth:750},tableWrapper:{overflowX:"auto"}}}));function G(e,t,a){return t[a]<e[a]?-1:t[a]>e[a]?1:0}function K(e){var t=new Date(1e3*e),a=t.getFullYear(),n=1+t.getMonth();n=n>=10?n:"0"+n;var l=t.getDate(),c=a+"-"+n+"-"+(l=l>=10?l:"0"+l),r=t.getHours(),o="0"+t.getMinutes(),i="0"+t.getSeconds(),s=r+":"+o.substr(-2)+":"+i.substr(-2);return console.log(c),console.log(s),c+" "+s}var Q=Object(X.a)("ModelTableApp",U)((function(){var e=Object(n.useState)([]),t=Object(i.a)(e,2),a=t[0],c=t[1],s=Object(n.useState)(!1),p=Object(i.a)(s,2),g=(p[0],p[1]),f=Object(n.useState)("asc"),h=Object(i.a)(f,2),E=h[0],v=h[1],k=Object(n.useState)("model"),j=Object(i.a)(k,2),O=j[0],x=j[1],w=Object(n.useState)([]),y=Object(i.a)(w,2),S=y[0],C=y[1],P=Object(n.useState)(0),N=Object(i.a)(P,2),M=N[0],I=N[1],H=Object(n.useState)(!1),J=Object(i.a)(H,2),z=J[0],U=J[1],X=Object(n.useState)(10),Q=Object(i.a)(X,2),V=Q[0],Z=Q[1];Object(n.useEffect)((function(){(function(){var e=Object(o.a)(r.a.mark((function e(){var t;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return g(!0),e.prev=1,e.next=4,W("default",{limit:M*V===0?V:M*V,offset:M});case 4:t=e.sent,console.log(t),c(t.data),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),console.log(e.t0);case 12:g(!1);case 13:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(){return e.apply(this,arguments)}})()()}),[M,V]);var $=function(){var e=Object(o.a)(r.a.mark((function e(t){var a;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("refreshList",t),g(!0),e.prev=2,e.next=5,W("default",{limit:M*V===0?V:M*V,offset:M});case 5:a=e.sent,console.log(a),K(a.data[0].trained_at),c(a.data),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),console.log(e.t0);case 15:g(!1);case 16:case"end":return e.stop()}}),e,null,[[2,12]])})));return function(t){return e.apply(this,arguments)}}(),ee=V-Math.min(V,a.length-M*V),te=Y(),ae=function(){var e=Object(o.a)(r.a.mark((function e(){var t;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log("active model process"),console.log("selected model",S),!(S.length>0)){e.next=8;break}return e.next=5,a="default",n=S[0],L.a.put("/api/projects/"+a+"/models/"+n+"/tags/production");case 5:t=e.sent,console.log(t),$(null);case 8:case"end":return e.stop()}var a,n}),e)})));return function(){return e.apply(this,arguments)}}();return l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-md-12"},l.a.createElement("div",{className:"kt-section"},l.a.createElement("span",{className:"kt-section__sub"},l.a.createElement("strong",null,"NLU \ud559\uc2b5 ",l.a.createElement("code",null,"Model")," \uad00\ub9ac"))),l.a.createElement("div",{className:"kt-section__content"},l.a.createElement(R.a,{className:te.root},l.a.createElement(A,{numSelected:S.length,onRefresh:$,onActive:ae}),l.a.createElement("div",{className:te.tableWrapper},l.a.createElement(_.a,{className:te.table,"aria-labelledby":"tableTitle",size:z?"small":"medium"},l.a.createElement(b,{numSelected:S.length,order:E,orderBy:O,onSelectAllClick:function(e){if(e.target.checked){var t=a.map((function(e){return e.model}));C(t)}else C([])},onRequestSort:function(e,t){v(O===t&&"desc"===E?"asc":"desc"),x(t)},rowCount:a.length}),l.a.createElement(T.a,null,function(e,t){var a=e.map((function(e,t){return[e,t]}));return a.sort((function(e,a){var n=t(e[0],a[0]);return 0!==n?n:e[1]-a[1]})),a.map((function(e){return e[0]}))}(a,function(e,t){return"desc"===e?function(e,a){return G(e,a,t)}:function(e,a){return-G(e,a,t)}}(E,O)).slice(M*V,M*V+V).map((function(e,t){console.log("row",e),console.log("row",e.model);var a,n=(a=e.model,-1!==S.indexOf(a)),c="mnodel-table-checkbox-".concat(t);return l.a.createElement(q.b,{animation:"transition.fadeIn",duration:400,delay:100,key:e.model},l.a.createElement(u.a,{hover:!0,onClick:function(t){return function(e,t){console.log("handleClick",e,t);var a=S.indexOf(t),n=[];-1===a?n=n.concat(S,t):0===a?n=n.concat(S.slice(1)):a===S.length-1?n=n.concat(S.slice(0,-1)):a>0&&(n=n.concat(S.slice(0,a),S.slice(a+1))),C(n)}(t,e.model)},role:"checkbox","aria-checked":n,tabIndex:-1,key:e.model,selected:n},l.a.createElement(d.a,{padding:"checkbox"},l.a.createElement(m.a,{checked:n,inputProps:{"aria-labelledby":c}})),l.a.createElement(d.a,{align:"center",component:"th",id:c,scope:"row",padding:"none"},e.model),l.a.createElement(d.a,{align:"center"},K(e.trained_at)),l.a.createElement(d.a,{align:"center"},e.tags)))})),ee>0&&l.a.createElement(u.a,{style:{height:49*ee}},l.a.createElement(d.a,{colSpan:4}))))),l.a.createElement(B.a,{rowsPerPageOptions:[1,5,10,25,50],component:"div",count:a.length,rowsPerPage:V,page:M,backIconButtonProps:{"aria-label":"\uc774\uc804 \ud398\uc774\uc9c0"},nextIconButtonProps:{"aria-label":"\ub2e4\uc74c \ud398\uc774\uc9c0"},onChangePage:function(e,t){I(t)},onChangeRowsPerPage:function(e){Z(+e.target.value)}})),l.a.createElement(D.a,{control:l.a.createElement(F.a,{checked:z,onChange:function(e){U(e.target.checked)}}),label:"\uac04\uaca9 \uc904\uc774\uae30"})))))}));t.default=function(){return l.a.createElement(Q,null)}}}]);
//# sourceMappingURL=11.59e01615.chunk.js.map