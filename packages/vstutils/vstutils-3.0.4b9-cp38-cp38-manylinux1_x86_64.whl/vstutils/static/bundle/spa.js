var vstutilsLibs=function(b){function d(c){for(var d,i,a=c[0],j=c[1],k=c[2],m=0,n=[];m<a.length;m++)i=a[m],Object.prototype.hasOwnProperty.call(g,i)&&g[i]&&n.push(g[i][0]),g[i]=0;for(d in j)Object.prototype.hasOwnProperty.call(j,d)&&(b[d]=j[d]);for(l&&l(c);n.length;)n.shift()();return h.push.apply(h,k||[]),e()}function e(){for(var a,b=0;b<h.length;b++){for(var c,d=h[b],e=!0,i=1;i<d.length;i++)c=d[i],0!==g[c]&&(e=!1);e&&(h.splice(b--,1),a=f(f.s=d[0]))}return a}function f(c){if(a[c])return a[c].exports;var d=a[c]={i:c,l:!1,exports:{}};return b[c].call(d.exports,d,d.exports,f),d.l=!0,d.exports}var a={},g={4:0},h=[];f.m=b,f.c=a,f.d=function(a,b,c){f.o(a,b)||Object.defineProperty(a,b,{enumerable:!0,get:c})},f.r=function(a){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(a,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(a,"__esModule",{value:!0})},f.t=function(a,b){if(1&b&&(a=f(a)),8&b)return a;if(4&b&&"object"==typeof a&&a&&a.__esModule)return a;var c=Object.create(null);if(f.r(c),Object.defineProperty(c,"default",{enumerable:!0,value:a}),2&b&&"string"!=typeof a)for(var d in a)f.d(c,d,function(b){return a[b]}.bind(null,d));return c},f.n=function(a){var b=a&&a.__esModule?function(){return a.default}:function(){return a};return f.d(b,"a",b),b},f.o=function(a,b){return Object.prototype.hasOwnProperty.call(a,b)},f.p="/static/bundle/";var i=window.webpackJsonpvstutilsLibs=window.webpackJsonpvstutilsLibs||[],j=i.push.bind(i);i.push=d,i=i.slice();for(var k=0;k<i.length;k++)d(i[k]);var l=j;return h.push([76,2,3,1,0]),e()}({76:function(b,d,e){"use strict";function f(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);b&&(d=d.filter(function(b){return Object.getOwnPropertyDescriptor(a,b).enumerable})),c.push.apply(c,d)}return c}function g(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}function h(a,b){for(var c,d=0;d<b.length;d++)c=b[d],c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(a,c.key,c)}e.r(d),e.d(d,"default",function(){return a});var j=e(1),k=e(29),i=e(14),l=e(3);e(65),e(184);var a=function(){function a(b,c,d){!function(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}(this,a),this.api=new k.a(b,c,d),this.error_handler=new i.a,this.models=null,this.views=null,this.languages=null,this.translations=null,this.user=null,this.application=null}var b,d,e;return b=a,(d=[{key:"start",value:function(){var a=this,b=l.b.get("lang")||"en",c=[this.api.getLanguages(),this.api.getTranslations(b),this.api.loadUser()];return Promise.all(c).then(function(c){a.languages=c[0],a.translations=g({},b,c[1]),a.user=c[2],fieldsRegistrator.registerAllFieldsComponents(),a.initModels(),a.initViews(),a.mountApplication()}).catch(function(a){throw new Error(a)})}},{key:"initModels",value:function(){this.models=this.generateModels()}},{key:"generateModels",value:function(){return new ModelConstructor(openapi_dictionary,guiModels).generateModels(this.api.openapi)}},{key:"initViews",value:function(){this.views=this.generateViews(),this.prepareViewsModelsFields()}},{key:"generateViews",value:function(){return new ViewConstructor(openapi_dictionary,this.models).generateViews(View,this.api.openapi)}},{key:"prepareViewsModelsFields",value:function(){for(var a in this.views)if(this.views.hasOwnProperty(a)){var b=this.views[a];for(var c in b.objects.model.fields)if(b.objects.model.fields.hasOwnProperty(c)){var d=b.objects.model.fields[c];if(d.constructor.prepareField){var e=d.constructor.prepareField(d,a);b.objects.model.fields[c]=e}}}}},{key:"setLanguage",value:function(a){var b=this;return this._prefetchTranslation(a).then(function(a){return b.application.$i18n.locale=a,l.b.set("lang",a),tabSignal.emit("app.language.changed",{lang:a}),a})}},{key:"_prefetchTranslation",value:function(a){var b=this;return Object.values(this.languages).map(function(a){return a.code}).includes(a)?this.translations[a]?Promise.resolve(a):this.api.getTranslations(a).then(function(c){return b.translations=function(a){for(var b,c=1;c<arguments.length;c++)b=null==arguments[c]?{}:arguments[c],c%2?f(Object(b),!0).forEach(function(c){g(a,c,b[c])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(b)):f(Object(b)).forEach(function(c){Object.defineProperty(a,c,Object.getOwnPropertyDescriptor(b,c))});return a}({},b.translations,g({},a,c)),b.application.$i18n.setLocaleMessage(a,c),a}).catch(function(a){throw a}):Promise.reject(!1)}},{key:"mountApplication",value:function(){tabSignal.emit("app.beforeInit",{app:this});var a=new StoreConstructor(this.views),b=new RouterConstructor(this.views,routesComponentsTemplates,customRoutesComponentsTemplates),c=new VueI18n({locale:l.b.get("lang")||"en",messages:this.translations});this.application=new j.a({data:{info:this.api.openapi.info,x_menu:this.api.openapi.info["x-menu"],x_docs:this.api.openapi.info["x-docs"],a_links:!1},computed:{realBodyClasses:function(){var a="";return["is_superuser","is_staff"].forEach(function(b){a+=window[b]?b+" ":""}),a}},router:b.getRouter(),store:a.getStore(),i18n:c}).$mount("#RealBody"),tabSignal.emit("app.afterInit",{app:this})}}])&&h(b.prototype,d),e&&h(b,e),a}();window.App=a}});