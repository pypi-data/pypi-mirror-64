
# cds-python-api-client

This project repository contains a Python client package for accessing data from an API that follows the [Consumer Data Standards](#The-Consumer-Data-Standards).

You are welcome to [install](#installation) and [use](#basic-usage) this Python package. But before doing so:

* read [about the origin of this package](#about-this-package);
* consult API providers' [documentation](#api-documentation-pages) for details on the availability of their API endpoints and data resources; and
* review this package's [LICENSE](LICENSE).

Also, bear in mind that this package is NOT part of the official Consumer Data Standards' project, nor any API implementation of the Standards.


## Installation



You can install this package directly from Github (using pip):

```sh
pip install git+https://github.com/stephenmccalman/cds-python-api-client.git --user
```

You can also pip install a recent version (0.0.1) of it from PYPI:


```sh
pip install cds-api-client --user
```

## Basic Usage

To access Products data from a bank API that follows the Consumer Data Standards:

```python
import cds
from cds.rest import ApiException
from pprint import pprint

configuration = cds.Configuration()
configuration.host = 'https://data.holder.com.au' + '/cds-au/v1'  
api_client = cds.ApiClient(configuration)

products_api = cds.ProductsApi(api_client)

try:
    products_list = products_api.list_products(x_v='1')  # use x_v='2' from August 2020
except ApiException as e:
    print(e)
    
pprint(products_list.data)
```



Replace `https://data.holder.com.au` with the API host address of a bank; see [api documentation pages](#api-documentation-pages).

## About this package

I generated this package with an open-source Java CLI (swagger-codegen-cli-2.4.12.jar) that I downloaded from the [Swagger Codegen Project](https://github.com/swagger-api/swagger-codegen/#generators)'s [Maven repository](https://repo1.maven.org/maven2/io/swagger/swagger-codegen-cli/2.4.12/). 

The Swagger-Codegen CLI generates an API client package from a Swagger specification file; the specification file is a JSON- (or YAML-) formated text file that lists the endpoint paths and data (model) definitions of an API (or a group of APIs).  The CLI generates the package's files from a set of templates that it fills with information it retrieves from the Swagger specification file.

To generate this package, I used a Swagger specification file of the Consumer Data Standards (1.2.0), which I downloaded from the Standards' [Github page](https://consumerdatastandardsaustralia.github.io/standards); you can find a copy of the file ([cds_full.json](.swagger-codegen/cds_full.json)) in the [.swagger-codegen](.swagger-codegen) directory of this repository.

The CLI comes with a set of generic templates built in. Before generating this package, I extracted these templates from the CLI and modified a few of them to better document the package; you can find the templates that I used to generate the package in the [.swagger-codegen/templates](.swagger-codegen/templates/) directory.  

If you're interested in generating this package (or a modified version of it), have a look at this [makefile](.swagger-codegen/makefile) that I created. The makefile contains a receipe for making the package.  You can find instructions on how to use this makefile on the [README page](.swagger-codegen/README.md) of the [.swagger-codegen](.swagger-codegen) directory. 


## What is  (and isn't) in this package

This Python package contains:
- a module (`.py`) file for each [endpoint](cds/api) path and each [data](cds/models) definition (that is listed in the specification file, [cds_full.json](.swagger-codegen/cds_full.json)) ; and
- a number of supporting files:
    - the primary package files: [configuration.py](cds/configuration.py), [api_client.py](cds/api_client.py), [rest.py](cds/rest.py), and the init.py files; and
    - the project files: this [README.md](README.md), [setup.py](setup.py), [requirements.txt](requirements.txt), [.gitignore](.gitignore) and [.swagger-codegen-ignore](.swagger-codegen-ignore).

All of these files are generated by the CLI.  The CLI (under default settings) can also generate a documentation (markdown) page and a test module for each endpoint path and each data definition. It can also generate a number of other project files, like a test-requirements.txt and a tox.ini (among other files). For simplicity, this package does not include these extra files. 


 If you're interested in generating the package with any of these extra files, have a look at the [README page](.swagger-codegen/README.md), which shows how you can generate them using the [makefile](.swagger-codegen/makefile).

##  The Consumer Data Standards

The [Consumer Data Standards](https://consumerdatastandards.org.au/) are a set of technical standards for implementing the Australian Government's  [Consumer Data Right](https://www.aph.gov.au/Parliamentary_Business/Bills_Legislation/Bills_Search_Results/Result?bId=r6370) (CDR) legislation. The CDR aims to help consumers, whether they be an individual, household or a small business, find better deals on products and services, by

* giving them greater control over their own customer data, and 
* assisting them to compare products and services across businesses.

The CDR requires a business offering retail products and services to
* provide their customers access to their own customer data -- namely account and transaction data;
* publish specific data on products and services that the business offers;
* make (both types of) data available in a standard format and through a standard process (that is set out by a Data Standards Body appointed by the Australian Government); and
* allow individual consumers to permit a trusted third party to access their customer data on their behalf.

The Australian Government is rolling out the CDR on a sector-by-sector basis, beginning in the banking sector. It appointed the [ACCC](https://www.accc.gov.au/focus-areas/consumer-data-right-cdr-0) to regulate the CDR and its roll out. In short, the ACCC determines which, and when, data fall under the CDR regime, and which third parties can access the data on behalf of a consumer.

The Government also appointed (the CSIRO's) [Data61](https://consumerdatastandards.org.au/) as the Data Standards Body. As the DSB, Data61 maintains as set of technical standards called the Consumer Data Standards. The Consumer Data Standards set out the digital formats and processes  by which businesses must make available "designated" data to consumers and "accredited" third parties.

## API documentation pages

Below lists the links to API documentation pages of the four major banks:

* [Commnonwealth Bank of Australia (CBA)](https://www.commbank.com.au/Developer/)
* [National Australia Bank (NAB)](https://developer.nab.com.au/products)
* [Australia and New Zealand (ANZ) Banking Group](https://www.anz.com.au/support/anz-apis/)
* [Westpac Banking Corporation (WBC)](https://www.westpac.com.au/about-westpac/innovation/open-banking/)
