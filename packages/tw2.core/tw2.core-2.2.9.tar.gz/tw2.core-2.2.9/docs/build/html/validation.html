
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>Validation &#8212; ToscaWidgets2 2.2.4 documentation</title>
    <link rel="stylesheet" href="_static/alabaster.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="_static/language_data.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Javascript Integration" href="javascript.html" />
    <link rel="prev" title="Forms" href="forms.html" />
   
  <link rel="stylesheet" href="_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <div class="section" id="validation">
<span id="id1"></span><h1>Validation<a class="headerlink" href="#validation" title="Permalink to this headline">¶</a></h1>
<p>ToscaWidgets provides validation support for all the data
that needs to be displayed into widgets or that has to
come from submitted forms.</p>
<p>Setting a validator for a widget (or a form field) can
be done through the <code class="xref py py-attr docutils literal notranslate"><span class="pre">tw2.core.Widget.validator</span></code> param.</p>
<p>Validators are typically used in the context of forms
and can be used both to tell ToscaWidgets how
a python object should be displayed in HTML result:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">tw2.core</span> <span class="k">as</span> <span class="nn">twc</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">tw2.forms</span> <span class="k">as</span> <span class="nn">twf</span>
<span class="go">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">w</span> <span class="o">=</span> <span class="n">twf</span><span class="o">.</span><span class="n">TextField</span><span class="p">(</span><span class="n">validator</span><span class="o">=</span><span class="n">twc</span><span class="o">.</span><span class="n">validation</span><span class="o">.</span><span class="n">DateValidator</span><span class="p">(</span><span class="nb">format</span><span class="o">=</span><span class="s2">&quot;%Y/%m/</span><span class="si">%d</span><span class="s2">&quot;</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">w</span><span class="o">.</span><span class="n">display</span><span class="p">(</span><span class="n">datetime</span><span class="o">.</span><span class="n">datetime</span><span class="o">.</span><span class="n">utcnow</span><span class="p">())</span>
<span class="go">Markup(&#39;&lt;input value=&quot;2019/04/04&quot; type=&quot;text&quot;/&gt;&#39;)</span>
</pre></div>
</div>
<p>Or to tell ToscaWidgets how the data coming from a
submitted form should be converted into Python:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="k">class</span> <span class="nc">MyDateForm</span><span class="p">(</span><span class="n">twf</span><span class="o">.</span><span class="n">Form</span><span class="p">):</span>
<span class="gp">... </span>  <span class="k">class</span> <span class="nc">child</span><span class="p">(</span><span class="n">twf</span><span class="o">.</span><span class="n">TableLayout</span><span class="p">):</span>
<span class="gp">... </span>    <span class="n">date</span> <span class="o">=</span> <span class="n">twf</span><span class="o">.</span><span class="n">TextField</span><span class="p">(</span><span class="n">validator</span><span class="o">=</span><span class="n">twc</span><span class="o">.</span><span class="n">validation</span><span class="o">.</span><span class="n">DateValidator</span><span class="p">(</span><span class="nb">format</span><span class="o">=</span><span class="s2">&quot;%Y/%m/</span><span class="si">%d</span><span class="s2">&quot;</span><span class="p">))</span>
<span class="gp">...</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">MyDateForm</span><span class="o">.</span><span class="n">validate</span><span class="p">({</span><span class="s1">&#39;date&#39;</span><span class="p">:</span> <span class="s1">&#39;2019/5/3&#39;</span><span class="p">})</span>
<span class="go">{&#39;date&#39;: datetime.date(2019, 5, 3)}</span>
</pre></div>
</div>
<div class="section" id="validators">
<h2>Validators<a class="headerlink" href="#validators" title="Permalink to this headline">¶</a></h2>
<p>A validator is a class in charge of two major concerns:</p>
<ul class="simple">
<li>Converting data from the web to python and back to the web</li>
<li>Validating that the data is what you expected.</li>
</ul>
<p>Both those step are performed through two methods:</p>
<p><a class="reference internal" href="#tw2.core.validation.Validator.to_python" title="tw2.core.validation.Validator.to_python"><code class="xref py py-meth docutils literal notranslate"><span class="pre">tw2.core.validation.Validator.to_python()</span></code></a> which is
in charge of converting data from the web to Python:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">validator</span> <span class="o">=</span> <span class="n">twc</span><span class="o">.</span><span class="n">validation</span><span class="o">.</span><span class="n">DateValidator</span><span class="p">(</span><span class="n">required</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="nb">format</span><span class="o">=</span><span class="s2">&quot;%Y/%m/</span><span class="si">%d</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">validator</span><span class="o">.</span><span class="n">to_python</span><span class="p">(</span><span class="s1">&#39;2019/10/3&#39;</span><span class="p">)</span>
<span class="go">datetime.date(2019, 10, 3)</span>
</pre></div>
</div>
<p>and <a class="reference internal" href="#tw2.core.validation.Validator.from_python" title="tw2.core.validation.Validator.from_python"><code class="xref py py-meth docutils literal notranslate"><span class="pre">tw2.core.validation.Validator.from_python()</span></code></a> which
is in charge of converting data from Python to be displahyed
on a web page:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">validator</span><span class="o">.</span><span class="n">from_python</span><span class="p">(</span><span class="n">datetime</span><span class="o">.</span><span class="n">datetime</span><span class="o">.</span><span class="n">utcnow</span><span class="p">())</span>
<span class="go">&quot;2019/04/04&quot;</span>
</pre></div>
</div>
<p>When converting data <em>to python</em> (so for data submitted
from the web to your web application) the validator does three
steps:</p>
<ol class="arabic simple">
<li>Ensures that the data is not empty through <code class="xref py py-meth docutils literal notranslate"><span class="pre">tw2.core.validation.Validator._is_empty()</span></code> if <code class="docutils literal notranslate"><span class="pre">required=True</span></code> was provided</li>
<li>Converts data to Python through <code class="xref py py-meth docutils literal notranslate"><span class="pre">tw2.core.validation.Validator._convert_to_python()</span></code></li>
<li>Validates that the converted data matches what you expected through <code class="xref py py-meth docutils literal notranslate"><span class="pre">tw2.core.validation.Validator._validate_python()</span></code></li>
</ol>
<p>All those three methods (<code class="docutils literal notranslate"><span class="pre">is_empty</span></code>, <code class="docutils literal notranslate"><span class="pre">_convert_to_python</span></code> and <code class="docutils literal notranslate"><span class="pre">_validate_python</span></code>)
can be specialised in subclasses to implement your own validators.</p>
<p>For example the <a class="reference internal" href="#tw2.core.validation.IntValidator" title="tw2.core.validation.IntValidator"><code class="xref py py-class docutils literal notranslate"><span class="pre">tw2.core.validation.IntValidator</span></code></a> takes care
of converting the incoming text to intergers:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">twc</span><span class="o">.</span><span class="n">validation</span><span class="o">.</span><span class="n">IntValidator</span><span class="p">()</span><span class="o">.</span><span class="n">to_python</span><span class="p">(</span><span class="s2">&quot;5&quot;</span><span class="p">)</span>
<span class="go">5</span>
</pre></div>
</div>
<p>but also takes care of validating that it’s within an expected range:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>&gt;&gt;&gt; twc.validation.IntValidator(min=1).to_python(&quot;0&quot;)
Traceback (most recent call last):
File &quot;&lt;stdin&gt;&quot;, line 1, in &lt;module&gt;
File &quot;/home/amol/wrk/tw2.core/tw2/core/validation.py&quot;, line 236, in to_python
    self._validate_python(value, state)
File &quot;/home/amol/wrk/tw2.core/tw2/core/validation.py&quot;, line 376, in _validate_python
    raise ValidationError(&#39;toosmall&#39;, self)
tw2.core.validation.ValidationError: Must be at least 1
</pre></div>
</div>
</div>
<div class="section" id="custom-validators">
<h2>Custom Validators<a class="headerlink" href="#custom-validators" title="Permalink to this headline">¶</a></h2>
<p>You can write your own validators by subclassing <a class="reference internal" href="#tw2.core.validation.Validator" title="tw2.core.validation.Validator"><code class="xref py py-class docutils literal notranslate"><span class="pre">tw2.core.validation.Validator</span></code></a>.</p>
<p>Those should <em>at least</em> implement the custom conversion part, to tell
toscawidgets how to convert the incoming data to the type you expect:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">TwoNumbersValidator</span><span class="p">(</span><span class="n">twc</span><span class="o">.</span><span class="n">validation</span><span class="o">.</span><span class="n">Validator</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">_convert_to_python</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">,</span> <span class="n">state</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="k">return</span> <span class="p">[</span><span class="nb">int</span><span class="p">(</span><span class="n">v</span><span class="p">)</span> <span class="k">for</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">value</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;,&#39;</span><span class="p">)]</span>
        <span class="k">except</span> <span class="ne">ValueError</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">twc</span><span class="o">.</span><span class="n">validation</span><span class="o">.</span><span class="n">ValidationError</span><span class="p">(</span><span class="s2">&quot;Must be integers&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span>
        <span class="k">except</span> <span class="ne">Exception</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">twc</span><span class="o">.</span><span class="n">validation</span><span class="o">.</span><span class="n">ValidationError</span><span class="p">(</span><span class="s2">&quot;corrupt&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span>
</pre></div>
</div>
<p>This is already enough to be able to convert the incoming
data to a list of numbers:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">TwoNumbersValidator</span><span class="p">()</span><span class="o">.</span><span class="n">to_python</span><span class="p">(</span><span class="s2">&quot;5,3&quot;</span><span class="p">)</span>
<span class="go">[5, 3]</span>
</pre></div>
</div>
<p>and to detect that numbers were actually submitted:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">TwoNumbersValidator</span><span class="p">()</span><span class="o">.</span><span class="n">to_python</span><span class="p">(</span><span class="s2">&quot;5, allo&quot;</span><span class="p">)</span>
<span class="gt">Traceback (most recent call last):</span>
    <span class="n">File</span> <span class="s2">&quot;&lt;stdin&gt;&quot;</span><span class="p">,</span> <span class="n">line</span> <span class="mi">1</span><span class="p">,</span> <span class="ow">in</span> <span class="o">&lt;</span><span class="n">module</span><span class="o">&gt;</span>
    <span class="n">File</span> <span class="s2">&quot;/home/amol/wrk/tw2.core/tw2/core/validation.py&quot;</span><span class="p">,</span> <span class="n">line</span> <span class="mi">235</span><span class="p">,</span> <span class="ow">in</span> <span class="n">to_python</span>
        <span class="n">value</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_convert_to_python</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="n">state</span><span class="p">)</span>
    <span class="n">File</span> <span class="s2">&quot;&lt;stdin&gt;&quot;</span><span class="p">,</span> <span class="n">line</span> <span class="mi">6</span><span class="p">,</span> <span class="ow">in</span> <span class="n">_convert_to_python</span>
<span class="gr">tw2.core.validation.ValidationError</span>: <span class="n">Must be integers</span>
</pre></div>
</div>
<p>and to detect malformed inputs:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">TwoNumbersValidator</span><span class="p">()</span><span class="o">.</span><span class="n">to_python</span><span class="p">(</span><span class="n">datetime</span><span class="o">.</span><span class="n">datetime</span><span class="o">.</span><span class="n">utcnow</span><span class="p">())</span>
<span class="gt">Traceback (most recent call last):</span>
    <span class="n">File</span> <span class="s2">&quot;&lt;stdin&gt;&quot;</span><span class="p">,</span> <span class="n">line</span> <span class="mi">1</span><span class="p">,</span> <span class="ow">in</span> <span class="o">&lt;</span><span class="n">module</span><span class="o">&gt;</span>
    <span class="n">File</span> <span class="s2">&quot;/home/amol/wrk/tw2.core/tw2/core/validation.py&quot;</span><span class="p">,</span> <span class="n">line</span> <span class="mi">235</span><span class="p">,</span> <span class="ow">in</span> <span class="n">to_python</span>
        <span class="n">value</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_convert_to_python</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="n">state</span><span class="p">)</span>
    <span class="n">File</span> <span class="s2">&quot;&lt;stdin&gt;&quot;</span><span class="p">,</span> <span class="n">line</span> <span class="mi">8</span><span class="p">,</span> <span class="ow">in</span> <span class="n">_convert_to_python</span>
<span class="gr">tw2.core.validation.ValidationError</span>: <span class="n">Form submission received corrupted; please try again</span>
</pre></div>
</div>
<p>But it doesn’t perform validation on the converted data.
It doesn’t ensure that what was provided are really two numbers:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">TwoNumbersValidator</span><span class="p">()</span><span class="o">.</span><span class="n">to_python</span><span class="p">(</span><span class="s2">&quot;5&quot;</span><span class="p">)</span>
<span class="go">[5]</span>
</pre></div>
</div>
<p>To do so we need to implement the validation part of the validator,
which is done through <code class="docutils literal notranslate"><span class="pre">_validate_python</span></code>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">TwoNumbersValidator</span><span class="p">(</span><span class="n">twc</span><span class="o">.</span><span class="n">validation</span><span class="o">.</span><span class="n">Validator</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">_convert_to_python</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">,</span> <span class="n">state</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="k">return</span> <span class="p">[</span><span class="nb">int</span><span class="p">(</span><span class="n">v</span><span class="p">)</span> <span class="k">for</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">value</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;,&#39;</span><span class="p">)]</span>
        <span class="k">except</span> <span class="ne">ValueError</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">twc</span><span class="o">.</span><span class="n">validation</span><span class="o">.</span><span class="n">ValidationError</span><span class="p">(</span><span class="s2">&quot;Must be integers&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span>
        <span class="k">except</span> <span class="ne">Exception</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">twc</span><span class="o">.</span><span class="n">validation</span><span class="o">.</span><span class="n">ValidationError</span><span class="p">(</span><span class="s2">&quot;corrupt&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">_validate_python</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">,</span> <span class="n">state</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">value</span><span class="p">)</span> <span class="o">!=</span> <span class="mi">2</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">twc</span><span class="o">.</span><span class="n">validation</span><span class="o">.</span><span class="n">ValidationError</span><span class="p">(</span><span class="s2">&quot;Must be two numbers&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span>
</pre></div>
</div>
<p>To finally provide coverage for the case where a single number
(or more than two numbers) were provided:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">TwoNumbersValidator</span><span class="p">()</span><span class="o">.</span><span class="n">to_python</span><span class="p">(</span><span class="s2">&quot;5&quot;</span><span class="p">)</span>
<span class="gt">Traceback (most recent call last):</span>
    <span class="n">File</span> <span class="s2">&quot;&lt;stdin&gt;&quot;</span><span class="p">,</span> <span class="n">line</span> <span class="mi">1</span><span class="p">,</span> <span class="ow">in</span> <span class="o">&lt;</span><span class="n">module</span><span class="o">&gt;</span>
    <span class="n">File</span> <span class="s2">&quot;/home/amol/wrk/tw2.core/tw2/core/validation.py&quot;</span><span class="p">,</span> <span class="n">line</span> <span class="mi">236</span><span class="p">,</span> <span class="ow">in</span> <span class="n">to_python</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_validate_python</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="n">state</span><span class="p">)</span>
    <span class="n">File</span> <span class="s2">&quot;&lt;stdin&gt;&quot;</span><span class="p">,</span> <span class="n">line</span> <span class="mi">11</span><span class="p">,</span> <span class="ow">in</span> <span class="n">_validate_python</span>
<span class="gr">tw2.core.validation.ValidationError</span>: <span class="n">Must be two numbers</span>
</pre></div>
</div>
<p>You will notice by the way, that empty values won’t cause validation errors:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">v</span> <span class="o">=</span> <span class="n">TwoNumbersValidator</span><span class="p">()</span><span class="o">.</span><span class="n">to_python</span><span class="p">(</span><span class="s2">&quot;&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>Those will be converted to <code class="docutils literal notranslate"><span class="pre">None</span></code>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">v</span><span class="p">)</span>
<span class="go">None</span>
</pre></div>
</div>
<p>Because by default validators have <code class="docutils literal notranslate"><span class="pre">required=False</span></code> which means that
missing values are perfectly fine.</p>
<p>If you want to prevent that behaviour you can provide <code class="docutils literal notranslate"><span class="pre">required=True</span></code>
to the validator:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">TwoNumbersValidator</span><span class="p">(</span><span class="n">required</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span><span class="o">.</span><span class="n">to_python</span><span class="p">(</span><span class="s2">&quot;&quot;</span><span class="p">)</span>
<span class="gt">Traceback (most recent call last):</span>
    <span class="n">File</span> <span class="s2">&quot;&lt;stdin&gt;&quot;</span><span class="p">,</span> <span class="n">line</span> <span class="mi">1</span><span class="p">,</span> <span class="ow">in</span> <span class="o">&lt;</span><span class="n">module</span><span class="o">&gt;</span>
    <span class="n">File</span> <span class="s2">&quot;/home/amol/wrk/tw2.core/tw2/core/validation.py&quot;</span><span class="p">,</span> <span class="n">line</span> <span class="mi">231</span><span class="p">,</span> <span class="ow">in</span> <span class="n">to_python</span>
        <span class="k">raise</span> <span class="n">ValidationError</span><span class="p">(</span><span class="s1">&#39;required&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span>
<span class="gr">tw2.core.validation.ValidationError</span>: <span class="n">Enter a value</span>
</pre></div>
</div>
</div>
<div class="section" id="internationalization">
<h2>Internationalization<a class="headerlink" href="#internationalization" title="Permalink to this headline">¶</a></h2>
<p>Validator error messages can be translated through the usage of
the <code class="docutils literal notranslate"><span class="pre">msgs</span></code> lookup dictionary.</p>
<p>The <code class="docutils literal notranslate"><span class="pre">msgs</span></code> dictionary is a map from keywords to translated
strings and it’s used by ToscaWidgets to know which message
to show to users:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">tw2.core.i18n</span> <span class="k">import</span> <span class="n">tw2_translation_string</span>

<span class="k">class</span> <span class="nc">FloatValidator</span><span class="p">(</span><span class="n">twc</span><span class="o">.</span><span class="n">Validator</span><span class="p">):</span>
    <span class="n">msgs</span> <span class="o">=</span> <span class="p">{</span>
        <span class="s2">&quot;notfloat&quot;</span><span class="p">:</span> <span class="n">tw2_translation_string</span><span class="p">(</span><span class="s2">&quot;Not a floating point number&quot;</span><span class="p">)</span>
    <span class="p">}</span>

    <span class="k">def</span> <span class="nf">_convert_to_python</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">,</span> <span class="n">state</span><span class="p">):</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="k">return</span> <span class="nb">float</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>
        <span class="k">except</span> <span class="ne">ValueError</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">twc</span><span class="o">.</span><span class="n">validation</span><span class="o">.</span><span class="n">ValidationError</span><span class="p">(</span><span class="s2">&quot;notfloat&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span>
</pre></div>
</div>
<p>You will see that when validation fails, the <code class="docutils literal notranslate"><span class="pre">&quot;notfloat&quot;</span></code> key is
looked up into <code class="docutils literal notranslate"><span class="pre">msgs</span></code> to find the proper message:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">FloatValidator</span><span class="p">()</span><span class="o">.</span><span class="n">to_python</span><span class="p">(</span><span class="s2">&quot;Hello&quot;</span><span class="p">)</span>
<span class="gt">Traceback (most recent call last):</span>
    <span class="n">File</span> <span class="s2">&quot;&lt;stdin&gt;&quot;</span><span class="p">,</span> <span class="n">line</span> <span class="mi">1</span><span class="p">,</span> <span class="ow">in</span> <span class="o">&lt;</span><span class="n">module</span><span class="o">&gt;</span>
    <span class="n">File</span> <span class="s2">&quot;/home/amol/wrk/tw2.core/tw2/core/validation.py&quot;</span><span class="p">,</span> <span class="n">line</span> <span class="mi">235</span><span class="p">,</span> <span class="ow">in</span> <span class="n">to_python</span>
        <span class="n">value</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_convert_to_python</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="n">state</span><span class="p">)</span>
    <span class="n">File</span> <span class="s2">&quot;&lt;stdin&gt;&quot;</span><span class="p">,</span> <span class="n">line</span> <span class="mi">9</span><span class="p">,</span> <span class="ow">in</span> <span class="n">_convert_to_python</span>
<span class="gr">tw2.core.validation.ValidationError</span>: <span class="n">Not a floating point number</span>
</pre></div>
</div>
<p>The entry in <code class="docutils literal notranslate"><span class="pre">msgs</span></code> is then wrapped in a <code class="xref py py-meth docutils literal notranslate"><span class="pre">tw2.core.i18n.tw2_translation_string()</span></code>
call to ensure it gets translated using the translated that was configured
in <a class="reference internal" href="getstarted.html#tw2.core.middleware.TwMiddleware" title="tw2.core.middleware.TwMiddleware"><code class="xref py py-class docutils literal notranslate"><span class="pre">tw2.core.middleware.TwMiddleware</span></code></a> options.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last"><code class="xref py py-meth docutils literal notranslate"><span class="pre">tw2.core.i18n.tw2_translation_string()</span></code> is also available as
<code class="docutils literal notranslate"><span class="pre">tw2.core.i18n._</span></code> so that frameworks that automate translatable
strings collection like Babel can more easily find strings that
need translation in ToscaWidgets validators.</p>
</div>
<p>The other purpose of <code class="docutils literal notranslate"><span class="pre">msgs</span></code> is to allow users of your validator
to customise their error messages:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">FloatValidator</span><span class="p">(</span><span class="n">msgs</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;notfloat&quot;</span><span class="p">:</span> <span class="s2">&quot;Ahah! Gotcha!&quot;</span><span class="p">})</span><span class="o">.</span><span class="n">to_python</span><span class="p">(</span><span class="s2">&quot;Hello&quot;</span><span class="p">)</span>
<span class="gt">Traceback (most recent call last):</span>
    <span class="n">File</span> <span class="s2">&quot;&lt;stdin&gt;&quot;</span><span class="p">,</span> <span class="n">line</span> <span class="mi">1</span><span class="p">,</span> <span class="ow">in</span> <span class="o">&lt;</span><span class="n">module</span><span class="o">&gt;</span>
    <span class="n">File</span> <span class="s2">&quot;/home/amol/wrk/tw2.core/tw2/core/validation.py&quot;</span><span class="p">,</span> <span class="n">line</span> <span class="mi">235</span><span class="p">,</span> <span class="ow">in</span> <span class="n">to_python</span>
        <span class="n">value</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_convert_to_python</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="n">state</span><span class="p">)</span>
    <span class="n">File</span> <span class="s2">&quot;&lt;stdin&gt;&quot;</span><span class="p">,</span> <span class="n">line</span> <span class="mi">9</span><span class="p">,</span> <span class="ow">in</span> <span class="n">_convert_to_python</span>
<span class="gr">tw2.core.validation.ValidationError</span>: <span class="n">Ahah! Gotcha!</span>
</pre></div>
</div>
<p>In such case (when <code class="docutils literal notranslate"><span class="pre">msgs</span></code> are customised) translation of the messages
is up to the user customising them. Who might want to ensure the new provided
messages are still wrapped in <code class="xref py py-meth docutils literal notranslate"><span class="pre">tw2.core.i18n.tw2_translation_string()</span></code>.</p>
</div>
<div class="section" id="module-tw2.core.validation">
<span id="builtin-validators"></span><h2>Builtin Validators<a class="headerlink" href="#module-tw2.core.validation" title="Permalink to this headline">¶</a></h2>
<dl class="exception">
<dt id="tw2.core.validation.ValidationError">
<em class="property">exception </em><code class="descclassname">tw2.core.validation.</code><code class="descname">ValidationError</code><span class="sig-paren">(</span><em>msg</em>, <em>validator=None</em>, <em>widget=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/tw2/core/validation.html#ValidationError"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tw2.core.validation.ValidationError" title="Permalink to this definition">¶</a></dt>
<dd><p>Invalid data was encountered during validation.</p>
<p>The constructor can be passed a short message name, which is looked up in
a validator’s <code class="xref py py-attr docutils literal notranslate"><span class="pre">msgs</span></code> dictionary. Any values in this, like
<code class="docutils literal notranslate"><span class="pre">$val`</span></code> are substituted with that attribute from the validator. An
explicit validator instance can be passed to the constructor, or this
defaults to <a class="reference internal" href="#tw2.core.validation.Validator" title="tw2.core.validation.Validator"><code class="xref py py-class docutils literal notranslate"><span class="pre">Validator</span></code></a> otherwise.</p>
<dl class="attribute">
<dt id="tw2.core.validation.ValidationError.message">
<code class="descname">message</code><a class="headerlink" href="#tw2.core.validation.ValidationError.message" title="Permalink to this definition">¶</a></dt>
<dd><p>Added for backwards compatibility.  Synonymous with <cite>msg</cite>.</p>
</dd></dl>

</dd></dl>

<dl class="function">
<dt id="tw2.core.validation.unflatten_params">
<code class="descclassname">tw2.core.validation.</code><code class="descname">unflatten_params</code><span class="sig-paren">(</span><em>params</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/tw2/core/validation.html#unflatten_params"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tw2.core.validation.unflatten_params" title="Permalink to this definition">¶</a></dt>
<dd><p>This performs the first stage of validation. It takes a dictionary where
some keys will be compound names, such as “form:subform:field” and converts
this into a nested dict/list structure. It also performs unicode decoding,
with the encoding specified in the middleware config.</p>
</dd></dl>

<dl class="class">
<dt id="tw2.core.validation.Validator">
<em class="property">class </em><code class="descclassname">tw2.core.validation.</code><code class="descname">Validator</code><span class="sig-paren">(</span><em>**kw</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/tw2/core/validation.html#Validator"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tw2.core.validation.Validator" title="Permalink to this definition">¶</a></dt>
<dd><p>Base class for validators</p>
<dl class="docutils">
<dt><cite>required</cite></dt>
<dd>Whether empty values are forbidden in this field. (default: False)</dd>
<dt><cite>strip</cite></dt>
<dd>Whether to strip leading and trailing space from the input, before
any other validation. (default: True)</dd>
</dl>
<p>To convert and validate a value to Python, use the <a class="reference internal" href="#tw2.core.validation.Validator.to_python" title="tw2.core.validation.Validator.to_python"><code class="xref py py-meth docutils literal notranslate"><span class="pre">to_python()</span></code></a>
method, to convert back from Python, use <a class="reference internal" href="#tw2.core.validation.Validator.from_python" title="tw2.core.validation.Validator.from_python"><code class="xref py py-meth docutils literal notranslate"><span class="pre">from_python()</span></code></a>.</p>
<p>To create your own validators, sublass this class, and override any of
<code class="xref py py-meth docutils literal notranslate"><span class="pre">_validate_python()</span></code>, <code class="xref py py-meth docutils literal notranslate"><span class="pre">_convert_to_python()</span></code>,
or <code class="xref py py-meth docutils literal notranslate"><span class="pre">_convert_from_python()</span></code>. Note that these methods are not
meant to be used externally. All of them may raise ValidationErrors.</p>
<dl class="method">
<dt id="tw2.core.validation.Validator.to_python">
<code class="descname">to_python</code><span class="sig-paren">(</span><em>value</em>, <em>state=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/tw2/core/validation.html#Validator.to_python"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tw2.core.validation.Validator.to_python" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert an external value to Python and validate it.</p>
</dd></dl>

<dl class="method">
<dt id="tw2.core.validation.Validator.from_python">
<code class="descname">from_python</code><span class="sig-paren">(</span><em>value</em>, <em>state=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/tw2/core/validation.html#Validator.from_python"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tw2.core.validation.Validator.from_python" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert from a Python object to an external value.</p>
</dd></dl>

<dl class="method">
<dt id="tw2.core.validation.Validator.validate_python">
<code class="descname">validate_python</code><span class="sig-paren">(</span><em>value</em>, <em>state=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/tw2/core/validation.html#Validator.validate_python"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tw2.core.validation.Validator.validate_python" title="Permalink to this definition">¶</a></dt>
<dd><p>“Deprecated, use <code class="xref py py-meth docutils literal notranslate"><span class="pre">_validate_python()</span></code> instead.</p>
<p>This method has been renamed in FormEncode 1.3 and ToscaWidgets 2.2
in order to clarify that is an internal method that is meant to be
overridden only; you must call meth:<cite>to_python</cite> to validate values.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="tw2.core.validation.BlankValidator">
<em class="property">class </em><code class="descclassname">tw2.core.validation.</code><code class="descname">BlankValidator</code><span class="sig-paren">(</span><em>**kw</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/tw2/core/validation.html#BlankValidator"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tw2.core.validation.BlankValidator" title="Permalink to this definition">¶</a></dt>
<dd><p>Always returns EmptyField. This is the default for hidden fields,
so their values are not included in validated data.</p>
<dl class="method">
<dt id="tw2.core.validation.BlankValidator.to_python">
<code class="descname">to_python</code><span class="sig-paren">(</span><em>value</em>, <em>state=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/tw2/core/validation.html#BlankValidator.to_python"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tw2.core.validation.BlankValidator.to_python" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert an external value to Python and validate it.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="tw2.core.validation.LengthValidator">
<em class="property">class </em><code class="descclassname">tw2.core.validation.</code><code class="descname">LengthValidator</code><span class="sig-paren">(</span><em>**kw</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/tw2/core/validation.html#LengthValidator"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tw2.core.validation.LengthValidator" title="Permalink to this definition">¶</a></dt>
<dd><p>Confirm a value is of a suitable length. Usually you’ll use
<a class="reference internal" href="#tw2.core.validation.StringLengthValidator" title="tw2.core.validation.StringLengthValidator"><code class="xref py py-class docutils literal notranslate"><span class="pre">StringLengthValidator</span></code></a> or <a class="reference internal" href="#tw2.core.validation.ListLengthValidator" title="tw2.core.validation.ListLengthValidator"><code class="xref py py-class docutils literal notranslate"><span class="pre">ListLengthValidator</span></code></a> instead.</p>
<dl class="docutils">
<dt><cite>min</cite></dt>
<dd>Minimum length (default: None)</dd>
<dt><cite>max</cite></dt>
<dd>Maximum length (default: None)</dd>
</dl>
</dd></dl>

<dl class="class">
<dt id="tw2.core.validation.StringLengthValidator">
<em class="property">class </em><code class="descclassname">tw2.core.validation.</code><code class="descname">StringLengthValidator</code><span class="sig-paren">(</span><em>**kw</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/tw2/core/validation.html#StringLengthValidator"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tw2.core.validation.StringLengthValidator" title="Permalink to this definition">¶</a></dt>
<dd><p>Check a string is a suitable length. The only difference to LengthValidator
is that the messages are worded differently.</p>
</dd></dl>

<dl class="class">
<dt id="tw2.core.validation.ListLengthValidator">
<em class="property">class </em><code class="descclassname">tw2.core.validation.</code><code class="descname">ListLengthValidator</code><span class="sig-paren">(</span><em>**kw</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/tw2/core/validation.html#ListLengthValidator"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tw2.core.validation.ListLengthValidator" title="Permalink to this definition">¶</a></dt>
<dd><p>Check a list is a suitable length. The only difference to LengthValidator
is that the messages are worded differently.</p>
</dd></dl>

<dl class="class">
<dt id="tw2.core.validation.RangeValidator">
<em class="property">class </em><code class="descclassname">tw2.core.validation.</code><code class="descname">RangeValidator</code><span class="sig-paren">(</span><em>**kw</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/tw2/core/validation.html#RangeValidator"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tw2.core.validation.RangeValidator" title="Permalink to this definition">¶</a></dt>
<dd><p>Confirm a value is within an appropriate range. This is not usually used
directly, but other validators are derived from this.</p>
<dl class="docutils">
<dt><cite>min</cite></dt>
<dd>Minimum value (default: None)</dd>
<dt><cite>max</cite></dt>
<dd>Maximum value (default: None)</dd>
</dl>
</dd></dl>

<dl class="class">
<dt id="tw2.core.validation.IntValidator">
<em class="property">class </em><code class="descclassname">tw2.core.validation.</code><code class="descname">IntValidator</code><span class="sig-paren">(</span><em>**kw</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/tw2/core/validation.html#IntValidator"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tw2.core.validation.IntValidator" title="Permalink to this definition">¶</a></dt>
<dd><p>Confirm the value is an integer. This is derived from
<a class="reference internal" href="#tw2.core.validation.RangeValidator" title="tw2.core.validation.RangeValidator"><code class="xref py py-class docutils literal notranslate"><span class="pre">RangeValidator</span></code></a> so <cite>min</cite> and <cite>max</cite> can be specified.</p>
</dd></dl>

<dl class="class">
<dt id="tw2.core.validation.BoolValidator">
<em class="property">class </em><code class="descclassname">tw2.core.validation.</code><code class="descname">BoolValidator</code><span class="sig-paren">(</span><em>**kw</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/tw2/core/validation.html#BoolValidator"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tw2.core.validation.BoolValidator" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert a value to a boolean. This is particularly intended to handle
check boxes.</p>
</dd></dl>

<dl class="class">
<dt id="tw2.core.validation.OneOfValidator">
<em class="property">class </em><code class="descclassname">tw2.core.validation.</code><code class="descname">OneOfValidator</code><span class="sig-paren">(</span><em>**kw</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/tw2/core/validation.html#OneOfValidator"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tw2.core.validation.OneOfValidator" title="Permalink to this definition">¶</a></dt>
<dd><p>Confirm the value is one of a list of acceptable values. This is useful for
confirming that select fields have not been tampered with by a user.</p>
<dl class="docutils">
<dt><cite>values</cite></dt>
<dd>Acceptable values</dd>
</dl>
</dd></dl>

<dl class="class">
<dt id="tw2.core.validation.DateTimeValidator">
<em class="property">class </em><code class="descclassname">tw2.core.validation.</code><code class="descname">DateTimeValidator</code><span class="sig-paren">(</span><em>**kw</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/tw2/core/validation.html#DateTimeValidator"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tw2.core.validation.DateTimeValidator" title="Permalink to this definition">¶</a></dt>
<dd><p>Confirm the value is a valid date and time. This is derived from
<a class="reference internal" href="#tw2.core.validation.RangeValidator" title="tw2.core.validation.RangeValidator"><code class="xref py py-class docutils literal notranslate"><span class="pre">RangeValidator</span></code></a> so <cite>min</cite> and <cite>max</cite> can be specified.</p>
<dl class="docutils">
<dt><cite>format</cite></dt>
<dd>The expected date/time format. The format must be specified using
the same syntax as the Python strftime function.</dd>
</dl>
</dd></dl>

<dl class="class">
<dt id="tw2.core.validation.DateValidator">
<em class="property">class </em><code class="descclassname">tw2.core.validation.</code><code class="descname">DateValidator</code><span class="sig-paren">(</span><em>**kw</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/tw2/core/validation.html#DateValidator"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tw2.core.validation.DateValidator" title="Permalink to this definition">¶</a></dt>
<dd><p>Confirm the value is a valid date.</p>
<p>Just like <a class="reference internal" href="#tw2.core.validation.DateTimeValidator" title="tw2.core.validation.DateTimeValidator"><code class="xref py py-class docutils literal notranslate"><span class="pre">DateTimeValidator</span></code></a>, but without the time component.</p>
</dd></dl>

<dl class="class">
<dt id="tw2.core.validation.RegexValidator">
<em class="property">class </em><code class="descclassname">tw2.core.validation.</code><code class="descname">RegexValidator</code><span class="sig-paren">(</span><em>**kw</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/tw2/core/validation.html#RegexValidator"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tw2.core.validation.RegexValidator" title="Permalink to this definition">¶</a></dt>
<dd><p>Confirm the value matches a regular expression.</p>
<dl class="docutils">
<dt><cite>regex</cite></dt>
<dd>A Python regular expression object, generated like
<code class="docutils literal notranslate"><span class="pre">re.compile('^\w+$')</span></code></dd>
</dl>
</dd></dl>

<dl class="class">
<dt id="tw2.core.validation.EmailValidator">
<em class="property">class </em><code class="descclassname">tw2.core.validation.</code><code class="descname">EmailValidator</code><span class="sig-paren">(</span><em>**kw</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/tw2/core/validation.html#EmailValidator"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tw2.core.validation.EmailValidator" title="Permalink to this definition">¶</a></dt>
<dd><p>Confirm the value is a valid email address.</p>
</dd></dl>

<dl class="class">
<dt id="tw2.core.validation.UrlValidator">
<em class="property">class </em><code class="descclassname">tw2.core.validation.</code><code class="descname">UrlValidator</code><span class="sig-paren">(</span><em>**kw</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/tw2/core/validation.html#UrlValidator"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tw2.core.validation.UrlValidator" title="Permalink to this definition">¶</a></dt>
<dd><p>Confirm the value is a valid URL.</p>
</dd></dl>

<dl class="class">
<dt id="tw2.core.validation.IpAddressValidator">
<em class="property">class </em><code class="descclassname">tw2.core.validation.</code><code class="descname">IpAddressValidator</code><span class="sig-paren">(</span><em>**kw</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/tw2/core/validation.html#IpAddressValidator"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tw2.core.validation.IpAddressValidator" title="Permalink to this definition">¶</a></dt>
<dd><p>Confirm the value is a valid IP4 address, or network block.</p>
<dl class="docutils">
<dt><cite>allow_netblock</cite></dt>
<dd>Allow the IP address to include a network block (default: False)</dd>
<dt><cite>require_netblock</cite></dt>
<dd>Require the IP address to include a network block (default: False)</dd>
</dl>
</dd></dl>

<dl class="class">
<dt id="tw2.core.validation.UUIDValidator">
<em class="property">class </em><code class="descclassname">tw2.core.validation.</code><code class="descname">UUIDValidator</code><span class="sig-paren">(</span><em>**kw</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/tw2/core/validation.html#UUIDValidator"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tw2.core.validation.UUIDValidator" title="Permalink to this definition">¶</a></dt>
<dd><p>Confirm the value is a valid uuid and convert to uuid.UUID.</p>
</dd></dl>

<dl class="class">
<dt id="tw2.core.validation.MatchValidator">
<em class="property">class </em><code class="descclassname">tw2.core.validation.</code><code class="descname">MatchValidator</code><span class="sig-paren">(</span><em>other_field</em>, <em>pass_on_invalid=False</em>, <em>**kw</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/tw2/core/validation.html#MatchValidator"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tw2.core.validation.MatchValidator" title="Permalink to this definition">¶</a></dt>
<dd><p>Confirm a field matches another field</p>
<dl class="docutils">
<dt><cite>other_field</cite></dt>
<dd>Name of the sibling field this must match</dd>
<dt><cite>pass_on_invalid</cite></dt>
<dd>Pass validation if sibling field is Invalid</dd>
</dl>
</dd></dl>

<dl class="class">
<dt id="tw2.core.validation.CompoundValidator">
<em class="property">class </em><code class="descclassname">tw2.core.validation.</code><code class="descname">CompoundValidator</code><span class="sig-paren">(</span><em>*args</em>, <em>**kw</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/tw2/core/validation.html#CompoundValidator"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tw2.core.validation.CompoundValidator" title="Permalink to this definition">¶</a></dt>
<dd><p>Base class for compound validators.</p>
<p>Child classes <a class="reference internal" href="#tw2.core.validation.Any" title="tw2.core.validation.Any"><code class="xref py py-class docutils literal notranslate"><span class="pre">Any</span></code></a> and <a class="reference internal" href="#tw2.core.validation.All" title="tw2.core.validation.All"><code class="xref py py-class docutils literal notranslate"><span class="pre">All</span></code></a> take validators as arguments
and use them to validate “value”.  In case the validation fails, they
raise a ValidationError with a compound message.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">v</span> <span class="o">=</span> <span class="n">All</span><span class="p">(</span><span class="n">StringLengthValidator</span><span class="p">(</span><span class="nb">max</span><span class="o">=</span><span class="mi">50</span><span class="p">),</span> <span class="n">EmailValidator</span><span class="p">,</span> <span class="n">required</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="class">
<dt id="tw2.core.validation.All">
<em class="property">class </em><code class="descclassname">tw2.core.validation.</code><code class="descname">All</code><span class="sig-paren">(</span><em>*args</em>, <em>**kw</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/tw2/core/validation.html#All"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tw2.core.validation.All" title="Permalink to this definition">¶</a></dt>
<dd><p>Confirm all validators passed as arguments are valid.</p>
</dd></dl>

<dl class="class">
<dt id="tw2.core.validation.Any">
<em class="property">class </em><code class="descclassname">tw2.core.validation.</code><code class="descname">Any</code><span class="sig-paren">(</span><em>*args</em>, <em>**kw</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/tw2/core/validation.html#Any"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tw2.core.validation.Any" title="Permalink to this definition">¶</a></dt>
<dd><p>Confirm at least one of the validators passed as arguments is valid.</p>
</dd></dl>

</div>
</div>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="index.html">ToscaWidgets2</a></h1>








<h3>Navigation</h3>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="getstarted.html">Getting Started</a></li>
<li class="toctree-l1"><a class="reference internal" href="widget.html">Widgets</a></li>
<li class="toctree-l1"><a class="reference internal" href="forms.html">Forms</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Validation</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#validators">Validators</a></li>
<li class="toctree-l2"><a class="reference internal" href="#custom-validators">Custom Validators</a></li>
<li class="toctree-l2"><a class="reference internal" href="#internationalization">Internationalization</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-tw2.core.validation">Builtin Validators</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="javascript.html">Javascript Integration</a></li>
<li class="toctree-l1"><a class="reference internal" href="design.html">Design</a></li>
<li class="toctree-l1"><a class="reference internal" href="changelog.html">Changelog</a></li>
</ul>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="index.html">Documentation overview</a><ul>
      <li>Previous: <a href="forms.html" title="previous chapter">Forms</a></li>
      <li>Next: <a href="javascript.html" title="next chapter">Javascript Integration</a></li>
  </ul></li>
</ul>
</div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    </div>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>








        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2019, Alessandro Molina.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 1.8.4</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.12</a>
      
      |
      <a href="_sources/validation.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>