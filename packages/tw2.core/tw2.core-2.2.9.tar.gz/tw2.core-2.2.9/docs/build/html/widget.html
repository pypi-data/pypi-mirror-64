
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>Widgets &#8212; ToscaWidgets2 2.2.4 documentation</title>
    <link rel="stylesheet" href="_static/alabaster.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="_static/language_data.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Forms" href="forms.html" />
    <link rel="prev" title="Getting Started" href="getstarted.html" />
   
  <link rel="stylesheet" href="_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <div class="section" id="widgets">
<span id="id1"></span><h1>Widgets<a class="headerlink" href="#widgets" title="Permalink to this headline">¶</a></h1>
<p>Widgets are small self-contained components that can be reused
across the same web page or across multiple pages.</p>
<p>A widget typically has a state (its value) a configuration (its params)
a template that describes what should be displayed, one ore more
resources (javascript or CSS) needed during display and might have
some logic that has to be executed every time the widget is displayed.</p>
<div class="section" id="using-widgets">
<h2>Using Widgets<a class="headerlink" href="#using-widgets" title="Permalink to this headline">¶</a></h2>
<p>A typical widget will look like:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">MyWidget</span><span class="p">(</span><span class="n">tw2</span><span class="o">.</span><span class="n">core</span><span class="o">.</span><span class="n">Widget</span><span class="p">):</span>
    <span class="n">template</span> <span class="o">=</span> <span class="s2">&quot;mypackage.widgets.templates.mywidget&quot;</span>
</pre></div>
</div>
<p>Which will look for a template named <code class="docutils literal notranslate"><span class="pre">mywidget.html</span></code>
into the <code class="docutils literal notranslate"><span class="pre">templates</span></code> python package within the <code class="docutils literal notranslate"><span class="pre">widgets</span></code>
package of the <code class="docutils literal notranslate"><span class="pre">mypackage</span></code> application. The extension
expected for the file depends on the template engine used:</p>
<ul class="simple">
<li>mako: <code class="docutils literal notranslate"><span class="pre">.mako</span></code></li>
<li>kajiki: <code class="docutils literal notranslate"><span class="pre">.kajiki</span></code></li>
<li>jinja: <code class="docutils literal notranslate"><span class="pre">.jinja</span></code></li>
<li>genshi: <code class="docutils literal notranslate"><span class="pre">.genshi</span></code></li>
</ul>
<p>The template engine used to render the provided template
depends on the <code class="docutils literal notranslate"><span class="pre">default_engine</span></code> option provided when
configuring <a class="reference internal" href="getstarted.html#tw2.core.middleware.TwMiddleware" title="tw2.core.middleware.TwMiddleware"><code class="xref py py-class docutils literal notranslate"><span class="pre">tw2.core.middleware.TwMiddleware</span></code></a>.</p>
<p>In case you don’t want to save the template into a separate
file you can also set the <code class="docutils literal notranslate"><span class="pre">inline_engine_name</span></code> option
to one of the template engines and provide the template
as a string:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">HelloWidgetTemplate</span><span class="p">(</span><span class="n">tw2</span><span class="o">.</span><span class="n">core</span><span class="o">.</span><span class="n">Widget</span><span class="p">):</span>
    <span class="n">inline_engine_name</span> <span class="o">=</span> <span class="s2">&quot;kajiki&quot;</span>
    <span class="n">template</span> <span class="o">=</span> <span class="s2">&quot;&quot;&quot;</span>
<span class="s2">        &lt;i&gt;Hello &lt;span py:for=&quot;i in range(1, 4)&quot;&gt;$</span><span class="si">{i}</span><span class="s2">, &lt;/span&gt;&lt;/i&gt;</span>
<span class="s2">    &quot;&quot;&quot;</span>
</pre></div>
</div>
<p>Displaying a widget is as simple as calling the <code class="xref py py-meth docutils literal notranslate"><span class="pre">Widget.display()</span></code>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">HelloWidgetTemplate</span><span class="o">.</span><span class="n">display</span><span class="p">()</span>
</pre></div>
</div>
<div class="section" id="widget-value">
<h3>Widget value<a class="headerlink" href="#widget-value" title="Permalink to this headline">¶</a></h3>
<p>Each Widget has a special paramter, which is <code class="docutils literal notranslate"><span class="pre">value</span></code>. This parameter
contains the current state of the widget. Value will usually be
a single value or a dictionary containing multiple values
(in case of <a class="reference internal" href="#tw2.core.widgets.CompoundWidget" title="tw2.core.widgets.CompoundWidget"><code class="xref py py-class docutils literal notranslate"><span class="pre">tw2.core.widgets.CompoundWidget</span></code></a>).</p>
<p>You can use the value to drive what the widget should show once
displayed:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">HelloWidgetValue</span><span class="p">(</span><span class="n">tw2</span><span class="o">.</span><span class="n">core</span><span class="o">.</span><span class="n">Widget</span><span class="p">):</span>
    <span class="n">inline_engine_name</span> <span class="o">=</span> <span class="s2">&quot;kajiki&quot;</span>
    <span class="n">template</span> <span class="o">=</span> <span class="s2">&quot;&quot;&quot;</span>
<span class="s2">        &lt;i&gt;Hello $</span><span class="si">{w.value}</span><span class="s2">&lt;/i&gt;</span>
<span class="s2">    &quot;&quot;&quot;</span>

<span class="o">&gt;&gt;&gt;</span> <span class="n">HelloWidgetValue</span><span class="o">.</span><span class="n">display</span><span class="p">(</span><span class="n">value</span><span class="o">=</span><span class="s1">&#39;World&#39;</span><span class="p">)</span>
<span class="n">Markup</span><span class="p">(</span><span class="s1">&#39;&lt;i&gt;Hello World&lt;/i&gt;&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p><code class="xref py py-class docutils literal notranslate"><span class="pre">tw2.core.CompoundWidget</span></code> can contain multiple subwidgets
(children) and their value is typically a <code class="docutils literal notranslate"><span class="pre">dict</span></code> with values
for each one of the children:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">CompoundHello</span><span class="p">(</span><span class="n">tw2</span><span class="o">.</span><span class="n">core</span><span class="o">.</span><span class="n">CompoundWidget</span><span class="p">):</span>
    <span class="n">inline_engine_name</span> <span class="o">=</span> <span class="s2">&quot;kajiki&quot;</span>
    <span class="n">template</span> <span class="o">=</span> <span class="s2">&quot;&quot;&quot;</span>
<span class="s2">        &lt;div py:for=&quot;c in w.children&quot;&gt;</span>
<span class="s2">            ${c.display()}</span>
<span class="s2">        &lt;/div&gt;</span>
<span class="s2">    &quot;&quot;&quot;</span>

    <span class="n">name</span> <span class="o">=</span> <span class="n">HelloWidgetValue</span><span class="p">()</span>
    <span class="n">greeter</span> <span class="o">=</span> <span class="n">tw2</span><span class="o">.</span><span class="n">core</span><span class="o">.</span><span class="n">Widget</span><span class="p">(</span><span class="n">inline_engine_name</span><span class="o">=</span><span class="s2">&quot;kajiki&quot;</span><span class="p">,</span>
                              <span class="n">template</span><span class="o">=</span><span class="s2">&quot;&lt;span&gt;From $</span><span class="si">{w.value}</span><span class="s2">&lt;/span&gt;&quot;</span><span class="p">)</span>

<span class="o">&gt;&gt;&gt;</span> <span class="n">CompoundHello</span><span class="p">(</span><span class="n">value</span><span class="o">=</span><span class="nb">dict</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s2">&quot;Mario&quot;</span><span class="p">,</span> <span class="n">greeter</span><span class="o">=</span><span class="s2">&quot;Luigi&quot;</span><span class="p">))</span><span class="o">.</span><span class="n">display</span><span class="p">()</span>
<span class="n">Markup</span><span class="p">(</span><span class="s1">&#39;&lt;div&gt;&lt;span&gt;Hello Mario&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span&gt;From Luigi&lt;/span&gt;&lt;/div&gt;&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>Children of a compound widget (like <a class="reference internal" href="forms.html#forms"><span class="std std-ref">Forms</span></a>) can be accessed
both as a list iterating over <code class="docutils literal notranslate"><span class="pre">w.children</span></code> or by name using
<code class="docutils literal notranslate"><span class="pre">w.children.childname</span></code>.</p>
</div>
<div class="section" id="parameters">
<h3>Parameters<a class="headerlink" href="#parameters" title="Permalink to this headline">¶</a></h3>
<p>Widgets might require more information than just their value to display,
or might allow more complex kind of configurations. The options required
to configure the widget are provided through <a class="reference internal" href="#tw2.core.Param" title="tw2.core.Param"><code class="xref py py-class docutils literal notranslate"><span class="pre">tw2.core.Param</span></code></a> objects
that define which options each widget supports.</p>
<p>If you want your widget to be configurable, you can make available one or more
options to your Widget and allow any user to set them as they wish:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">HelloWidgetParam</span><span class="p">(</span><span class="n">tw2</span><span class="o">.</span><span class="n">core</span><span class="o">.</span><span class="n">Widget</span><span class="p">):</span>
    <span class="n">inline_engine_name</span> <span class="o">=</span> <span class="s2">&quot;kajiki&quot;</span>
    <span class="n">template</span> <span class="o">=</span> <span class="s2">&quot;&quot;&quot;</span>
<span class="s2">        &lt;i&gt;Hello $</span><span class="si">{w.name}</span><span class="s2">&lt;/i&gt;</span>
<span class="s2">    &quot;&quot;&quot;</span>

    <span class="n">name</span> <span class="o">=</span> <span class="n">tw2</span><span class="o">.</span><span class="n">core</span><span class="o">.</span><span class="n">Param</span><span class="p">(</span><span class="n">description</span><span class="o">=</span><span class="s2">&quot;Name of the greeted entity&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>The parameters can be provided any time by changing configuration of
a widget:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">w</span> <span class="o">=</span> <span class="n">HelloWidgetParam</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s2">&quot;Peach&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">w</span><span class="o">.</span><span class="n">display</span><span class="p">()</span>
<span class="go">Markup(&#39;&lt;i&gt;Hello Peach&lt;/i&gt;&#39;)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">w2</span> <span class="o">=</span> <span class="n">w</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s2">&quot;Toad&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">w2</span><span class="o">.</span><span class="n">display</span><span class="p">()</span>
<span class="go">Markup(&#39;&lt;i&gt;Hello Toad&lt;/i&gt;&#39;)</span>
</pre></div>
</div>
<p>Or can be provided at <code class="docutils literal notranslate"><span class="pre">display</span></code> time itself:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">HelloWidgetParam</span><span class="o">.</span><span class="n">display</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s2">&quot;Peach&quot;</span><span class="p">)</span>
<span class="go">Markup(&#39;&lt;i&gt;Hello Peach&lt;/i&gt;&#39;)</span>
</pre></div>
</div>
</div>
<div class="section" id="deferred-parameters">
<h3>Deferred Parameters<a class="headerlink" href="#deferred-parameters" title="Permalink to this headline">¶</a></h3>
<p>When a widget requires a parameter that is not available before
display time. That parameter can be set to a <a class="reference internal" href="#tw2.core.Deferred" title="tw2.core.Deferred"><code class="xref py py-class docutils literal notranslate"><span class="pre">tw2.core.Deferred</span></code></a>
object.</p>
<p>Deferred objects will accept any callable and before the widget is displayed
the callable will be executed to fetch the actual value for the widget:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">singleselect</span> <span class="o">=</span> <span class="n">SingleSelectField</span><span class="p">(</span><span class="n">options</span><span class="o">=</span><span class="n">tw2</span><span class="o">.</span><span class="n">core</span><span class="o">.</span><span class="n">Deferred</span><span class="p">(</span><span class="k">lambda</span><span class="p">:</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">]))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">singleselect</span><span class="o">.</span><span class="n">options</span>
<span class="go">&lt;Deferred: &lt;Deferred&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">singleselect</span><span class="o">.</span><span class="n">display</span><span class="p">()</span>
<span class="go">Markup(&#39;&lt;select &gt;&lt;option value=&quot;&quot;&gt;&lt;/option&gt;\n &lt;option value=&quot;1&quot;&gt;1&lt;/option&gt;\n &lt;option value=&quot;2&quot;&gt;2&lt;/option&gt;\n &lt;option value=&quot;3&quot;&gt;3&lt;/option&gt;\n&lt;/select&gt;&#39;)</span>
</pre></div>
</div>
<p><code class="docutils literal notranslate"><span class="pre">Deferred</span></code> is typically used when loading data from the content of a database
to ensure that the content is the one available at the time the widget is
displayed and not the one that was available when the application started:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">userpicker</span> <span class="o">=</span> <span class="n">twf</span><span class="o">.</span><span class="n">SingleSelectField</span><span class="p">(</span>
<span class="gp">... </span>    <span class="n">options</span><span class="o">=</span><span class="n">twc</span><span class="o">.</span><span class="n">Deferred</span><span class="p">(</span><span class="k">lambda</span><span class="p">:</span> <span class="p">[(</span><span class="n">u</span><span class="o">.</span><span class="n">user_id</span><span class="p">,</span> <span class="n">u</span><span class="o">.</span><span class="n">display_name</span><span class="p">)</span> <span class="k">for</span> <span class="n">u</span> <span class="ow">in</span> <span class="n">model</span><span class="o">.</span><span class="n">DBSession</span><span class="o">.</span><span class="n">query</span><span class="p">(</span><span class="n">model</span><span class="o">.</span><span class="n">User</span><span class="p">)])</span>
<span class="gp">... </span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">userpicker</span><span class="o">.</span><span class="n">display</span><span class="p">()</span>
<span class="go">Markup(&#39;&lt;select &gt;&lt;option value=&quot;&quot;&gt;&lt;/option&gt;\n &lt;option value=&quot;1&quot;&gt;Example manager&lt;/option&gt;\n &lt;option value=&quot;2&quot;&gt;Example editor&lt;/option&gt;\n&lt;/select&gt;&#39;)</span>
</pre></div>
</div>
</div>
<div class="section" id="builtin-widgets">
<h3>Builtin Widgets<a class="headerlink" href="#builtin-widgets" title="Permalink to this headline">¶</a></h3>
<p>The <code class="docutils literal notranslate"><span class="pre">tw2.core</span></code> packages comes with the basic buildin blocks needed
to create your own custom widgets.</p>
<span class="target" id="module-tw2.core.widgets"></span><dl class="class">
<dt id="tw2.core.widgets.Widget">
<em class="property">class </em><code class="descclassname">tw2.core.widgets.</code><code class="descname">Widget</code><span class="sig-paren">(</span><em>**kw</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/tw2/core/widgets.html#Widget"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tw2.core.widgets.Widget" title="Permalink to this definition">¶</a></dt>
<dd><p>Base class for all widgets.</p>
<dl class="classmethod">
<dt id="tw2.core.widgets.Widget.req">
<em class="property">classmethod </em><code class="descname">req</code><span class="sig-paren">(</span><em>**kw</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/tw2/core/widgets.html#Widget.req"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tw2.core.widgets.Widget.req" title="Permalink to this definition">¶</a></dt>
<dd><p>Generate an instance of the widget.</p>
<p>Return the validated widget for this request if one exists.</p>
</dd></dl>

<dl class="classmethod">
<dt id="tw2.core.widgets.Widget.post_define">
<em class="property">classmethod </em><code class="descname">post_define</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/tw2/core/widgets.html#Widget.post_define"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tw2.core.widgets.Widget.post_define" title="Permalink to this definition">¶</a></dt>
<dd><p>This is a class method, that is called when a subclass of this Widget
is created. Process static configuration here. Use it like this:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">MyWidget</span><span class="p">(</span><span class="n">LeafWidget</span><span class="p">):</span>
    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">post_define</span><span class="p">(</span><span class="bp">cls</span><span class="p">):</span>
        <span class="nb">id</span> <span class="o">=</span> <span class="nb">getattr</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span>  <span class="s1">&#39;id&#39;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
        <span class="k">if</span> <span class="nb">id</span> <span class="ow">and</span> <span class="ow">not</span> <span class="nb">id</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s1">&#39;my&#39;</span><span class="p">):</span>
            <span class="k">raise</span> <span class="n">pm</span><span class="o">.</span><span class="n">ParameterError</span><span class="p">(</span><span class="s2">&quot;id must start with &#39;my&#39;&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>post_define should always cope with missing data - the class may be an
abstract class. There is no need to call super(), the metaclass will do
this automatically.</p>
</dd></dl>

<dl class="classmethod">
<dt id="tw2.core.widgets.Widget.get_link">
<em class="property">classmethod </em><code class="descname">get_link</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/tw2/core/widgets.html#Widget.get_link"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tw2.core.widgets.Widget.get_link" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the URL to the controller . This is called at run time, not startup
time, so we know the middleware if configured with the controller path.
Note: this function is a temporary measure, a cleaner API for this is
planned.</p>
</dd></dl>

<dl class="method">
<dt id="tw2.core.widgets.Widget.prepare">
<code class="descname">prepare</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/tw2/core/widgets.html#Widget.prepare"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tw2.core.widgets.Widget.prepare" title="Permalink to this definition">¶</a></dt>
<dd><p>This is an instance method, that is called just before the Widget is
displayed. Process request-local configuration here. For
efficiency, widgets should do as little work as possible here.
Use it like this:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">MyWidget</span><span class="p">(</span><span class="n">Widget</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">prepare</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">(</span><span class="n">MyWidget</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="n">prepare</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">value</span> <span class="o">=</span> <span class="s1">&#39;My: &#39;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">value</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="tw2.core.widgets.Widget.iteritems">
<code class="descname">iteritems</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/tw2/core/widgets.html#Widget.iteritems"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tw2.core.widgets.Widget.iteritems" title="Permalink to this definition">¶</a></dt>
<dd><p>An iterator which will provide the params of the widget in
key, value pairs.</p>
</dd></dl>

<dl class="attribute">
<dt id="tw2.core.widgets.Widget.controller_path">
<code class="descname">controller_path</code><em class="property"> = functools.partial(&lt;function Widget.controller_path&gt;, None, &lt;class 'tw2.core.widgets.Widget'&gt;)</em><a class="reference internal" href="_modules/tw2/core/widgets.html#Widget.controller_path"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tw2.core.widgets.Widget.controller_path" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="tw2.core.widgets.Widget.add_call">
<code class="descname">add_call</code><em class="property"> = functools.partial(&lt;function Widget.add_call&gt;, None, &lt;class 'tw2.core.widgets.Widget'&gt;)</em><a class="reference internal" href="_modules/tw2/core/widgets.html#Widget.add_call"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tw2.core.widgets.Widget.add_call" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="tw2.core.widgets.Widget.display">
<code class="descname">display</code><em class="property"> = functools.partial(&lt;function Widget.display&gt;, None, &lt;class 'tw2.core.widgets.Widget'&gt;)</em><a class="reference internal" href="_modules/tw2/core/widgets.html#Widget.display"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tw2.core.widgets.Widget.display" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="tw2.core.widgets.Widget.generate_output">
<code class="descname">generate_output</code><span class="sig-paren">(</span><em>displays_on</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/tw2/core/widgets.html#Widget.generate_output"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tw2.core.widgets.Widget.generate_output" title="Permalink to this definition">¶</a></dt>
<dd><p>Generate the actual output text for this widget.</p>
<p>By default this renders the widget’s template. Subclasses can override
this method for purely programmatic output.</p>
<dl class="docutils">
<dt><cite>displays_on</cite></dt>
<dd>The name of the template engine this widget is being displayed
inside.</dd>
</dl>
<p>Use it like this:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">MyWidget</span><span class="p">(</span><span class="n">LeafWidget</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">generate_output</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">displays_on</span><span class="p">):</span>
        <span class="k">return</span> <span class="s2">&quot;&lt;span </span><span class="si">{0}</span><span class="s2">&gt;</span><span class="si">{1}</span><span class="s2">&lt;/span&gt;&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">attrs</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">text</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="classmethod">
<dt id="tw2.core.widgets.Widget.validate">
<em class="property">classmethod </em><code class="descname">validate</code><span class="sig-paren">(</span><em>params</em>, <em>state=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/tw2/core/widgets.html#Widget.validate"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tw2.core.widgets.Widget.validate" title="Permalink to this definition">¶</a></dt>
<dd><p>Validate form input. This should always be called on a class. It
either returns the validated data, or raises a
<code class="xref py py-class docutils literal notranslate"><span class="pre">ValidationError</span></code> exception.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="tw2.core.widgets.LeafWidget">
<em class="property">class </em><code class="descclassname">tw2.core.widgets.</code><code class="descname">LeafWidget</code><span class="sig-paren">(</span><em>**kw</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/tw2/core/widgets.html#LeafWidget"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tw2.core.widgets.LeafWidget" title="Permalink to this definition">¶</a></dt>
<dd><p>A widget that has no children; this is the most common kind, e.g. form
fields.</p>
</dd></dl>

<dl class="class">
<dt id="tw2.core.widgets.CompoundWidget">
<em class="property">class </em><code class="descclassname">tw2.core.widgets.</code><code class="descname">CompoundWidget</code><span class="sig-paren">(</span><em>**kw</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/tw2/core/widgets.html#CompoundWidget"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tw2.core.widgets.CompoundWidget" title="Permalink to this definition">¶</a></dt>
<dd><p>A widget that has an arbitrary number of children, this is common for
layout components, such as <code class="xref py py-class docutils literal notranslate"><span class="pre">tw2.forms.TableLayout</span></code>.</p>
<dl class="classmethod">
<dt id="tw2.core.widgets.CompoundWidget.post_define">
<em class="property">classmethod </em><code class="descname">post_define</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/tw2/core/widgets.html#CompoundWidget.post_define"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tw2.core.widgets.CompoundWidget.post_define" title="Permalink to this definition">¶</a></dt>
<dd><p>Check children are valid; update them to have a link to the parent.</p>
</dd></dl>

<dl class="method">
<dt id="tw2.core.widgets.CompoundWidget.prepare">
<code class="descname">prepare</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/tw2/core/widgets.html#CompoundWidget.prepare"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tw2.core.widgets.CompoundWidget.prepare" title="Permalink to this definition">¶</a></dt>
<dd><p>Propagate the value for this widget to the children, based on their id.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="tw2.core.widgets.RepeatingWidget">
<em class="property">class </em><code class="descclassname">tw2.core.widgets.</code><code class="descname">RepeatingWidget</code><span class="sig-paren">(</span><em>**kw</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/tw2/core/widgets.html#RepeatingWidget"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tw2.core.widgets.RepeatingWidget" title="Permalink to this definition">¶</a></dt>
<dd><p>A widget that has a single child, which is repeated an arbitrary number
of times, such as <code class="xref py py-class docutils literal notranslate"><span class="pre">tw2.forms.GridLayout</span></code>.</p>
<dl class="classmethod">
<dt id="tw2.core.widgets.RepeatingWidget.post_define">
<em class="property">classmethod </em><code class="descname">post_define</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/tw2/core/widgets.html#RepeatingWidget.post_define"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tw2.core.widgets.RepeatingWidget.post_define" title="Permalink to this definition">¶</a></dt>
<dd><p>Check child is valid; update with link to parent.</p>
</dd></dl>

<dl class="method">
<dt id="tw2.core.widgets.RepeatingWidget.prepare">
<code class="descname">prepare</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/tw2/core/widgets.html#RepeatingWidget.prepare"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tw2.core.widgets.RepeatingWidget.prepare" title="Permalink to this definition">¶</a></dt>
<dd><p>Propagate the value for this widget to the children, based on their
index.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="tw2.core.widgets.DisplayOnlyWidget">
<em class="property">class </em><code class="descclassname">tw2.core.widgets.</code><code class="descname">DisplayOnlyWidget</code><span class="sig-paren">(</span><em>**kw</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/tw2/core/widgets.html#DisplayOnlyWidget"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tw2.core.widgets.DisplayOnlyWidget" title="Permalink to this definition">¶</a></dt>
<dd><p>A widget that has a single child. The parent widget is only used for
display purposes; it does not affect value propagation or validation.
This is used by widgets like <code class="xref py py-class docutils literal notranslate"><span class="pre">tw2.forms.FieldSet</span></code>.</p>
<dl class="classmethod">
<dt id="tw2.core.widgets.DisplayOnlyWidget.post_define">
<em class="property">classmethod </em><code class="descname">post_define</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/tw2/core/widgets.html#DisplayOnlyWidget.post_define"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tw2.core.widgets.DisplayOnlyWidget.post_define" title="Permalink to this definition">¶</a></dt>
<dd><p>This is a class method, that is called when a subclass of this Widget
is created. Process static configuration here. Use it like this:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">MyWidget</span><span class="p">(</span><span class="n">LeafWidget</span><span class="p">):</span>
    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">post_define</span><span class="p">(</span><span class="bp">cls</span><span class="p">):</span>
        <span class="nb">id</span> <span class="o">=</span> <span class="nb">getattr</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span>  <span class="s1">&#39;id&#39;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
        <span class="k">if</span> <span class="nb">id</span> <span class="ow">and</span> <span class="ow">not</span> <span class="nb">id</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s1">&#39;my&#39;</span><span class="p">):</span>
            <span class="k">raise</span> <span class="n">pm</span><span class="o">.</span><span class="n">ParameterError</span><span class="p">(</span><span class="s2">&quot;id must start with &#39;my&#39;&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>post_define should always cope with missing data - the class may be an
abstract class. There is no need to call super(), the metaclass will do
this automatically.</p>
</dd></dl>

<dl class="method">
<dt id="tw2.core.widgets.DisplayOnlyWidget.prepare">
<code class="descname">prepare</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/tw2/core/widgets.html#DisplayOnlyWidget.prepare"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tw2.core.widgets.DisplayOnlyWidget.prepare" title="Permalink to this definition">¶</a></dt>
<dd><p>This is an instance method, that is called just before the Widget is
displayed. Process request-local configuration here. For
efficiency, widgets should do as little work as possible here.
Use it like this:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">MyWidget</span><span class="p">(</span><span class="n">Widget</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">prepare</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">(</span><span class="n">MyWidget</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="n">prepare</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">value</span> <span class="o">=</span> <span class="s1">&#39;My: &#39;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">value</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="tw2.core.widgets.Page">
<em class="property">class </em><code class="descclassname">tw2.core.widgets.</code><code class="descname">Page</code><span class="sig-paren">(</span><em>**kw</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/tw2/core/widgets.html#Page"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tw2.core.widgets.Page" title="Permalink to this definition">¶</a></dt>
<dd><p>An HTML page. This widget includes a <code class="xref py py-meth docutils literal notranslate"><span class="pre">request()</span></code> method that serves
the page.</p>
<dl class="classmethod">
<dt id="tw2.core.widgets.Page.post_define">
<em class="property">classmethod </em><code class="descname">post_define</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/tw2/core/widgets.html#Page.post_define"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tw2.core.widgets.Page.post_define" title="Permalink to this definition">¶</a></dt>
<dd><p>This is a class method, that is called when a subclass of this Widget
is created. Process static configuration here. Use it like this:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">MyWidget</span><span class="p">(</span><span class="n">LeafWidget</span><span class="p">):</span>
    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">post_define</span><span class="p">(</span><span class="bp">cls</span><span class="p">):</span>
        <span class="nb">id</span> <span class="o">=</span> <span class="nb">getattr</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span>  <span class="s1">&#39;id&#39;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
        <span class="k">if</span> <span class="nb">id</span> <span class="ow">and</span> <span class="ow">not</span> <span class="nb">id</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s1">&#39;my&#39;</span><span class="p">):</span>
            <span class="k">raise</span> <span class="n">pm</span><span class="o">.</span><span class="n">ParameterError</span><span class="p">(</span><span class="s2">&quot;id must start with &#39;my&#39;&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>post_define should always cope with missing data - the class may be an
abstract class. There is no need to call super(), the metaclass will do
this automatically.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="tw2.core.Param">
<em class="property">class </em><code class="descclassname">tw2.core.</code><code class="descname">Param</code><span class="sig-paren">(</span><em>description=Default</em>, <em>default=Default</em>, <em>request_local=Default</em>, <em>attribute=Default</em>, <em>view_name=Default</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/tw2/core/params.html#Param"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tw2.core.Param" title="Permalink to this definition">¶</a></dt>
<dd><p>A parameter for a widget.</p>
<dl class="docutils">
<dt><cite>description</cite></dt>
<dd>A string to describe the parameter. When overriding a parameter
description, the string can include <code class="docutils literal notranslate"><span class="pre">$$</span></code> to insert the previous
description.</dd>
<dt><cite>default</cite></dt>
<dd>The default value for the parameter. If no defalt is specified,
the parameter is a required parameter. This can also be specified
explicitly using tw.Required.</dd>
<dt><cite>request_local</cite></dt>
<dd>Can the parameter be overriden on a per-request basis? (default:
True)</dd>
<dt><cite>attribute</cite></dt>
<dd>Should the parameter be automatically included as an attribute?
(default: False)</dd>
<dt><cite>view_name</cite></dt>
<dd>The name used for the attribute. This is useful for attributes like
<em>class</em> which are reserved names in Python. If this is None, the name
is used. (default: None)</dd>
</dl>
<p>The class takes care to record which arguments have been explictly
specifed, even if to their default value. If a parameter from a base
class is updated in a subclass, arguments that have been explicitly
specified will override the base class.</p>
</dd></dl>

<dl class="class">
<dt id="tw2.core.Deferred">
<em class="property">class </em><code class="descclassname">tw2.core.</code><code class="descname">Deferred</code><span class="sig-paren">(</span><em>fn</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/tw2/core/params.html#Deferred"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tw2.core.Deferred" title="Permalink to this definition">¶</a></dt>
<dd><p>This class is used as a wrapper around a parameter value. It takes a
callable, which will be called every time the widget is displayed, with
the returned value giving the parameter value.</p>
</dd></dl>

</div>
</div>
<div class="section" id="resources">
<span id="id2"></span><h2>Resources<a class="headerlink" href="#resources" title="Permalink to this headline">¶</a></h2>
<p>ToscaWidgets comes with resources management for widgets too.</p>
<p>Some widgets might be complex enough that they need external
resources to work properly. Typically those are CSS stylesheets
or Javascript functions.</p>
<p>The need for those can be specified in the <code class="xref py py-attr docutils literal notranslate"><span class="pre">Widget.resources</span></code>
param, which is a list of resources the widget needs to work properly</p>
<p>The <a class="reference internal" href="getstarted.html#tw2.core.middleware.TwMiddleware" title="tw2.core.middleware.TwMiddleware"><code class="xref py py-class docutils literal notranslate"><span class="pre">tw2.core.middleware.TwMiddleware</span></code></a> takes care of serving
all the resources needed by a widget through a <code class="xref py py-class docutils literal notranslate"><span class="pre">tw2.core.resources.ResourcesApp</span></code>.
There is not need to setup such application manually, having a <code class="docutils literal notranslate"><span class="pre">TwMiddleware</span></code>
in place will provide support for resources too.</p>
<p>When a widget is being prepared for display, all resources that it requires
(as specified by <code class="xref py py-attr docutils literal notranslate"><span class="pre">tw2.core.Widget.resources</span></code>)
are registered into the current request and while the response page output
goes through the middleware it will be edited to add the links (or content)
of those resources as specified by their location.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">If a resource was already injected into the page during current request
and another widget requires it, it won’t be injected twice. ToscaWidgets
is able to detect that it’s the same resource (thanks to the resource <code class="docutils literal notranslate"><span class="pre">id</span></code>)
and only inject that once.</p>
</div>
<p>To add resources to a widget simply specify them in <code class="xref py py-attr docutils literal notranslate"><span class="pre">tw2.core.Widget.resources</span></code>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">HelloWidgetClass</span><span class="p">(</span><span class="n">twc</span><span class="o">.</span><span class="n">Widget</span><span class="p">):</span>
    <span class="n">inline_engine_name</span> <span class="o">=</span> <span class="s2">&quot;kajiki&quot;</span>
    <span class="n">template</span> <span class="o">=</span> <span class="s2">&quot;&quot;&quot;</span>
<span class="s2">        &lt;i class=&quot;$</span><span class="si">{w.css_class}</span><span class="s2">&quot;&gt;Hello $</span><span class="si">{w.name}</span><span class="s2">&lt;/i&gt;</span>
<span class="s2">    &quot;&quot;&quot;</span>

    <span class="n">name</span> <span class="o">=</span> <span class="n">twc</span><span class="o">.</span><span class="n">Param</span><span class="p">(</span><span class="n">description</span><span class="o">=</span><span class="s2">&quot;Name of the greeted entity&quot;</span><span class="p">)</span>
    <span class="n">css_class</span> <span class="o">=</span> <span class="n">twc</span><span class="o">.</span><span class="n">Param</span><span class="p">(</span><span class="n">description</span><span class="o">=</span><span class="s2">&quot;Class used to display content&quot;</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="s2">&quot;red&quot;</span><span class="p">)</span>

    <span class="n">resources</span> <span class="o">=</span> <span class="p">[</span>
        <span class="n">twc</span><span class="o">.</span><span class="n">CSSSource</span><span class="p">(</span><span class="n">src</span><span class="o">=</span><span class="s2">&quot;&quot;&quot;</span>
<span class="s2">            .red { color: red; }</span>
<span class="s2">            .green { color: green; }</span>
<span class="s2">            .blue { color: blue; }</span>
<span class="s2">        &quot;&quot;&quot;</span><span class="p">)</span>
    <span class="p">]</span>
</pre></div>
</div>
<p>Once the page where the widget is displayed is rendered, you will
see that it begins with:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>&lt;!DOCTYPE html&gt;
&lt;html&gt;
&lt;head&gt;&lt;style type=&quot;text/css&quot;&gt;
            .red { color: red; }
            .green { color: green; }
            .blue { color: blue; }
        &lt;/style&gt;
&lt;meta content=&quot;width=device-width, initial-scale=1.0&quot; name=&quot;viewport&quot;&gt;
&lt;meta charset=&quot;utf-8&quot;&gt;
</pre></div>
</div>
<p>Which contains the CSS resource you specified as a dependency of your widget.</p>
<p>In case you are using a solution to package your resources into bundles like
WebPack, WebAssets or similar, you might want to disable resources injection
using <code class="docutils literal notranslate"><span class="pre">inject_resoures=False</span></code> option provided to <a class="reference internal" href="getstarted.html#tw2.core.middleware.TwMiddleware" title="tw2.core.middleware.TwMiddleware"><code class="xref py py-class docutils literal notranslate"><span class="pre">tw2.core.middleware.TwMiddleware</span></code></a>
to avoid injecting resources that were already packed into your bundle.</p>
<div class="section" id="module-tw2.core.resources">
<span id="builtin-resource-types"></span><h3>Builtin Resource Types<a class="headerlink" href="#module-tw2.core.resources" title="Permalink to this headline">¶</a></h3>
<dl class="class">
<dt id="tw2.core.resources.ResourceBundle">
<em class="property">class </em><code class="descclassname">tw2.core.resources.</code><code class="descname">ResourceBundle</code><span class="sig-paren">(</span><em>**kw</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/tw2/core/resources.html#ResourceBundle"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tw2.core.resources.ResourceBundle" title="Permalink to this definition">¶</a></dt>
<dd><p>Just a list of resources.</p>
<p>Use it as follows:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">jquery_ui</span> <span class="o">=</span> <span class="n">ResourceBundle</span><span class="p">(</span><span class="n">resources</span><span class="o">=</span><span class="p">[</span><span class="n">jquery_js</span><span class="p">,</span> <span class="n">jquery_css</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">jquery_ui</span><span class="o">.</span><span class="n">inject</span><span class="p">()</span>
</pre></div>
</div>
</dd></dl>

<dl class="class">
<dt id="tw2.core.resources.Resource">
<em class="property">class </em><code class="descclassname">tw2.core.resources.</code><code class="descname">Resource</code><span class="sig-paren">(</span><em>**kw</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/tw2/core/resources.html#Resource"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tw2.core.resources.Resource" title="Permalink to this definition">¶</a></dt>
<dd><p>A resource required by a widget being displayed.</p>
<p><code class="docutils literal notranslate"><span class="pre">location</span></code> states where the resource should be injected
into the page. Can be any of <code class="docutils literal notranslate"><span class="pre">head</span></code>, <code class="docutils literal notranslate"><span class="pre">headbottom</span></code>,
<code class="docutils literal notranslate"><span class="pre">bodytop</span></code> or <code class="docutils literal notranslate"><span class="pre">bodybottom</span></code> or <code class="docutils literal notranslate"><span class="pre">None</span></code>.</p>
</dd></dl>

<dl class="class">
<dt id="tw2.core.resources.Link">
<em class="property">class </em><code class="descclassname">tw2.core.resources.</code><code class="descname">Link</code><span class="sig-paren">(</span><em>**kw</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/tw2/core/resources.html#Link"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tw2.core.resources.Link" title="Permalink to this definition">¶</a></dt>
<dd><p>A link to a file.</p>
<p>The <code class="docutils literal notranslate"><span class="pre">link</span></code> parameter can be used to specify the explicit
link to a URL.</p>
<p>If omitted, the link will be built to serve <code class="docutils literal notranslate"><span class="pre">filename</span></code>
from <code class="docutils literal notranslate"><span class="pre">modname</span></code> as a resource coming from a python
distribution.</p>
<dl class="classmethod">
<dt id="tw2.core.resources.Link.guess_modname">
<em class="property">classmethod </em><code class="descname">guess_modname</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/tw2/core/resources.html#Link.guess_modname"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tw2.core.resources.Link.guess_modname" title="Permalink to this definition">¶</a></dt>
<dd><p>Try to guess my modname.</p>
<p>If I wasn’t supplied any modname, take a guess by stepping back up the
frame stack until I find something not in tw2.core</p>
</dd></dl>

<dl class="classmethod">
<dt id="tw2.core.resources.Link.post_define">
<em class="property">classmethod </em><code class="descname">post_define</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/tw2/core/resources.html#Link.post_define"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tw2.core.resources.Link.post_define" title="Permalink to this definition">¶</a></dt>
<dd><p>This is a class method, that is called when a subclass of this Widget
is created. Process static configuration here. Use it like this:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">MyWidget</span><span class="p">(</span><span class="n">LeafWidget</span><span class="p">):</span>
    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">post_define</span><span class="p">(</span><span class="bp">cls</span><span class="p">):</span>
        <span class="nb">id</span> <span class="o">=</span> <span class="nb">getattr</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span>  <span class="s1">&#39;id&#39;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
        <span class="k">if</span> <span class="nb">id</span> <span class="ow">and</span> <span class="ow">not</span> <span class="nb">id</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s1">&#39;my&#39;</span><span class="p">):</span>
            <span class="k">raise</span> <span class="n">pm</span><span class="o">.</span><span class="n">ParameterError</span><span class="p">(</span><span class="s2">&quot;id must start with &#39;my&#39;&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>post_define should always cope with missing data - the class may be an
abstract class. There is no need to call super(), the metaclass will do
this automatically.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="tw2.core.resources.DirLink">
<em class="property">class </em><code class="descclassname">tw2.core.resources.</code><code class="descname">DirLink</code><span class="sig-paren">(</span><em>**kw</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/tw2/core/resources.html#DirLink"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tw2.core.resources.DirLink" title="Permalink to this definition">¶</a></dt>
<dd><p>A whole directory as a resource.</p>
<p>Unlike <a class="reference internal" href="#tw2.core.resources.JSLink" title="tw2.core.resources.JSLink"><code class="xref py py-class docutils literal notranslate"><span class="pre">JSLink</span></code></a> and <a class="reference internal" href="#tw2.core.resources.CSSLink" title="tw2.core.resources.CSSLink"><code class="xref py py-class docutils literal notranslate"><span class="pre">CSSLink</span></code></a>, this resource doesn’t inject
anything on the page.. but it does register all resources under the
marked directory to be served by the middleware.</p>
<p>This is useful if you have a css file that pulls in a number of other
static resources like icons and images.</p>
</dd></dl>

<dl class="class">
<dt id="tw2.core.resources.JSLink">
<em class="property">class </em><code class="descclassname">tw2.core.resources.</code><code class="descname">JSLink</code><span class="sig-paren">(</span><em>**kw</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/tw2/core/resources.html#JSLink"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tw2.core.resources.JSLink" title="Permalink to this definition">¶</a></dt>
<dd><p>A JavaScript source file.</p>
<p>By default is injected in whatever default place
is specified by the middleware.</p>
</dd></dl>

<dl class="class">
<dt id="tw2.core.resources.CSSLink">
<em class="property">class </em><code class="descclassname">tw2.core.resources.</code><code class="descname">CSSLink</code><span class="sig-paren">(</span><em>**kw</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/tw2/core/resources.html#CSSLink"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tw2.core.resources.CSSLink" title="Permalink to this definition">¶</a></dt>
<dd><p>A CSS style sheet.</p>
<p>By default it’s injected at the top of the head node.</p>
</dd></dl>

<dl class="class">
<dt id="tw2.core.resources.JSSource">
<em class="property">class </em><code class="descclassname">tw2.core.resources.</code><code class="descname">JSSource</code><span class="sig-paren">(</span><em>**kw</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/tw2/core/resources.html#JSSource"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tw2.core.resources.JSSource" title="Permalink to this definition">¶</a></dt>
<dd><p>Inline JavaScript source code.</p>
<p>By default is injected before the &lt;/body&gt; is closed</p>
</dd></dl>

<dl class="class">
<dt id="tw2.core.resources.CSSSource">
<em class="property">class </em><code class="descclassname">tw2.core.resources.</code><code class="descname">CSSSource</code><span class="sig-paren">(</span><em>**kw</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/tw2/core/resources.html#CSSSource"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tw2.core.resources.CSSSource" title="Permalink to this definition">¶</a></dt>
<dd><p>Inline Cascading Style-Sheet code.</p>
<p>By default it’s injected at the top of the head node.</p>
</dd></dl>

</div>
</div>
</div>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="index.html">ToscaWidgets2</a></h1>








<h3>Navigation</h3>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="getstarted.html">Getting Started</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Widgets</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#using-widgets">Using Widgets</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#widget-value">Widget value</a></li>
<li class="toctree-l3"><a class="reference internal" href="#parameters">Parameters</a></li>
<li class="toctree-l3"><a class="reference internal" href="#deferred-parameters">Deferred Parameters</a></li>
<li class="toctree-l3"><a class="reference internal" href="#builtin-widgets">Builtin Widgets</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#resources">Resources</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#module-tw2.core.resources">Builtin Resource Types</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="forms.html">Forms</a></li>
<li class="toctree-l1"><a class="reference internal" href="validation.html">Validation</a></li>
<li class="toctree-l1"><a class="reference internal" href="javascript.html">Javascript Integration</a></li>
<li class="toctree-l1"><a class="reference internal" href="design.html">Design</a></li>
<li class="toctree-l1"><a class="reference internal" href="changelog.html">Changelog</a></li>
</ul>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="index.html">Documentation overview</a><ul>
      <li>Previous: <a href="getstarted.html" title="previous chapter">Getting Started</a></li>
      <li>Next: <a href="forms.html" title="next chapter">Forms</a></li>
  </ul></li>
</ul>
</div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    </div>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>








        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2019, Alessandro Molina.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 1.8.4</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.12</a>
      
      |
      <a href="_sources/widget.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>