{
  "$schema": "http://json-schema.org/draft-04/schema#",
  "description": "Schema for UIutil ui layout config",

  "definitions": {

    "root_layouts": {
      "type": "object",
      "additionalProperties": {
        "$ref": "#/definitions/root_layout"
      }
    },

    "root_layout": {
      "type": "object",
      "properties": {
        "expand_col": {
          "type": "array"
        },
        "expand_row": {
          "type": "array"
        },
        "frames": {
          "type": "object",
          "minProperties": 1,
          "additionalProperties": {
            "$ref": "#/definitions/root_layout_frame"
          }
        },
        "variables": {
          "type": "array",
          "items": {
            "$ref": "#/definitions/variable"
          }
        }
      },
      "required": [
        "frames"
      ],
      "additionalProperties": false
    },

    "root_layout_frame": {
      "type": "object",
      "properties": {
        "class": {
          "type": "string"
        },
        "key": {
          "type": "string"
        },
        "row": {
          "type": "number"
        },
        "column": {
          "type": "number"
        },
        "sticky": {
          "type": "string"
        },
        "scroll_vertical": {
          "type": "boolean"
        },
        "scroll_horizontal": {
          "type": "boolean"
        }
      },
      "required": [
        "class",
        "key",
        "row",
        "column"
      ],
      "additionalProperties": false
    },

    "widget_layouts": {
      "type": "object",
      "additionalProperties": {
        "$ref": "#/definitions/widget_layout"
      }
    },

    "widget_layout": {
      "type": "object",
      "properties": {
        "expand_col": {
          "type": "array"
        },
        "expand_row": {
          "type": "array"
        },
        "item_key": {
          "type": "string"
        },
        "iterable": {
          "type": "number"
        },
        "sort_iterable": {
          "type": "boolean"
        },
        "force_iter_list": {
          "type": "boolean"
        },
        "rows_first": {
          "type": "boolean"
        },
        "widget_grid": {
          "type": "array",
          "minItems": 1,
          "items": {
            "$ref": "#/definitions/widget_grid_line"
          }
        }
      },
      "required": [
        "rows_first",
        "widget_grid"
      ],
      "additionalProperties": false
    },

    "widget_grid_line": {
      "type": "object",
      "properties": {
        "default": {"type": "boolean"},
        "line": {
          "type": "array",
          "minItems": 1,
          "items": {
            "$ref": "#/definitions/widget"
          }
        }
      },
      "required": [
        "line"
      ],
      "additionalProperties": false
    },

    "widget": {
      "type": "object",
      "properties": {
        "name": {
          "type": "string"
        },
        "type": {
          "type": "string"
        },
        "kwargs": {
          "type": "object",
          "additionalProperties": {
            "$ref": "#/definitions/widget_kwarg"
          }
        },
        "binding": {
          "$ref": "#/definitions/widget_binding"
        },
        "var": {
          "$ref": "#/definitions/variable"
        }
      },
      "required": [
        "name",
        "type",
        "var"
      ],
      "additionalProperties": false
    },

    "widget_kwarg": {
      "type": "object",
      "properties": {
        "value": {
          "type": ["string", "number"]
        },
        "location": {
          "type": "string"
        },
        "lambda": {
          "type": "boolean"
        }
      },
      "required": [
        "value"
      ],
      "additionalProperties": false
    },

    "widget_binding": {
      "type": "object",
      "properties": {
        "function": {
          "$ref": "#/definitions/widget_kwarg"
        },
        "events": {
          "type": "array",
          "items": {
            "type": "string"
          }
        }
      },
      "required": [
        "function"
      ]
    },

    "variable": {
      "type": "object",
      "properties": {
        "name": {
          "type": "string"
        },
        "type": {
          "type": "string"
        },
        "settings": {
          "$ref": "#/definitions/variable_settings"
        }
      },
      "required": [
        "type"
      ],
      "additionalProperties": false
    },

    "variable_settings": {
      "type": "object",
      "properties": {
        "value": {
          "$ref": "#/definitions/widget_kwarg"
        },
        "trace": {
          "$ref": "#/definitions/widget_kwarg"
        }
      }
    }

  },

  "type": "object",
  "properties": {
    "root_layouts": { "$ref": "#/definitions/root_layouts" },
    "widget_layouts": { "$ref": "#/definitions/widget_layouts" }
  },
  "required": ["root_layouts", "widget_layouts"],
  "additionalProperties": false
}